(this.webpackJsonpgotfilm=this.webpackJsonpgotfilm||[]).push([[0],{147:function(e,t,n){},149:function(e,t,n){},151:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(32),l=n.n(i),s=(n(142),n(55)),a=n(59),r=n(115),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,249)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,l=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),l(e),s(e)}))},m=(n(147),n(46)),j=n(27),d=n(9),f=n(42),u=n(60),b=n(244),h=n(4),O=function(){return Object(h.jsxs)("svg",{viewBox:"0 0 24 24",width:"55px",height:"50px",children:["  ",Object(h.jsx)("path",{d:"M 9 2 C 5.1458514 2 2 5.1458514 2 9 C 2 12.854149 5.1458514 16 9 16 C 10.747998 16 12.345009 15.348024 13.574219 14.28125 L 14 14.707031 L 14 16 L 20 22 L 22 20 L 16 14 L 14.707031 14 L 14.28125 13.574219 C 15.348024 12.345009 16 10.747998 16 9 C 16 5.1458514 12.854149 2 9 2 z M 9 4 C 11.773268 4 14 6.2267316 14 9 C 14 11.773268 11.773268 14 9 14 C 6.2267316 14 4 11.773268 4 9 C 4 6.2267316 6.2267316 4 9 4 z"})]})},p=function(e){return Object(h.jsx)(b.a,Object(u.a)({component:O},e))},x=(n(149),function(e){return Object(h.jsxs)("div",{className:"main-page",children:[Object(h.jsx)("h1",{className:"main-page__title",children:"gotfilm"}),Object(h.jsx)(f.a,{className:"main-page__icon",to:"/film",children:Object(h.jsx)(p,{})})]})}),_=function(e){return Object(h.jsx)("div",{children:"Catalog"})},g=n(245),F=n(246),v=n(248),k=n(134),N=(n(151),function(e){return Object(h.jsxs)(g.a,{name:"normal_login",className:"loginForm",initialValues:{remember:!0},onFinish:function(e){console.log("Received values of form: ",e)},children:[Object(h.jsx)("h1",{className:"loginForm__title",children:"\u0412\u0445\u043e\u0434"}),Object(h.jsx)(g.a.Item,{name:"username",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u043d\u0438\u043a!"}],children:Object(h.jsx)(F.a,{placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f"})}),Object(h.jsx)(g.a.Item,{name:"password",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:Object(h.jsx)(F.a.Password,{type:"password",placeholder:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(h.jsxs)(g.a.Item,{children:[Object(h.jsx)(g.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(h.jsx)(v.a,{children:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"})}),Object(h.jsx)(f.b,{className:"loginForm__forgot",to:"/recovery_password",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]}),Object(h.jsxs)(g.a.Item,{children:[Object(h.jsx)(k.a,{htmlType:"submit",className:"loginForm__button",children:"\u0412\u043e\u0439\u0442\u0438"}),"\u0438\u043b\u0438 ",Object(h.jsx)(f.b,{to:"/registration",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})}),C=(n(219),function(e){return Object(h.jsxs)(g.a,{name:"normal_login",className:"regForm",initialValues:{remember:!0},onFinish:function(e){console.log("Received values of form: ",e)},children:[Object(h.jsx)("h1",{className:"regForm__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(h.jsx)(g.a.Item,{name:"username",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u043d\u0438\u043a!"}],children:Object(h.jsx)(F.a,{placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f"})}),Object(h.jsx)(g.a.Item,{name:"email",rules:[{type:"email",required:!0,message:"\u0412\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0439 \u043f\u043e\u0447\u0442\u0432\u043e\u0439 \u0430\u0434\u0440\u0435\u0441 \u043d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d"},{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043f\u043e\u0447\u0442\u0443"}],children:Object(h.jsx)(F.a,{placeholder:"\u0412\u0430\u0448\u0430 \u043f\u043e\u0447\u0442\u0430"})}),Object(h.jsx)(g.a.Item,{name:"password",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],hasFeedback:!0,children:Object(h.jsx)(F.a.Password,{placeholder:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(h.jsx)(g.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0432\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject(new Error("\u0412\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435\u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442!")):Promise.resolve()}}}],children:Object(h.jsx)(F.a.Password,{placeholder:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(h.jsx)(g.a.Item,{name:"agreement",valuePropName:"checked",rules:[{validator:function(e,t){return t?Promise.resolve():Promise.reject(new Error("\u0414\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u0438\u043c\u0438\u0442\u0435 \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435"))}}],children:Object(h.jsxs)(v.a,{children:["\u042f \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043b(\u0430) ",Object(h.jsx)(f.b,{to:"/agreement",children:"\u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435"})]})}),Object(h.jsx)(g.a.Item,{children:Object(h.jsx)(k.a,{htmlType:"submit",className:"regForm__button",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),Object(h.jsx)(f.b,{to:"/login",children:"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]})}),w=(n(220),function(e){return Object(h.jsx)("button",{onClick:e.eventAction,className:"button",children:e.children})}),y=function(e){return Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 676 400",fill:"gold",stroke:"black",strokeWidth:"30",children:Object(h.jsx)("path",{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"})})},S=(n(221),function(e){var t=e.film.genres.map((function(e,t){return Object(h.jsxs)("span",{children:[e,", "]},t)})),n=e.film.countries.map((function(t,n){return n+1<e.film.countries.length?Object(h.jsxs)("span",{children:[t,", "]},n):Object(h.jsx)("span",{children:t},n)}));return Object(h.jsxs)("div",{className:"filmCard--wrapper",children:[Object(h.jsx)("div",{className:"filmCard__poster",children:Object(h.jsx)("img",{src:"https://kinopoiskapiunofficial.tech/images/posters/kp_small/".concat(e.film.id,".jpg"),alt:"poster",className:"filmCard__poster__image"})}),Object(h.jsxs)("div",{className:"filmCard__infoBlock",children:[Object(h.jsxs)("div",{className:"filmCard__infoBlock--titleWrapper",children:[Object(h.jsx)("h3",{className:"filmCard__infoBlock__title",style:{fontSize:e.changeFontSize()},children:e.film.name}),Object(h.jsxs)("p",{className:"filmCard__infoBlock__rate",children:[Object(h.jsx)(y,{}),e.film.rate]})]}),Object(h.jsxs)("div",{className:"filmCard__infoBlock--secondTitleWrapper",children:[Object(h.jsx)("p",{className:"filmCard__infoBlock__secondTitle",children:e.film.secondName}),Object(h.jsxs)("p",{className:"filmCard__infoBlock__year",children:[e.film.year,"\u0433. (",n,")"]})]}),Object(h.jsxs)("p",{className:"filmCard__infoBlock__genre",children:[t,Object(h.jsx)("span",{children:e.film.age})]}),Object(h.jsx)("hr",{className:"filmCard__infoBlock--underline"}),Object(h.jsx)("p",{className:"filmCard__infoBlock__description",children:e.film.description})]}),Object(h.jsxs)("div",{className:"filmCard__footer",children:[Object(h.jsxs)("div",{className:"filmCard__footer__buttonGroup",children:[Object(h.jsx)(w,{eventAction:e.removeFilm,children:"\u0443\u0436\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"}),Object(h.jsx)(w,{eventAction:e.seenFilm,children:"\u043d\u0435 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0442\u044c"}),Object(h.jsx)(w,{eventAction:e.changeFilm,children:"\u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u0440\u0430\u0437"})]}),Object(h.jsx)("div",{className:"filmCard__footer__emptyBlock",ref:e.cardEndRef})]}),Object(h.jsx)("div",{className:"navigation"})]})}),L="@@film/LOAD_FILMS",I="@@film/BLACKLIST_FILMS",E="@@film/ALREADY_SEEN_FILMS",B="@@film/CHANGE_FILM",T="@@film/GET_RANDOM_FILM",A=function(e){return{type:B,film:e}},M=function(e){return{type:I,film:e}},R=function(e){return{type:E,film:e}},P=Object(m.a)((function(e){var t=e.filmReducer;return{films:t.films,film:t.film,blacklistFilms:t.blacklistFilms,alreadySeenFilms:t.alreadySeenFilms}}),(function(e){return Object(j.b)({changeFilm:A,addToBlacklistFilms:M,addToAlreadySeenFilms:R},e)}))((function(e){Object(c.useEffect)((function(){n()}),[]),Object(c.useEffect)((function(){n()}),[e.film]);var t=Object(c.useRef)(null),n=function(){t.current.scrollIntoView({behavior:"smooth"})},i=Object(c.useCallback)((function(){var t=Math.round(Math.random()*(e.films.length-1-0)+0);e.alreadySeenFilms.includes(e.films[t])||e.blacklistFilms.includes(e.films[t])||e.changeFilm(t)}),[e.films,e.alreadySeenFilms,e.blacklistFilms,e.film]),l=Object(c.useCallback)((function(){e.blacklistFilms.includes(e.film)||e.addToBlacklistFilms(e.film),i()}),[e.blacklistFilms,e.film]),s=Object(c.useCallback)((function(){e.blacklistFilms.includes(e.film)||e.addToAlreadySeenFilms(e.film),i()}),[e.alreadySeenFilms,e.film]),a=Object(c.useCallback)((function(){return e.film.name.length>15&&e.film.name.length<30?"20px":e.film.name.length>=30?"18px":"25px"}),[e.film]);return Object(h.jsx)(S,{cardEndRef:t,film:e.film,changeFilm:i,removeFilm:l,seenFilm:s,changeFontSize:a})})),D=function(e){return Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{exact:!0,path:"/",component:x}),Object(h.jsx)(d.a,{path:"/catalog",component:_}),Object(h.jsx)(d.a,{path:"/login",component:N}),Object(h.jsx)(d.a,{path:"/registration",component:C}),Object(h.jsx)(d.a,{path:"/film",component:P})]})},q=n(91),z=n.n(q),V=n(127),$=n(128),X=n.n($),G=function(){return function(){var e=Object(V.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.get("./films.json").then((function(e){var n;t((n=e.data,{type:L,films:n})),t({type:T})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},W=Object(m.a)(null,(function(e){return Object(j.b)({getFilmsFromApi:G},e)}))((function(e){return Object(c.useEffect)((function(){e.getFilmsFromApi()}),[]),Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(D,{})})})),J=n(52),U=n(30),H=n(113),K=n(92),Y=n(129),Q=n.n(Y),Z=n(130),ee=n.n(Z),te=n(131),ne=n(53),ce=n.n(ne),ie={films:[],film:{},blacklistFilms:[],alreadySeenFilms:[]};function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return ce()(e,{films:{$set:Object(J.a)(t.films)}});case T:var n=Math.round(Math.random()*(e.films.length-1-0)+0);return ce()(e,{film:{$set:Object(u.a)({},e.films[n])}});case B:return ce()(e,{film:{$set:Object(u.a)({},e.films[t.film])}});case I:return ce()(e,{blacklistFilms:{$merge:[].concat(Object(J.a)(e.blacklistFilms),[t.film])}});case E:return ce()(e,{alreadySeenFilms:{$merge:[].concat(Object(J.a)(e.alreadySeenFilms),[t.film])}});default:return e}}var se,ae=[function(e){return function(e){return function(t){return e(t)}}}],re=Object(U.a)(),oe={key:"filmSearch",storage:Q.a,stateReconciler:ee.a,whitelist:["filmReducer"]},me=Object(j.e)(Object(K.a)(oe,(se=re,Object(j.c)({router:Object(s.b)(se),filmReducer:le}))),Object(j.d)(j.a.apply(void 0,[Object(H.a)(re),te.a].concat(Object(J.a)(ae))),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),je=Object(K.b)(me);l.a.render(Object(h.jsx)(a.a,{store:me,children:Object(h.jsx)(r.a,{loading:null,persistor:je,children:Object(h.jsx)(s.a,{history:re,children:Object(h.jsx)(W,{})})})}),document.getElementById("root")),o()}},[[241,1,2]]]);
//# sourceMappingURL=main.3d0915f8.chunk.js.map