(this.webpackJsonpgotfilm=this.webpackJsonpgotfilm||[]).push([[0],{153:function(e,t,c){},155:function(e,t,c){},157:function(e,t,c){},225:function(e,t,c){},226:function(e,t,c){},227:function(e,t,c){},247:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c(33),l=c.n(i),s=(c(148),c(59)),a=c(63),r=c(124),o=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,256)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,l=t.getLCP,s=t.getTTFB;c(e),n(e),i(e),l(e),s(e)}))},m=(c(153),c(50)),j=c(23),d=c(10),f=c(44),b=c(64),u=c(250),h=c(5),O=function(){return Object(h.jsxs)("svg",{viewBox:"0 0 24 24",width:"55px",height:"50px",children:["  ",Object(h.jsx)("path",{d:"M 9 2 C 5.1458514 2 2 5.1458514 2 9 C 2 12.854149 5.1458514 16 9 16 C 10.747998 16 12.345009 15.348024 13.574219 14.28125 L 14 14.707031 L 14 16 L 20 22 L 22 20 L 16 14 L 14.707031 14 L 14.28125 13.574219 C 15.348024 12.345009 16 10.747998 16 9 C 16 5.1458514 12.854149 2 9 2 z M 9 4 C 11.773268 4 14 6.2267316 14 9 C 14 11.773268 11.773268 14 9 14 C 6.2267316 14 4 11.773268 4 9 C 4 6.2267316 6.2267316 4 9 4 z"})]})},p=function(e){return Object(h.jsx)(u.a,Object(b.a)({component:O},e))},_=(c(155),function(e){return Object(h.jsxs)("div",{className:"main-page",children:[Object(h.jsx)("h1",{className:"main-page__title",children:"gotfilm"}),Object(h.jsx)(f.a,{className:"main-page__icon",to:"/film",children:Object(h.jsx)(p,{})})]})}),x=function(e){return Object(h.jsx)("div",{children:"Catalog"})},g=c(251),F=c(253),v=c(255),k=c(140),N=(c(157),function(e){return Object(h.jsxs)(g.a,{name:"normal_login",className:"loginForm",initialValues:{remember:!0},onFinish:function(e){console.log("Received values of form: ",e)},children:[Object(h.jsx)("h1",{className:"loginForm__title",children:"\u0412\u0445\u043e\u0434"}),Object(h.jsx)(g.a.Item,{name:"username",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u043d\u0438\u043a!"}],children:Object(h.jsx)(F.a,{placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f"})}),Object(h.jsx)(g.a.Item,{name:"password",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],children:Object(h.jsx)(F.a.Password,{type:"password",placeholder:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(h.jsxs)(g.a.Item,{children:[Object(h.jsx)(g.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(h.jsx)(v.a,{children:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"})}),Object(h.jsx)(f.b,{className:"loginForm__forgot",to:"/recovery_password",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]}),Object(h.jsxs)(g.a.Item,{children:[Object(h.jsx)(k.a,{htmlType:"submit",className:"loginForm__button",children:"\u0412\u043e\u0439\u0442\u0438"}),"\u0438\u043b\u0438 ",Object(h.jsx)(f.b,{to:"/registration",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})}),C=(c(225),function(e){return Object(h.jsxs)(g.a,{name:"normal_login",className:"regForm",initialValues:{remember:!0},onFinish:function(e){console.log("Received values of form: ",e)},children:[Object(h.jsx)("h1",{className:"regForm__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(h.jsx)(g.a.Item,{name:"username",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u043d\u0438\u043a!"}],children:Object(h.jsx)(F.a,{placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f"})}),Object(h.jsx)(g.a.Item,{name:"email",rules:[{type:"email",required:!0,message:"\u0412\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0439 \u043f\u043e\u0447\u0442\u0432\u043e\u0439 \u0430\u0434\u0440\u0435\u0441 \u043d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d"},{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043f\u043e\u0447\u0442\u0443"}],children:Object(h.jsx)(F.a,{placeholder:"\u0412\u0430\u0448\u0430 \u043f\u043e\u0447\u0442\u0430"})}),Object(h.jsx)(g.a.Item,{name:"password",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],hasFeedback:!0,children:Object(h.jsx)(F.a.Password,{placeholder:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(h.jsx)(g.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0432\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c!"},function(e){var t=e.getFieldValue;return{validator:function(e,c){return c&&t("password")!==c?Promise.reject(new Error("\u0412\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435\u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442!")):Promise.resolve()}}}],children:Object(h.jsx)(F.a.Password,{placeholder:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(h.jsx)(g.a.Item,{name:"agreement",valuePropName:"checked",rules:[{validator:function(e,t){return t?Promise.resolve():Promise.reject(new Error("\u0414\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u0438\u043c\u0438\u0442\u0435 \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435"))}}],children:Object(h.jsxs)(v.a,{children:["\u042f \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043b(\u0430) ",Object(h.jsx)(f.b,{to:"/agreement",children:"\u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435"})]})}),Object(h.jsx)(g.a.Item,{children:Object(h.jsx)(k.a,{htmlType:"submit",className:"regForm__button",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),Object(h.jsx)(f.b,{to:"/login",children:"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]})}),y=c(252),w=(c(226),function(e){return Object(h.jsx)("button",{onClick:e.eventAction,className:"button",children:e.children})}),S=function(e){return Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 676 400",fill:"gold",stroke:"black",strokeWidth:"30",children:Object(h.jsx)("path",{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"})})},L=(c(227),"https://st.kp.yandex.net/images"),I=function(e){var t=e.film.genres.map((function(e,t){return Object(h.jsxs)("span",{children:[e,", "]},t)})),c=e.film.countries.map((function(t,c){return c+1<e.film.countries.length?Object(h.jsxs)("span",{children:[t,", "]},c):Object(h.jsx)("span",{children:t},c)}));return Object(h.jsxs)("div",{className:"filmCard--wrapper",children:[Object(h.jsxs)("div",{className:"filmCard__poster",children:[Object(h.jsx)("img",{className:"filmCard__poster__background",src:"".concat(L,"/film_iphone/iphone360_").concat(e.film.id,".jpg")}),Object(h.jsx)(y.a,{className:"filmCard__poster__image",preview:{src:"".concat(L,"/film_big/").concat(e.film.id,".jpg")},src:"".concat(L,"/film_iphone/iphone360_").concat(e.film.id,".jpg")})]}),Object(h.jsxs)("div",{className:"filmCard__infoBlock",children:[Object(h.jsxs)("div",{className:"filmCard__infoBlock--titleWrapper",children:[Object(h.jsx)("h3",{className:"filmCard__infoBlock__title",style:{fontSize:e.changeFontSize()},children:e.film.name}),Object(h.jsxs)("p",{className:"filmCard__infoBlock__rate",children:[Object(h.jsx)(S,{}),e.film.rate]})]}),Object(h.jsxs)("div",{className:"filmCard__infoBlock--secondTitleWrapper",children:[Object(h.jsx)("p",{className:"filmCard__infoBlock__secondTitle",children:e.film.secondName}),Object(h.jsxs)("p",{className:"filmCard__infoBlock__year",children:[e.film.year,"\u0433. (",c,")"]})]}),Object(h.jsxs)("p",{className:"filmCard__infoBlock__genre",children:[t,Object(h.jsx)("span",{children:e.film.age})]}),Object(h.jsx)("hr",{className:"filmCard__infoBlock--underline"}),Object(h.jsx)("input",{type:"checkbox",name:"hiddenDesc",id:"hiddenDesc",className:"inputDesc"}),Object(h.jsx)("label",{htmlFor:"hiddenDesc",className:"filmCard__infoBlock__description--label",children:Object(h.jsx)("p",{className:"filmCard__infoBlock__description",children:e.film.description})})]}),Object(h.jsxs)("div",{className:"filmCard__footer",children:[Object(h.jsxs)("div",{className:"filmCard__footer__buttonGroup",children:[Object(h.jsx)(w,{eventAction:e.removeFilm,children:"\u0443\u0436\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u043b"}),Object(h.jsx)(w,{eventAction:e.seenFilm,children:"\u043d\u0435 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0442\u044c"}),Object(h.jsx)(w,{eventAction:e.changeFilm,children:"\u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u0440\u0430\u0437"})]}),Object(h.jsx)("div",{className:"filmCard__footer__emptyBlock",ref:e.cardEndRef})]}),Object(h.jsx)("div",{className:"navigation"})]})},E="@@film/LOAD_FILMS",B="@@film/BLACKLIST_FILMS",T="@@film/ALREADY_SEEN_FILMS",A="@@film/CHANGE_FILM",M="@@film/GET_RANDOM_FILM",R=function(e){return{type:A,film:e}},D=function(e){return{type:B,film:e}},P=function(e){return{type:T,film:e}},q=Object(m.a)((function(e){var t=e.filmReducer;return{films:t.films,film:t.film,blacklistFilms:t.blacklistFilms,alreadySeenFilms:t.alreadySeenFilms}}),(function(e){return Object(j.b)({changeFilm:R,addToBlacklistFilms:D,addToAlreadySeenFilms:P},e)}))((function(e){Object(n.useEffect)((function(){c()}),[]),Object(n.useEffect)((function(){c()}),[e.film]);var t=Object(n.useRef)(null),c=function(){t.current.scrollIntoView({behavior:"smooth"})},i=Object(n.useCallback)((function(){var t=Math.round(Math.random()*(e.films.length-1-0)+0);e.alreadySeenFilms.includes(e.films[t])||e.blacklistFilms.includes(e.films[t])||e.changeFilm(t)}),[e.films,e.alreadySeenFilms,e.blacklistFilms,e.film]),l=Object(n.useCallback)((function(){e.blacklistFilms.includes(e.film)||e.addToBlacklistFilms(e.film),i()}),[e.blacklistFilms,e.film]),s=Object(n.useCallback)((function(){e.blacklistFilms.includes(e.film)||e.addToAlreadySeenFilms(e.film),i()}),[e.alreadySeenFilms,e.film]),a=Object(n.useCallback)((function(){return e.film.name.length>15&&e.film.name.length<30?"20px":e.film.name.length>=30?"18px":"25px"}),[e.film]);return Object(h.jsx)(I,{cardEndRef:t,film:e.film,changeFilm:i,removeFilm:l,seenFilm:s,changeFontSize:a})})),z=function(e){return Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{exact:!0,path:"/",component:_}),Object(h.jsx)(d.a,{path:"/catalog",component:x}),Object(h.jsx)(d.a,{path:"/login",component:N}),Object(h.jsx)(d.a,{path:"/registration",component:C}),Object(h.jsx)(d.a,{path:"/film",component:q})]})},V=c(98),$=c.n(V),X=c(134),G=c(135),W=c.n(G),J=function(){return function(){var e=Object(X.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get("./films.json").then((function(e){var c;t((c=e.data,{type:E,films:c})),t({type:M})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=Object(m.a)(null,(function(e){return Object(j.b)({getFilmsFromApi:J},e)}))((function(e){return Object(n.useEffect)((function(){e.getFilmsFromApi()}),[]),Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(z,{})})})),H=c(48),K=c(31),Y=c(122),Q=c(100),Z=c(136),ee=c.n(Z),te=c(137),ce=c.n(te),ne=c(99),ie=c(57),le=c.n(ie),se={films:[],film:{},blacklistFilms:[],alreadySeenFilms:[]};function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return le()(e,{films:{$set:Object(H.a)(t.films)}});case M:var c=Math.round(Math.random()*(e.films.length-1-0)+0);return le()(e,{film:{$set:Object(b.a)({},e.films[c])}});case A:return le()(e,{film:{$set:Object(b.a)({},e.films[t.film])}});case B:return le()(e,{blacklistFilms:{$merge:[].concat(Object(H.a)(e.blacklistFilms),[t.film])}});case T:return le()(e,{alreadySeenFilms:{$merge:[].concat(Object(H.a)(e.alreadySeenFilms),[t.film])}});default:return e}}var re,oe=[function(e){return function(e){return function(t){return e(t)}}}],me=Object(K.a)(),je={key:"filmSearch",storage:ee.a,stateReconciler:ce.a,whitelist:["filmReducer"]},de=window.__REDUX_DEVTOOLS_EXTENSION__?Object(j.d)(j.a.apply(void 0,[Object(Y.a)(me),ne.a].concat(Object(H.a)(oe))),window.__REDUX_DEVTOOLS_EXTENSION__()):Object(j.d)(j.a.apply(void 0,[Object(Y.a)(me),ne.a].concat(Object(H.a)(oe)))),fe=Object(j.e)(Object(Q.a)(je,(re=me,Object(j.c)({router:Object(s.b)(re),filmReducer:ae}))),de),be=Object(Q.b)(fe);l.a.render(Object(h.jsx)(a.a,{store:fe,children:Object(h.jsx)(r.a,{loading:null,persistor:be,children:Object(h.jsx)(s.a,{history:me,children:Object(h.jsx)(U,{})})})}),document.getElementById("root")),o()}},[[247,1,2]]]);
//# sourceMappingURL=main.645e79a0.chunk.js.map