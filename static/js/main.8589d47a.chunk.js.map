{"version":3,"sources":["reportWebVitals.js","components/icons/Search.jsx","pages/Home/Home.jsx","components/CustomLink.jsx","pages/LoginPage/LoginPage.jsx","pages/RegistrationPage/RegistrationPage.jsx","components/Spinner/Spinner.jsx","pages/FilmCard/ErrorFilmCard.jsx","components/FilmCardButton/FilmCardButton.jsx","components/icons/Star.jsx","components/icons/Settings.jsx","components/icons/Hamburger.jsx","components/Navigation/Navigation.jsx","pages/FilmCard/FilmCard.jsx","store/actions/filmActions.js","store/actions/complexFilmActions.js","containers/FilmCardContainer.jsx","pages/Settings/config.js","pages/Settings/Settings.jsx","components/ListLink/ListLink.jsx","pages/Lists/Lists.jsx","components/icons/Bookmark.jsx","components/icons/TrashBin.jsx","components/ListItem/ListItem.jsx","containers/SeenList/SeenList.jsx","containers/History/History.jsx","containers/Blacklist/Blacklist.jsx","containers/Temporary/Temporary.jsx","containers/Favorites/Favorites.jsx","containers/Router.jsx","App.jsx","store/reducers/filmReducer.js","store/reducers/index.js","store/middlewares/index.js","store/middlewares/filmMiddleware.js","store/index.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SearchSvg","version","x","y","viewBox","width","height","d","Search","props","Icon","component","Home","className","enter","e","index","rotate","opacity","scale","type","duration","to","CustomLink","history","onClick","Tag","tag","rest","event","push","defaultProps","withRouter","LoginForm","name","initialValues","remember","onFinish","values","alert","console","log","level","Item","rules","required","message","placeholder","Password","noStyle","valuePropName","htmlType","Button","RegistrationPage","hasFeedback","dependencies","getFieldValue","validator","_","value","Promise","reject","Error","resolve","Spinner","indicator","LoadingOutlined","spin","ErrorFilmCard","error","id","htmlFor","FilmCardButton","eventAction","children","Star","xmlns","fill","SettingsSvg","Settings","HamburgerSvg","Hamburger","Navigation","Group","defaultValue","checked","Radio","IMAGE_ENDPOINT","FilmCard","film","addToTemporary","seenFilm","removeFilm","notify","removeNotification","cardEndRef","useRef","handleScrollToBottom","useCallback","current","scrollIntoView","behavior","useEffect","description","notification","handleChangeFontSize","length","ageFormatted","age","alt","src","preview","style","fontSize","rate","secondName","year","countries","join","genres","ref","LOAD_FILMS","LOAD_FILMS_STARTED","LOAD_FILMS_FAILURE","ADD_TO_HISTORY","ADD_TO_BLACKLIST","ADD_TO_TEMPORARY","ADD_TO_ALREADY_SEEN","ADD_TO_FAVORITES","REMOVE_FROM_HISTORY","REMOVE_FROM_ALREADY_SEEN","REMOVE_FROM_BLACKLIST","REMOVE_FROM_TEMPORARY","REMOVE_FROM_FAVORITES","SET_SETTINGS","SHOW_NOTIFICATION","REMOVE_NOTIFICATION","SELECT_FILM","CLEAR_LISTS","loadFilmsFailure","selectFilm","addToHistory","filmId","addToBlacklist","addToAlreadySeen","addToFavorites","removeFromHistory","removeFromAlreadySeen","removeFromBlacklist","removeFromTemporary","removeFromFavorites","clearLists","showNotification","notifyType","saveList","listName","dispatch","getState","list","filmReducer","localStorage","setItem","JSON","stringify","noFilmsNotification","count","setSettingsAndSave","settings","setSettings","addToListAndSave","removeFromListAndSave","favoriteIconPush","favorites","data","find","item","changeFilm","randomIndex","films","blacklist","alreadySeen","temporary","filters","types","ratings","years","typesFilter","ratingsFilter","yearsFilter","genresFilter","some","genre","includes","countriesFilter","country","blacklistFilter","alreadySeenFilter","temporaryFilter","noCurrentFilter","filteredFilms","filter","every","appendFilters","sort","a","b","kpOrder","historyLast","reverse","findIndex","elem","Math","random","fetchFilms","axios","get","response","catch","err","connect","bindActionCreators","handleChangeFilm","handleMoveFilmToBlacklist","handleMoveFilmToAlreadySeen","handleMoveFilmToTemporary","TYPES","label","RATINGS","5","10","YEARS","1980","2021","GENRES","COUNTRIES","Title","Typography","Text","dark","handleSelect","map","handleDeSelect","size","onChange","val","defaultChecked","mode","showArrow","onDeselect","options","range","marks","min","max","step","onSelect","maxTagCount","forEach","removeItem","ListLink","listLength","Bookmark","status","TrashBinSvg","TrashBin","ListItem","removeFromList","timestamp","Router","exact","path","RegistrationForm","FilmCardContainer","Lists","History","SeenList","Blacklist","Temporary","Favorites","document","body","classList","toggle","prepareList","getItem","parse","initStore","isLoading","store","action","update","$set","$merge","Date","now","deleteFilm","splice","indexOf","next","createBrowserHistory","composer","window","__REDUX_DEVTOOLS_EXTENSION__","compose","applyMiddleware","routerMiddleware","thunk","middlewares","createStore","combineReducers","router","connectRouter","ReactDOM","render","getElementById"],"mappings":"whBAYeA,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,mFCLRQ,EAAY,kBACd,qBAAKC,QAAQ,MAAMC,EAAE,MAAMC,EAAE,MACzBC,QAAQ,oBAAoBC,MAAM,MAAMC,OAAO,MADnD,SAEI,sBAAMC,EAAE,ueAUDC,EAFA,SAAAC,GAAK,OAAI,cAACC,EAAA,EAAD,aAAMC,UAAYX,GAAiBS,KCiE5CG,G,OArEF,SAACH,GA2DZ,OACE,sBAAKI,UAAU,kBAAf,UACE,oBAAIA,UAAU,mBAAd,SAAiC,cAAC,IAAD,CAAOC,MA5D/B,SAACC,GACZ,OAAQA,EAAEC,OACR,KAAK,EACH,MAAO,CACLC,OAAQ,GACRC,QAAS,EACTf,GAAI,KAER,KAAK,EACH,MAAO,CACLA,GAAI,GACJD,GAAI,GACJgB,QAAS,GAEb,KAAK,EACH,MAAO,CACLf,GAAI,IACJD,EAAG,GACHgB,QAAS,GAEb,KAAK,EACH,MAAO,CACLf,EAAG,IACHe,QAAS,GAEb,KAAK,EACH,MAAO,CACLhB,EAAG,GACHgB,QAAS,GAEb,KAAK,EACH,MAAO,CACLJ,MAAO,CACL,CACEK,MAAO,EACPD,QAAS,EACTE,KAAM,OAER,CAAED,MAAO,IAAKD,QAAS,EAAGG,SAAU,KACpC,CAAEF,MAAO,GAAKE,SAAU,KACxB,CAAEF,MAAO,KAAME,SAAU,KACzB,CAAEF,MAAO,EAAGE,SAAU,OAG5B,KAAK,EACH,MAAO,CACLF,MAAO,GACPjB,EAAG,GACHC,GAAI,GACJe,QAAS,GAEb,QACE,MAAO,CACLA,QAAS,KAOoB,uBACjC,cAAC,IAAD,CAAML,UAAU,kBAAkBS,GAAG,QAArC,SACE,cAAC,EAAD,CAAQT,UAAU,kC,wECpEpBU,EAAa,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASF,EAAZ,EAAYA,GAAIG,EAAhB,EAAgBA,QAAcC,EAA9B,EAAyBC,IAAaC,EAAtC,uDACf,cAACF,EAAD,2BACSE,GADT,IAEIH,QAAU,SAACI,GACPJ,EAAQI,GACRL,EAAQM,KAAKR,QAazBC,EAAWQ,aAAe,CACtBN,QAAS,cAEEO,kBAAWT,GCiEXU,EAlFG,SAACxB,GAMjB,OACE,sBAAKI,UAAU,oBAAf,UACE,eAAC,IAAD,CACEqB,KAAK,aACLrB,UAAU,kBACVsB,cAAe,CACbC,UAAU,GAEZC,SAbW,SAACC,GAChBC,MAAM,mQACNC,QAAQC,IAAI,4BAA6BH,IAKvC,UAQE,cAAC,IAAD,CAAOzB,UAAU,mBAAmB6B,MAAO,EAA3C,sCAGA,cAAC,IAAKC,KAAN,CACET,KAAK,WACLU,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,sKALf,SASE,wBAAOjC,UAAU,QAAjB,wGAEE,cAAC,IAAD,CAAOkC,YAAY,qDAIvB,cAAC,IAAKJ,KAAN,CACET,KAAK,WACLU,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,kJALf,SASE,wBAAOjC,UAAU,QAAjB,iDAEE,cAAC,IAAMmC,SAAP,CAAgB5B,KAAK,WAAW2B,YAAY,iEAIhD,eAAC,IAAKJ,KAAN,WACE,cAAC,IAAKA,KAAN,CAAWT,KAAK,WAAWe,SAAO,EAACC,cAAc,UAAjD,SACE,cAAC,IAAD,CAAUrC,UAAU,QAApB,+FAGF,cAAC,IAAD,CAAMA,UAAU,oBAAoBS,GAAG,qBAAvC,2FAKF,eAAC,IAAKqB,KAAN,WACE,cAAC,IAAD,CAAQQ,SAAS,SAAStC,UAAU,oBAApC,4CAGA,sBAAKA,UAAU,4BAAf,+BACM,IACJ,cAAC,IAAD,CAAMA,UAAU,gCAAgCS,GAAG,gBAAnD,kKAMN,cAAC,EAAD,CACET,UAAU,mCACVS,GAAG,YACHK,IAAKyB,IAHP,oHC0ESC,G,OAlJU,SAAC5C,GAQxB,OACE,sBAAKI,UAAU,oBAAf,UACE,eAAC,IAAD,CACEqB,KAAK,oBACLrB,UAAU,gBACVsB,cAAe,CACbC,UAAU,GAEZC,SAfW,SAACC,GAChBC,MACE,iZAEFC,QAAQC,IAAI,4BAA6BH,IAKvC,UAQE,cAAC,IAAD,CAAOzB,UAAU,iBAAiB6B,MAAO,EAAzC,gFAGA,cAAC,IAAKC,KAAN,CACET,KAAK,WACLU,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,sKALf,SASE,wBAAOjC,UAAU,QAAjB,wGAEE,cAAC,IAAD,CAAOkC,YAAY,qDAIvB,cAAC,IAAKJ,KAAN,CACET,KAAK,QACLU,MAAO,CACL,CACExB,KAAM,QACNyB,UAAU,EACVC,QAAS,wMAEX,CACED,UAAU,EACVC,QAAS,oKAVf,SAcE,wBAAOjC,UAAU,QAAjB,mBAEE,cAAC,IAAD,CAAOkC,YAAY,iEAIvB,cAAC,IAAKJ,KAAN,CACET,KAAK,WACLU,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,kJAGbQ,aAAW,EARb,SAUE,wBAAOzC,UAAU,QAAjB,iDAEE,cAAC,IAAMmC,SAAP,CAAgBD,YAAY,iEAIhC,cAAC,IAAKJ,KAAN,CACET,KAAK,UACLqB,aAAc,CAAC,YACfD,aAAW,EACXV,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,gOAEX,gBAAGU,EAAH,EAAGA,cAAH,MAAwB,CACtBC,UADsB,SACZC,EAAGC,GACX,OAAKA,GAASH,EAAc,cAAgBG,EAIrCC,QAAQC,OACb,IAAIC,MAAM,oKAJHF,QAAQG,cAZzB,SAsBE,wBAAOlD,UAAU,QAAjB,gIAEE,cAAC,IAAMmC,SAAP,CAAgBD,YAAY,0IAIhC,cAAC,IAAKJ,KAAN,CACET,KAAK,YACLgB,cAAc,UACdN,MAAO,CACL,CACEa,UAAW,SAACC,EAAGC,GAAJ,OACTA,EACIC,QAAQG,UACRH,QAAQC,OACN,IAAIC,MAAM,qMATxB,SAcE,eAAC,IAAD,CAAUjD,UAAU,QAApB,4EACgB,IACd,cAAC,IAAD,CAAMA,UAAU,qBAAqBS,GAAG,aAAxC,+EAMJ,cAAC,IAAKqB,KAAN,UACE,cAAC,IAAD,CAAQQ,SAAS,SAAStC,UAAU,kBAApC,4HAKF,sBAAKA,UAAU,0BAAf,+BACM,IACJ,cAAC,IAAD,CAAMA,UAAU,uBAAuBS,GAAG,SAA1C,0GAKJ,cAAC,EAAD,CACET,UAAU,mCACVS,GAAG,YACHK,IAAKyB,IAHP,qH,iBCpISY,G,OAJC,SAACvD,GACb,OAAO,cAAC,IAAD,CAAMI,UAAU,iBAAiBoD,UAAW,cAACC,EAAA,EAAD,CAAiBC,MAAI,Q,kBC+B7DC,G,OAjCO,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACrB,OACI,sBAAKxD,UAAU,oBAAf,UACI,qBAAKA,UAAU,qBACf,sBAAKA,UAAU,sBAAf,UACI,qBAAKA,UAAU,oCAAf,SACI,mBAAGA,UAAU,gCAGjB,sBAAKA,UAAU,0CAAf,UACI,mBAAGA,UAAU,qCACb,mBAAGA,UAAU,iCAEjB,mBAAGA,UAAU,6BAAb,SAA0C,+BAAOwD,MACjD,uBAAOjD,KAAK,WAAWc,KAAK,aAAaoC,GAAG,aAAazD,UAAU,cACnE,uBAAO0D,QAAQ,aAAa1D,UAAU,0CAAtC,SACI,mBAAGA,UAAU,0CAGrB,sBAAKA,UAAU,mBAAf,UACI,qBAAKA,UAAU,kCAEf,qBAAKA,UAAU,oCAEnB,qBAAKA,UAAU,oBCZZ2D,G,OAXQ,SAAC/D,GACpB,OACI,cAAC,IAAD,CAAQgB,QAAShB,EAAMgE,YAAa5D,UAAU,SAA9C,SAAwDJ,EAAMiE,aCAvDC,EANF,SAAClE,GACV,OACI,qBAAKmE,MAAM,6BAA6BvE,MAAM,KAAKC,OAAO,KAAKF,QAAQ,cAAcyE,KAAK,UAA1F,SAAoG,sBAAMtE,EAAE,wQCF9GuE,EAAc,kBAChB,qBAAK1E,QAAQ,YAAYC,MAAM,OAAOC,OAAO,OAA7C,SAAoD,sBAAMC,EAAE,yzCAKjDwE,EAFE,SAAAtE,GAAK,OAAI,cAACC,EAAA,EAAD,aAAMC,UAAYmE,GAAmBrE,KCJzDuE,EAAe,kBACjB,sBAAK5E,QAAQ,aAAaC,MAAM,KAAKC,OAAO,KAA5C,UACI,sBAAMD,MAAM,MAAMC,OAAO,OACzB,sBAAMH,EAAE,KAAKE,MAAM,MAAMC,OAAO,OAChC,sBAAMH,EAAE,KAAKE,MAAM,MAAMC,OAAO,WAMzB2E,EAFG,SAAAxE,GAAK,OAAI,cAACC,EAAA,EAAD,aAAMC,UAAYqE,GAAoBvE,K,SCoClDyE,G,OApCI,SAACzE,GAChB,OACI,eAAC,IAAM0E,MAAP,CAAatE,UAAU,wBAAwBuE,aAAe3E,EAAM4E,QAApE,UAEI,cAAC,EAAD,CAAY/D,GAAG,SACHqC,MAAM,QACNhC,IAAM2D,IACNzE,UAAU,sBAHtB,SAKI,cAAC,EAAD,MAGJ,sBAAMA,UAAU,kBAEhB,cAAC,EAAD,CAAYS,GAAG,QACHqC,MAAM,SACNhC,IAAM2D,IACNzE,UAAU,sBAHtB,SAKI,cAAC,EAAD,CAAQA,UAAU,wBAGtB,sBAAMA,UAAU,kBAEhB,cAAC,EAAD,CAAYS,GAAG,YACHqC,MAAM,WACNhC,IAAM2D,IACNzE,UAAU,sBAHtB,SAKI,cAAC,EAAD,WC5BV0E,EAAiB,kCAgGRC,EA9FE,SAAC,GAAuF,IAArFC,EAAoF,EAApFA,KAAMC,EAA8E,EAA9EA,eAAgBC,EAA8D,EAA9DA,SAAUC,EAAoD,EAApDA,WAAYvB,EAAwC,EAAxCA,MAAOwB,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,mBACrEC,EAAaC,iBAAO,MAEpBC,EAAuBC,uBAAY,WAAO,IAAD,EAC3C,UAAAH,EAAWI,eAAX,SAAoBC,eAAe,CAAEC,SAAU,aAChD,IAEHC,qBAAU,WACNL,OAGJK,qBAAU,WACNL,MACD,CAACR,EAAMQ,IAEVK,qBAAU,WACFT,EAAO/C,SAAW+C,EAAOU,cACzBC,IAAaX,EAAOzE,MAAM,CACtBC,SAAU,EACVyB,QAAS+C,EAAO/C,QAChByD,YAAaV,EAAOU,cAExBT,OAEL,CAACD,EAAQC,IAEZ,IAAMW,EAAuBP,uBAAY,WACrC,OAAIT,EAAKvD,KAAKwE,OAAS,IAAMjB,EAAKvD,KAAKwE,OAAS,GACrC,OACAjB,EAAKvD,KAAKwE,QAAU,GACpB,OAEA,SAEZ,CAACjB,IAEEkB,EAA4B,OAAblB,EAAKmB,KAAL,YAA0BnB,EAAKmB,IAA/B,KAErB,OACIvC,EAAQ,cAAC,EAAD,CAAeA,MAAOA,IAC9B,sBAAKxD,UAAU,0BAAf,UACI,sBAAKA,UAAU,mBAAf,UACI,qBAAKA,UAAU,+BAA+BgG,IAAI,GAC9CC,IAAG,UAAMvB,EAAN,kCAA8CE,EAAKnB,GAAnD,UAEP,cAAC,IAAD,CAAOzD,UAAU,0BAA0BgG,IAAMpB,EAAKvD,KAClD6E,QAAU,CAAED,IAAI,GAAD,OAAKvB,EAAL,qBAAgCE,EAAKnB,GAArC,SACfwC,IAAG,UAAMvB,EAAN,kCAA8CE,EAAKnB,GAAnD,QACHvB,YAAc,cAAC,EAAD,SAGtB,sBAAKlC,UAAU,4BAAf,UACI,sBAAKA,UAAU,oCAAf,UACI,oBAAIA,UAAU,6BAA6BmG,MAAQ,CAAEC,SAAUR,KAA/D,SAA4FhB,EAAKvD,OACjG,oBAAGrB,UAAU,4BAAb,UACI,cAAC,EAAD,IACE4E,EAAKyB,WAGf,sBAAKrG,UAAU,0CAAf,UACI,mBAAGA,UAAU,mCAAb,SAAkD4E,EAAK0B,aACvD,oBAAGtG,UAAU,4BAAb,UAA2C4E,EAAK2B,KAAhD,YAA4D3B,EAAK4B,UAAUC,KAAK,MAAhF,UAEJ,oBAAGzG,UAAU,6BAAb,UAA4C4E,EAAK8B,OAAOD,KAAK,MAAO,+BAAQX,OAC5E,oBAAI9F,UAAU,mCACd,sBAAKA,UAAU,yCAAf,UACI,uBAAOO,KAAK,WAAWc,KAAK,aAAaoC,GAAG,aAAazD,UAAU,cACnE,uBAAO0D,QAAQ,aAAa1D,UAAU,0CAAtC,SACI,mBAAGA,UAAU,mCAAb,SAAkD4E,EAAKc,sBAInE,sBAAK1F,UAAU,yBAAf,UACI,sBAAKA,UAAU,gCAAf,UACI,cAAC,EAAD,CAAgB4D,YAAckB,EAA9B,2EACA,cAAC,EAAD,CAAgBlB,YAAcmB,EAA9B,uFACA,cAAC,EAAD,CAAgBnB,YAAciB,EAA9B,+EAEJ,qBAAK7E,UAAU,+BAA+B2G,IAAMzB,OAExD,cAAC,EAAD,CAAYV,QAAU,e,kBC7FrBoC,EAAa,oBACbC,EAAqB,4BACrBC,EAAqB,4BACrBC,EAAiB,wBACjBC,EAAmB,0BACnBC,GAAmB,0BACnBC,GAAsB,6BACtBC,GAAmB,0BACnBC,GAAsB,6BACtBC,GAA2B,kCAC3BC,GAAwB,+BACxBC,GAAwB,+BACxBC,GAAwB,+BACxBC,GAAe,0BACfC,GAAoB,2BACpBC,GAAsB,6BACtBC,GAAc,qBACdC,GAAc,qBAWdC,GAAmB,SAACtE,GAAD,MAAY,CACxCjD,KAAMuG,EACNtD,UAGSuE,GAAa,SAACnD,GAAD,MAAW,CACjCrE,KAAMqH,GACNhD,SAGSoD,GAAe,SAACC,GAAD,MAAa,CACrC1H,KAAMwG,EACNkB,WAGSC,GAAiB,SAACD,GAAD,MAAa,CACvC1H,KAAMyG,EACNiB,WAGSpD,GAAiB,SAACoD,GAAD,MAAa,CACvC1H,KAAM0G,GACNgB,WAGSE,GAAmB,SAACF,GAAD,MAAa,CACzC1H,KAAM2G,GACNe,WAGSG,GAAiB,SAACH,GAAD,MAAa,CACvC1H,KAAM4G,GACNc,WAGSI,GAAoB,SAACJ,GAAD,MAAa,CAC1C1H,KAAM6G,GACNa,WAGSK,GAAwB,SAACL,GAAD,MAAa,CAC9C1H,KAAM8G,GACNY,WAGSM,GAAsB,SAACN,GAAD,MAAa,CAC5C1H,KAAM+G,GACNW,WAGSO,GAAsB,SAACP,GAAD,MAAa,CAC5C1H,KAAMgH,GACNU,WAGSQ,GAAsB,SAACR,GAAD,MAAa,CAC5C1H,KAAMiH,GACNS,WAGSS,GAAa,iBAAO,CAC7BnI,KAAMsH,KAQGc,GAAmB,SAACC,EAAY3G,EAASyD,GAAtB,MAAuC,CACnEnF,KAAMmH,GACNkB,aACA3G,UACAyD,gBAGST,GAAqB,iBAAO,CACrC1E,KAAMoH,KC/FGkB,GAAW,SAACC,GACrB,OAAO,SAACC,EAAUC,GAAc,IACRC,EAASD,IAAWE,YAA/BJ,GACTK,aAAaC,QAAQN,EAAUO,KAAKC,UAAUL,MAUxCM,GAAsB,SAACC,GAOjC,OADAA,IACO,SAACT,GAEAA,EADAS,EAAQ,EACCb,GACL,UACA,uKAFqB,uGAPd,CAAC,8CAAD,OAAYa,EAAZ,8FAAuCA,EAAvC,oGAAmEA,EAAnE,gDAECA,EAAQ,IAAM,GAAKA,EAAQ,IAAM,GAAM,EADzC,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACoCA,EAAQ,GAAK,EAAKA,EAAQ,GAAK,IAKpE,2OAMhBb,GACL,QACA,uHACA,+gBAYHc,GAAqB,SAACC,GAC/B,OAAO,SAACX,EAAUC,GACdD,EDqCmB,SAACW,GAAD,MAAe,CACtCnJ,KAAMkH,GACNiC,YCvCaC,CAAYD,IACrBX,EAASF,GAAS,aAClBE,EAASJ,GACL,UACA,2JACA,8PAWCiB,GAAmB,SAAC3B,GAAkC,IAA1Ba,EAAyB,uDAAd,UAChD,OAAO,SAACC,EAAUC,GACd,OAAQF,GACJ,IAAK,YACDC,EAASb,GAAeD,IACxB,MACJ,IAAK,cACDc,EAASZ,GAAiBF,IAC1B,MACJ,IAAK,YACDc,EAASX,GAAeH,IACxB,MACJ,QACIc,EAASf,GAAaC,IAE9Bc,EAASF,GAASC,MAUbe,GAAwB,SAAC5B,GAAkC,IAA1Ba,EAAyB,uDAAd,UACrD,OAAO,SAACC,EAAUC,GACd,OAAQF,GACJ,IAAK,YACDC,EAASR,GAAoBN,IAC7B,MACJ,IAAK,cACDc,EAAST,GAAsBL,IAC/B,MACJ,IAAK,YACDc,EAASN,GAAoBR,IAC7B,MACJ,QACIc,EAASV,GAAkBJ,IAEnCc,EAASF,GAASC,MASbgB,GAAmB,SAAC7B,GAAoC,IAA5Ba,EAA2B,uDAAhB,YAChD,OAAO,SAACC,EAAUC,GAMVD,EALkBC,IAAWE,YAAzBa,UACkBC,KAAKC,MAAK,SAAAC,GAAI,OAAIA,EAAKzG,KAAOwE,KAI3C4B,GAAsB5B,EAAQa,GAF9Bc,GAAiB3B,EAAQa,MAYjCqB,GAAa,WACtB,OAAO,SAACpB,EAAUC,GACd,IAAIpE,EAAMwF,EADiB,EAEmEpB,IAAWE,YAAjGmB,EAFmB,EAEnBA,MAAOC,EAFY,EAEZA,UAAWC,EAFC,EAEDA,YAAaC,EAFZ,EAEYA,UAAWd,EAFvB,EAEuBA,SAAU/I,EAFjC,EAEiCA,QAAe2E,EAFhD,EAE0CV,KAF1C,KAEyDpB,MAC/BkG,EAASe,SAAtDC,EAHmB,EAGnBA,MAAOC,EAHY,EAGZA,QAASC,EAHG,EAGHA,MAAOlE,EAHJ,EAGIA,OAAQF,EAHZ,EAGYA,UAEjCqE,EAAc,SAACjG,GAAD,OAA4B,IAAjB8F,EAAM7E,QAAgBjB,EAAKrE,OAASmK,EAAM,IACnEI,EAAgB,SAAClG,GAAD,OAAWA,EAAKyB,KAAOsE,EAAQ,IAAM/F,EAAKyB,KAAOsE,EAAQ,IACzEI,EAAc,SAACnG,GAAD,OAAWA,EAAK2B,KAAOqE,EAAM,IAAMhG,EAAK2B,KAAOqE,EAAM,IACnEI,EAAe,SAACpG,GAAD,OAAUA,EAAK8B,OAAOuE,MAAK,SAAAC,GAAK,OAAIxE,EAAOyE,SAASD,OACnEE,EAAkB,SAACxG,GAAD,OAAUA,EAAK4B,UAAUyE,MAAK,SAAAI,GAAO,OAAI7E,EAAU2E,SAASE,OAC9EC,EAAkB,SAAC1G,GAAD,OAAa0F,EAAUrB,KAAKrE,EAAKnB,KACnD8H,EAAoB,SAAC3G,GAAD,OAAa2F,EAAYtB,KAAKrE,EAAKnB,KACvD+H,EAAkB,SAAC5G,GAAD,OAAa4F,EAAUvB,KAAKrE,EAAKnB,KACnDgI,EAAkB,SAAC7G,GAAD,OAAaU,GAAYV,EAAKnB,KAAO6B,EAAQ7B,IAgB/DiI,EAAgBrB,EAAMsB,QAAO,SAAA/G,GAAI,OAbjB,SAACA,GAAD,MAAU,CAC5BiG,EACAC,EACAC,EACAC,EACAI,EACAE,EACAC,EACAC,EACAC,GACFG,OAAM,SAAAD,GAAM,OAAIA,EAAO/G,MAGkBiH,CAAcjH,MAAOkH,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEE,QAAUD,EAAEC,WAE7F,GAAgB,OAAZ3G,EAAkB,CAClB,GAAI3E,EAAQqJ,KAAKnE,OAAQ,CACrB,IAAMqG,EAAcvL,EAAQqJ,KAAKmC,UAAU,GAC3C,OAAOpD,EAAShB,GAAWsC,EAAM+B,WAAU,SAAAC,GAAI,OAAIA,EAAK5I,KAAOyI,EAAYzI,QACxE,IAAKiI,EAAc7F,OAEtB,OADAkD,EAAShB,GAAW,IACbgB,EAASjB,GAAiB,+TAIrC4D,EAAc7F,OAAS,EAAI,GAAIkD,EAASQ,GAAoBmC,EAAc7F,SAE1EP,GAAoC,IAAzBoG,EAAc7F,SAG7BuE,KAAiBkC,KAAKC,UAAab,EAAc7F,OAAS,EAA4B,GAAvB6F,EAAc7F,OAAe6F,EAAc7F,SAC1GjB,EAAO8G,EAActB,GAKrBrB,EAAShB,GAAWsC,EAAM+B,WAAU,SAAAC,GAAI,OAAIA,IAASzH,OACrDmE,EAASa,GAAiBhF,EAAKnB,QAO1B+I,GAAa,WACtB,OAAO,SAAAzD,GACHA,EDhL+B,CACnCxI,KAAMsG,ICiLF4F,IAAMC,IAAI,gBACL7N,MAAK,SAAA8N,GDxLO,IAACtC,ECyLVtB,GDzLUsB,ECyLSsC,EAAS3C,KDzLP,CACjCzJ,KAAMqG,EACNyD,WCwLYtB,EAASoB,SAEZyC,OAAM,SAAAC,GACH9D,EAASjB,GAAiB+E,EAAI5K,eC3J/B6K,gBARS,SAAC,GAAD,IAAG5D,EAAH,EAAGA,YAAH,MAAsB,CAC1C1F,MAAO0F,EAAY1F,MACnBoB,KAAMsE,EAAYtE,KAClBe,aAAcuD,EAAYvD,iBAGH,SAAAoD,GAAQ,OAAIgE,YAAmB,CAAEnD,oBAAkBO,cAAYtF,kBAAgBI,uBAAsB8D,KAEjH+D,EA3CW,SAAC,GAAqG,IAAnGlI,EAAkG,EAAlGA,KAAMgF,EAA4F,EAA5FA,iBAAkB/E,EAA0E,EAA1EA,eAAgBsF,EAA0D,EAA1DA,WAAY3G,EAA8C,EAA9CA,MAAOmC,EAAuC,EAAvCA,aAAcV,EAAyB,EAAzBA,mBAC5F+H,EAAmB3H,uBAAY,WACjC8E,MACD,CAACA,IAEE8C,EAA4B5H,uBAAY,WAC1CuE,EAAiBhF,EAAKnB,GAAI,aAC1BuJ,MACD,CAACpI,EAAMgF,EAAkBoD,IAEtBE,EAA8B7H,uBAAY,WAC5CuE,EAAiBhF,EAAKnB,GAAI,eAC1BuJ,MACD,CAACpI,EAAMgF,EAAkBoD,IAEtBG,EAA4B9H,uBAAY,WAC1CR,EAAeD,EAAKnB,IACpBuJ,MACD,CAACpI,EAAMC,EAAgBmI,IAE1B,OACKpI,EAAqB,cAAC,EAAD,CAAUpB,MAAOA,EAAOwB,OAAQW,EAAcV,mBAAoBA,EAAoBL,KAAMA,EAAMC,eAAgBsI,EAA2BpI,WAAYkI,EAA2BnI,SAAUoI,IAA5M,cAAC,EAAD,O,wCC/BHE,GAAQ,CAAC,CAACtK,MAAM,OAAQuK,MAAM,wCAAU,CAACvK,MAAM,UAAWuK,MAAM,kEAChEC,GAAU,CAAEC,EAAG,iBAAQC,GAAI,mBAC3BC,GAAQ,CAAEC,KAAM,SAAUC,KAAM,qBAChCC,GAAS,CAAC,CAAC9K,MAAM,sBAAO,CAACA,MAAM,wFAAkB,CAACA,MAAM,8CAAW,CAACA,MAAM,8FAAmB,CAACA,MAAM,8CAAW,CAACA,MAAM,wCAAU,CAACA,MAAM,0DAAa,CAACA,MAAM,gEAAc,CAACA,MAAM,8CAAW,CAACA,MAAM,wCAAU,CAACA,MAAM,kCAAS,CAACA,MAAM,oDAAY,CAACA,MAAM,gEAAc,CAACA,MAAM,0DAAa,CAACA,MAAM,yCAAW,CAACA,MAAM,wCAAU,CAACA,MAAM,8CAAW,CAACA,MAAM,oDAAY,CAACA,MAAM,8CAAW,CAACA,MAAM,oDAAY,CAACA,MAAM,4BAAQ,CAACA,MAAM,8CAAW,CAACA,MAAM,sEAAe,CAACA,MAAM,8CAAW,CAACA,MAAM,iEAAe,CAACA,MAAM,kCAAS,CAACA,MAAM,kCAAS,CAACA,MAAM,kCAAS,CAACA,MAAM,8CAAW,CAACA,MAAM,8CAAW,CAACA,MAAM,0DAAa,CAACA,MAAM,2DAAc,CAACA,MAAM,wEACxmB+K,GAAY,CAAC,CAAC/K,MAAM,sBAAO,CAACA,MAAM,sBAAO,CAACA,MAAM,wCAAU,CAACA,MAAM,4BAAQ,CAACA,MAAM,0DAAa,CAACA,MAAM,wCAAU,CAACA,MAAM,wFAAkB,CAACA,MAAM,8CAAW,CAACA,MAAM,iEAAe,CAACA,MAAM,gEAAc,CAACA,MAAM,kCAAS,CAACA,MAAM,oDAAY,CAACA,MAAM,wCAAU,CAACA,MAAM,8CAAW,CAACA,MAAM,wCAAU,CAACA,MAAM,8CAAW,CAACA,MAAM,kCAAS,CAACA,MAAM,oDAAY,CAACA,MAAM,wCAAU,CAACA,MAAM,8CAAW,CAACA,MAAM,8CAAW,CAACA,MAAM,0DAAa,CAACA,MAAM,8CAAW,CAACA,MAAM,8CAAW,CAACA,MAAM,yEAAkB,CAACA,MAAM,mFAAkB,CAACA,MAAM,wCAAU,CAACA,MAAM,oDAAY,CAACA,MAAM,wCAAU,CAACA,MAAM,4BAAQ,CAACA,MAAM,wCAAU,CAACA,MAAM,8CAAW,CAACA,MAAM,oDAAY,CAACA,MAAM,sBAAO,CAACA,MAAM,8CAAW,CAACA,MAAM,8CAAW,CAACA,MAAM,0DAAa,CAACA,MAAM,0DAAa,CAACA,MAAM,oDAAY,CAACA,MAAM,oDAAY,CAACA,MAAM,0DAAa,CAACA,MAAM,0DAAa,CAACA,MAAM,oDAAY,CAACA,MAAM,4EAAgB,CAACA,MAAM,gEAAc,CAACA,MAAM,oDAAY,CAACA,MAAM,8CAAW,CAACA,MAAM,8CAAW,CAACA,MAAM,gEAAc,CAACA,MAAM,oDAAY,CAACA,MAAM,kCAAS,CAACA,MAAM,4GAAuB,CAACA,MAAM,wCAAU,CAACA,MAAM,0DAAa,CAACA,MAAM,0DAAa,CAACA,MAAM,kCAAS,CAACA,MAAM,sBAAO,CAACA,MAAM,wCAAU,CAACA,MAAM,8CAAW,CAACA,MAAM,oDAAY,CAACA,MAAM,kCAAS,CAACA,MAAM,kCAAS,CAACA,MAAM,0DAAa,CAACA,MAAM,oDAAY,CAACA,MAAM,yEAAkB,CAACA,MAAM,yEAAkB,CAACA,MAAM,sEAAe,CAACA,MAAM,4BAAQ,CAACA,MAAM,oDAAY,CAACA,MAAM,wCAAU,CAACA,MAAM,sEAAe,CAACA,MAAM,8CAAW,CAACA,MAAM,8CAAW,CAACA,MAAM,oDAAY,CAACA,MAAM,2GAAsB,CAACA,MAAM,4BAAQ,CAACA,MAAM,8CAAW,CAACA,MAAM,kCAAS,CAACA,MAAM,oDAAY,CAACA,MAAM,wCAAU,CAACA,MAAM,8CAAW,CAACA,MAAM,0DAAa,CAACA,MAAM,wCAAU,CAACA,MAAM,2GAAsB,CAACA,MAAM,wCAAU,CAACA,MAAM,oDAAY,CAACA,MAAM,6HAAyB,CAACA,MAAM,qDAAa,CAACA,MAAM,4BAAQ,CAACA,MAAM,0DAAa,CAACA,MAAM,oDAAY,CAACA,MAAM,gEAAc,CAACA,MAAM,iEAAe,CAACA,MAAM,oDAAY,CAACA,MAAM,kHAAwB,CAACA,MAAM,8CAAW,CAACA,MAAM,wCAAU,CAACA,MAAM,qGAAqB,CAACA,MAAM,8CAAW,CAACA,MAAM,wCAAU,CAACA,MAAM,wCAAU,CAACA,MAAM,kCAAS,CAACA,MAAM,8CAAW,CAACA,MAAM,0DAAa,CAACA,MAAM,kCAAS,CAACA,MAAM,kCAAS,CAACA,MAAM,kCAAS,CAACA,MAAM,4BAAQ,CAACA,MAAM,kCAAS,CAACA,MAAM,wCAAU,CAACA,MAAM,kCAAS,CAACA,MAAM,wCAAU,CAACA,MAAM,oDAAY,CAACA,MAAM,mFAAkB,CAACA,MAAM,gEAAc,CAACA,MAAM,sEAAe,CAACA,MAAM,kCAAS,CAACA,MAAM,8CAAW,CAACA,MAAM,4BAAQ,CAACA,MAAM,kCAAS,CAACA,MAAM,0DAAa,CAACA,MAAM,wCAAU,CAACA,MAAM,wGAAwB,CAACA,MAAM,4BAAQ,CAACA,MAAM,0DAAa,CAACA,MAAM,wCAAU,CAACA,MAAM,gEAAc,CAACA,MAAM,oDAAY,CAACA,MAAM,gEAAc,CAACA,MAAM,8CAAW,CAACA,MAAM,wCAAU,CAACA,MAAM,8CAAW,CAACA,MAAM,qGAAqB,CAACA,MAAM,kCAAS,CAACA,MAAM,2GAAsB,CAACA,MAAM,oDAAY,CAACA,MAAM,kCAAS,CAACA,MAAM,4BAAQ,CAACA,MAAM,0DAAa,CAACA,MAAM,8CAAW,CAACA,MAAM,uEAAgB,CAACA,MAAM,8CAAW,CAACA,MAAM,kCAAS,CAACA,MAAM,8CAAW,CAACA,MAAM,wCAAU,CAACA,MAAM,8CAAW,CAACA,MAAM,8CAAW,CAACA,MAAM,8CAAW,CAACA,MAAM,kCAAS,CAACA,MAAM,8CAAW,CAACA,MAAM,gEAAc,CAACA,MAAM,4EAAgB,CAACA,MAAM,2GAAsB,CAACA,MAAM,wCAAU,CAACA,MAAM,kCAAS,CAACA,MAAM,yFAAmB,CAACA,MAAM,8CAAW,CAACA,MAAM,wCAAU,CAACA,MAAM,kHAAwB,CAACA,MAAM,8CAAW,CAACA,MAAM,oDAAY,CAACA,MAAM,oDAAY,CAACA,MAAM,gEAAc,CAACA,MAAM,4BAAQ,CAACA,MAAM,kCAAS,CAACA,MAAM,sBAAO,CAACA,MAAM,gGAAqB,CAACA,MAAM,gEAAc,CAACA,MAAM,oDAAY,CAACA,MAAM,wCAAU,CAACA,MAAM,2DAAc,CAACA,MAAM,kMAAuC,CAACA,MAAM,0DAAa,CAACA,MAAM,oDAAY,CAACA,MAAM,kCAAS,CAACA,MAAM,oDAAY,CAACA,MAAM,0DAAa,CAACA,MAAM,0DAAa,CAACA,MAAM,wCAAU,CAACA,MAAM,oDAAY,CAACA,MAAM,8CAAW,CAACA,MAAM,4BAAQ,CAACA,MAAM,oDAAY,CAACA,MAAM,gEAAc,CAACA,MAAM,uDAAe,CAACA,MAAM,2GAAsB,CAACA,MAAM,wCAAU,CAACA,MAAM,mCCUljHgL,I,OAAgBC,KAAhBD,OAAOE,GAASD,KAATC,KA8IAlB,gBAZS,SAAC,GAAD,MAAsB,CAC1CpD,SADoB,EAAGR,YACDQ,aASC,SAAAX,GAAQ,OAAIgE,YAAmB,CAAErE,cAAYe,uBAAsBV,KAE/E+D,EA5IE,SAAC,GAAkD,IAAhDpD,EAA+C,EAA/CA,SAAUhB,EAAqC,EAArCA,WAAYe,EAAyB,EAAzBA,mBAEhCE,EAActE,uBAAY,SAACvC,EAAOvC,GAEpCkJ,EAAmB,CACfwE,KAAgB,SAAT1N,EAAmBuC,EAAQ4G,EAASuE,KAC3CxD,QAAS,CACLC,MAAiB,UAATnK,EAAoBuC,EAAQ4G,EAASe,QAAQC,MACrDC,QAAmB,YAATpK,EAAsBuC,EAAQ4G,EAASe,QAAQE,QACzDC,MAAiB,UAATrK,EAAoBuC,EAAQ4G,EAASe,QAAQG,MACrDlE,OAAkB,WAATnG,EAAqBuC,EAAQ4G,EAASe,QAAQ/D,OACvDF,UAAqB,cAATjG,EAAwBuC,EAAQ4G,EAASe,QAAQjE,eAGtE,CAACkD,EAAUD,IAGRyE,EAAe,SAACpL,EAAOvC,GACzB,GAAc,uBAAVuC,EACA,OAAQvC,GACJ,IAAK,SACDoJ,EAAYiE,GAAOO,KAAI,SAAAjD,GAAK,OAAIA,EAAMpI,SAAQ,UAC9C,MACJ,IAAK,YACD6G,EAAYkE,GAAUM,KAAI,SAAA9C,GAAO,OAAIA,EAAQvI,SAAQ,eAO/DsL,EAAiB,SAACtL,EAAOvC,GACb,uBAAVuC,GACsB6G,EAAY,GAAxB,WAATpJ,EAAqC,SAA4B,aAEzD,UAATA,GAAsD,IAAlCmJ,EAASe,QAAQC,MAAM7E,QAC3C8D,EAAYyD,GAAMe,KAAI,SAAA5N,GAAI,OAAIA,EAAKuC,SAAQ,UASnD,OACI,sBAAK9C,UAAU,0BAAf,UACI,qBAAKA,UAAU,yBAAf,SACI,qBAAKA,UAAU,0BAA0B6B,MAAO,EAAhD,sEAEJ,sBAAK7B,UAAU,oBAAf,UACI,cAAC,IAAD,CAAMO,KAAK,YAAYP,UAAU,2BAA2BS,GAAG,SAA/D,SACI,cAAC,IAAD,CAAQ4N,KAAK,QAAb,6GAGJ,sBAAKrO,UAAU,yBAAf,UACI,cAACgO,GAAD,CAAMhO,UAAU,QAAhB,oJACA,cAAC,KAAD,CAAQsO,SAAU,SAACC,GAAS5E,EAAY4E,EAAK,SAAUC,eAAgB9E,EAASuE,UAGpF,cAAC,GAAD,CAAOpM,MAAO,EAAd,yGAEA,sBAAK7B,UAAU,yBAAf,UACI,cAACgO,GAAD,CAAMhO,UAAU,QAAhB,gCACA,cAAC,KAAD,CAAQA,UAAU,4BACVyO,KAAK,WACLC,WAAS,EACT5L,MAAO4G,EAASe,QAAQC,MACxB4D,SAAU,SAACC,GAAS5E,EAAY4E,EAAK,UACrCI,WAAY,SAACJ,GAASH,EAAeG,EAAK,UAC1CK,QAASxB,QAIrB,sBAAKpN,UAAU,+BAAf,UACI,cAACgO,GAAD,CAAMhO,UAAU,QAAhB,wDACA,cAAC,KAAD,CAAQA,UAAU,4BAA4B6O,OAAK,EAC3CC,MAAOxB,GAASyB,IAAK,EAAGC,IAAK,GAAIC,KAAM,GAAK1K,aAAcmF,EAASe,QAAQE,QAC3E2D,SAAU,SAACC,GAAS5E,EAAY4E,EAAK,iBAIjD,sBAAKvO,UAAU,yBAAf,UACI,cAACgO,GAAD,CAAMhO,UAAU,QAAhB,sCACA,cAAC,KAAD,CAAQA,UAAU,4BAA4B6O,OAAK,EAC3CC,MAAOrB,GAAOsB,IAAK,KAAMC,IAAK,KAAMzK,aAAcmF,EAASe,QAAQG,MACnE0D,SAAU,SAACC,GAAS5E,EAAY4E,EAAK,eAIjD,sBAAKvO,UAAU,yBAAf,UACI,cAACgO,GAAD,CAAMhO,UAAU,QAAhB,4CACA,cAAC,KAAD,CAAQA,UAAU,4BACVyO,KAAK,WACLC,WAAS,EACT5L,MAAO4G,EAASe,QAAQ/D,OACxBwI,SAAU,SAACX,GAASL,EAAaK,EAAK,WACtCI,WAAY,SAACJ,GAASH,EAAeG,EAAK,WAC1CD,SAAU,SAACC,GAAS5E,EAAY4E,EAAK,WACrCK,QAAShB,GACTuB,YAAa,OAIzB,sBAAKnP,UAAU,yBAAf,UACI,cAACgO,GAAD,CAAMhO,UAAU,QAAhB,kDACA,cAAC,KAAD,CAAQA,UAAU,4BACVyO,KAAK,WACLC,WAAS,EACT5L,MAAO4G,EAASe,QAAQjE,UACxB0I,SAAU,SAACX,GAASL,EAAaK,EAAK,cACtCI,WAAY,SAACJ,GAASH,EAAeG,EAAK,cAC1CD,SAAU,SAACC,GAAS5E,EAAY4E,EAAK,cACrCK,QAASf,GACTsB,YAAa,OAIzB,cAAC,IAAD,CAAQ5O,KAAK,YAAY8N,KAAK,QAAQrO,UAAU,2BAA2BY,QA9E3D,WACxB8H,IACA,CAAC,YAAa,cAAe,UAAW,aAAa0G,SAAQ,SAAAnG,GAASE,aAAakG,WAAWpG,OA4EtF,wHAIJ,qBAAKjJ,UAAU,kBAAf,eACA,cAAC,EAAD,CAAYwE,QAAU,mBCxHnB8K,I,cAdE,SAAC1P,GACd,OACI,sBAAKI,UAAU,oBAAf,UACI,mBAAGA,UAAU,kBAAb,SAAgCJ,EAAMiE,WACtC,mBAAG7D,UAAU,mBAAb,SAAiCJ,EAAM2P,kBC8BpCzC,gBARS,SAAC,GAAD,IAAG5D,EAAH,EAAGA,YAAH,MAAsB,CAC1CvI,QAASuI,EAAYvI,QACrBoJ,UAAWb,EAAYa,UACvBO,UAAWpB,EAAYoB,UACvBE,UAAWtB,EAAYsB,UACvBD,YAAarB,EAAYqB,eAGduC,EA9BD,SAAC,GAA+D,IAA7DxC,EAA4D,EAA5DA,UAAWE,EAAiD,EAAjDA,UAAWD,EAAsC,EAAtCA,YAAa5J,EAAyB,EAAzBA,QAASoJ,EAAgB,EAAhBA,UACzD,OACI,sBAAK/J,UAAU,uBAAf,UACI,qBAAKA,UAAU,sBAAf,6FACA,cAAC,IAAD,CAAMA,UAAU,2BAA2BS,GAAG,WAA9C,SAAyD,cAAC,GAAD,CAAU8O,WAAY5O,EAAQqJ,KAAKnE,OAAnC,6HACzD,cAAC,IAAD,CAAM7F,UAAU,2BAA2BS,GAAG,YAA9C,SAA0D,cAAC,GAAD,CAAU8O,WAAYhF,EAAYP,KAAKnE,OAAvC,mIAC1D,cAAC,IAAD,CAAM7F,UAAU,2BAA2BS,GAAG,aAA9C,SAA2D,cAAC,GAAD,CAAU8O,WAAYjF,EAAUN,KAAKnE,OAArC,uHAC3D,cAAC,IAAD,CAAM7F,UAAU,2BAA2BS,GAAG,aAA9C,SAA2D,cAAC,GAAD,CAAU8O,WAAY/E,EAAUR,KAAKnE,OAArC,8EAC3D,cAAC,IAAD,CAAM7F,UAAU,2BAA2BS,GAAG,aAA9C,SAA2D,cAAC,GAAD,CAAU8O,WAAYxF,EAAUC,KAAKnE,OAArC,sEAC3D,cAAC,EAAD,CAAYrB,QAAS,gBCJlBgL,GAZE,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAChB,OACI,qBAAKrQ,QAAQ,MAAMI,MAAM,KAAKC,OAAO,KACjCF,QAAQ,sBAAsByE,KAAOyL,EAAS,UAAY,GAD9D,SAEI,sBAAM/P,EAAE,8VCJdgQ,GAAc,kBAChB,sBAAKlQ,MAAM,KAAKC,OAAO,KAAKF,QAAQ,gBAApC,UAAsD,sBAAMG,EAAE,8MAA8M,sBAAMA,EAAE,4oCAA4oC,sBAAMA,EAAE,qZAK75CiQ,GAFE,SAAA/P,GAAK,OAAI,cAACC,EAAA,EAAD,aAAMC,UAAW4P,IAAiB9P,KCoC7CgQ,I,OAlCE,SAAC,GAA0F,IAAxFC,EAAuF,EAAvFA,eAAgBzH,EAAuE,EAAvEA,eAAgB/G,EAAuD,EAAvDA,KAAMiF,EAAiD,EAAjDA,WAAYC,EAAqC,EAArCA,KAAMF,EAA+B,EAA/BA,KAAMN,EAAyB,EAAzBA,IAAKmF,EAAoB,EAApBA,MAAOuE,EAAa,EAAbA,OAC1F,OACI,sBAAKzP,UAAU,YAAf,UACI,sBAAKA,UAAU,mBAAf,UACI,oBAAGA,UAAU,kBAAb,UAAiCqB,EAAM,uBAAMrB,UAAU,kBAAhB,eAAsCuG,EAAtC,UACvC,mBAAGvG,UAAU,yBAAb,SAAwCsG,IACxC,oBAAGtG,UAAU,mBAAb,UAAkCkL,EAAO,sBAAMlL,UAAU,iBAAhB,SAAmC+F,EAAG,UAAMA,EAAN,KAAe,WAElG,sBAAK/F,UAAU,+BAAf,UACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,EAAD,IACA,qBAAKA,UAAU,kBAAf,SAAmCqG,OAEvC,sBAAKrG,UAAU,qBAAf,YACOoI,GAAkB,wBAAQpI,UAAU,WAAWY,QAAUwH,EAAvC,SAAwD,cAAC,GAAD,CAAUqH,OAASA,MAChG,wBAAQ7O,QAAUiP,EAAlB,SAAmC,cAAC,GAAD,iBC2BxC/C,I,OAAAA,aARS,SAAC,GAAD,IAAG5D,EAAH,EAAGA,YAAH,MAAsB,CAC1CmB,MAAOnB,EAAYmB,MACnBN,UAAWb,EAAYa,UACvBQ,YAAarB,EAAYqB,gBAGF,SAAAxB,GAAQ,OAAIgE,YAAmB,CAAEjD,oBAAkBD,0BAAyBd,KAExF+D,EAvCE,SAAC,GAAgF,IAA9EzC,EAA6E,EAA7EA,MAAON,EAAsE,EAAtEA,UAAWQ,EAA2D,EAA3DA,YAAaT,EAA8C,EAA9CA,iBAAkBD,EAA4B,EAA5BA,sBAC7DZ,EAAOoB,EAAMxE,QAAU0E,EAAYP,KAAKmE,KAAI,SAAAjE,GAC5C,IAAItF,EAAOyF,EAAMJ,MAAK,SAAArF,GAAI,OAAIA,EAAKnB,KAAOyG,EAAKzG,MAO/C,OAAO,cAAC,GAAD,CAAwBpC,KAAMuD,EAAKvD,KAAMiF,WAAY1B,EAAK0B,WAAYC,KAAM3B,EAAK2B,KAAMF,KAAMzB,EAAKyB,KAAMN,IAAKnB,EAAKmB,IAAKmF,MAAOtG,EAAKsG,MAAO9C,eANpH,WACzB0B,EAAiBlF,EAAKnB,KAK6JoM,eAH1J,WACzBhG,EAAsBjF,EAAKnB,GAAI,gBAE0LgM,OAAQ1F,EAAUd,KAAKrE,EAAKnB,KAAnOmB,EAAKnB,OAC5B0I,UACH,OACI,sBAAKnM,UAAU,0BAAf,UACI,qBAAKA,UAAU,yBAAf,4FACA,qBAAKA,UAAU,iBAAf,UACU,OAAJiJ,QAAI,IAAJA,OAAA,EAAAA,EAAMpD,QAASoD,EAAQ,qBAAKjJ,UAAU,4BAE5C,qBAAKA,UAAU,yBACf,cAAC,EAAD,CAAYwE,QAAS,iBCqBlBsI,I,OAAAA,aARS,SAAC,GAAD,IAAG5D,EAAH,EAAGA,YAAH,MAAsB,CAC1CmB,MAAOnB,EAAYmB,MACnB1J,QAASuI,EAAYvI,QACrBoJ,UAAWb,EAAYa,cAGA,SAAAhB,GAAQ,OAAIgE,YAAmB,CAAEjD,oBAAkBD,0BAAyBd,KAExF+D,EAvCC,SAAC,GAA4E,IAA1EzC,EAAyE,EAAzEA,MAAON,EAAkE,EAAlEA,UAAWpJ,EAAuD,EAAvDA,QAASmJ,EAA8C,EAA9CA,iBAAkBD,EAA4B,EAA5BA,sBACxDZ,EAAOoB,EAAMxE,QAAUlF,EAAQqJ,KAAKmE,KAAI,SAAAjE,GACxC,IAAItF,EAAOyF,EAAMJ,MAAK,SAAArF,GAAI,OAAIA,EAAKnB,KAAOyG,EAAKzG,MAO/C,OAAO,cAAC,GAAD,CAA8CpC,KAAMuD,EAAKvD,KAAMiF,WAAY1B,EAAK0B,WAAYC,KAAM3B,EAAK2B,KAAMF,KAAMzB,EAAKyB,KAAMN,IAAKnB,EAAKmB,IAAKmF,MAAOtG,EAAKsG,MAAO9C,eAN1I,WACzB0B,EAAiBlF,EAAKnB,KAKmLoM,eAHhL,WACzBhG,EAAsBjF,EAAKnB,KAEoNgM,OAAQ1F,EAAUd,KAAKrE,EAAKnB,KAAxQ,UAAkBmB,EAAKnB,IAAvB,OAA4ByG,EAAK4F,eAE5C,OACI,sBAAK9P,UAAU,yBAAf,UACI,qBAAKA,UAAU,wBAAf,2HACA,qBAAKA,UAAU,gBAAf,UACU,OAAJiJ,QAAI,IAAJA,OAAA,EAAAA,EAAMpD,QAASoD,EAAQ,qBAAKjJ,UAAU,2BAE5C,qBAAKA,UAAU,wBACf,cAAC,EAAD,CAAYwE,QAAS,iBCqBlBsI,I,OAAAA,aARS,SAAC,GAAD,IAAG5D,EAAH,EAAGA,YAAH,MAAsB,CAC1CmB,MAAOnB,EAAYmB,MACnBN,UAAWb,EAAYa,UACvBO,UAAWpB,EAAYoB,cAGA,SAAAvB,GAAQ,OAAIgE,YAAmB,CAAEjD,oBAAkBD,0BAAyBd,KAExF+D,EAvCG,SAAC,GAA8E,IAA5EzC,EAA2E,EAA3EA,MAAON,EAAoE,EAApEA,UAAWO,EAAyD,EAAzDA,UAAWR,EAA8C,EAA9CA,iBAAkBD,EAA4B,EAA5BA,sBAC5DZ,EAAOoB,EAAMxE,QAAUyE,EAAUN,KAAKmE,KAAI,SAAAjE,GAC1C,IAAItF,EAAOyF,EAAMJ,MAAK,SAAArF,GAAI,OAAIA,EAAKnB,KAAOyG,EAAKzG,MAO/C,OAAO,cAAC,GAAD,CAAwBpC,KAAMuD,EAAKvD,KAAMiF,WAAY1B,EAAK0B,WAAYC,KAAM3B,EAAK2B,KAAMF,KAAMzB,EAAKyB,KAAMN,IAAKnB,EAAKmB,IAAKmF,MAAOtG,EAAKsG,MAAO9C,eANpH,WACzB0B,EAAiBlF,EAAKnB,KAK6JoM,eAH1J,WACzBhG,EAAsBjF,EAAKnB,GAAI,cAE0LgM,OAAQ1F,EAAUd,KAAKrE,EAAKnB,KAAnOmB,EAAKnB,OAC5B0I,UACH,OACI,sBAAKnM,UAAU,2BAAf,UACI,qBAAKA,UAAU,0BAAf,gFACA,qBAAKA,UAAU,kBAAf,UACM,OAAJiJ,QAAI,IAAJA,OAAA,EAAAA,EAAMpD,QAASoD,EAAQ,qBAAKjJ,UAAU,6BAExC,qBAAKA,UAAU,0BACf,cAAC,EAAD,CAAYwE,QAAS,iBCqBlBsI,I,OAAAA,aARS,SAAC,GAAD,IAAG5D,EAAH,EAAGA,YAAH,MAAsB,CAC1CmB,MAAOnB,EAAYmB,MACnBN,UAAWb,EAAYa,UACvBS,UAAWtB,EAAYsB,cAGA,SAAAzB,GAAQ,OAAIgE,YAAmB,CAAEjD,oBAAkBtB,wBAAuBO,KAEtF+D,EAvCG,SAAC,GAA4E,IAA1EzC,EAAyE,EAAzEA,MAAON,EAAkE,EAAlEA,UAAWS,EAAuD,EAAvDA,UAAWV,EAA4C,EAA5CA,iBAAkBtB,EAA0B,EAA1BA,oBAC5DS,EAAOoB,EAAMxE,QAAU2E,EAAUR,KAAKmE,KAAI,SAAAjE,GAC1C,IAAItF,EAAOyF,EAAMJ,MAAK,SAAArF,GAAI,OAAIA,EAAKnB,KAAOyG,EAAKzG,MAO/C,OAAO,cAAC,GAAD,CAAwBpC,KAAMuD,EAAKvD,KAAMiF,WAAY1B,EAAK0B,WAAYC,KAAM3B,EAAK2B,KAAMF,KAAMzB,EAAKyB,KAAMN,IAAKnB,EAAKmB,IAAKmF,MAAOtG,EAAKsG,MAAO9C,eANpH,WACzB0B,EAAiBlF,EAAKnB,KAK6JoM,eAH1J,WACzBrH,EAAoB5D,EAAKnB,KAEgMgM,OAAQ1F,EAAUd,KAAKrE,EAAKnB,KAAnOmB,EAAKnB,OAC5B0I,UACH,OACI,sBAAKnM,UAAU,2BAAf,UACI,qBAAKA,UAAU,0BAAf,4EACA,qBAAKA,UAAU,kBAAf,UACM,OAAJiJ,QAAI,IAAJA,OAAA,EAAAA,EAAMpD,QAASoD,EAAQ,qBAAKjJ,UAAU,6BAExC,qBAAKA,UAAU,0BACf,cAAC,EAAD,CAAYwE,QAAS,iBCelBsI,I,OAAAA,aAPS,SAAC,GAAD,IAAG5D,EAAH,EAAGA,YAAH,MAAsB,CAC1CmB,MAAOnB,EAAYmB,MACnBN,UAAWb,EAAYa,cAGA,SAAAhB,GAAQ,OAAIgE,YAAmB,CAAElD,0BAAyBd,KAEtE+D,EAjCG,SAAC,GAAiD,IAA/CzC,EAA8C,EAA9CA,MAAON,EAAuC,EAAvCA,UAAWF,EAA4B,EAA5BA,sBAC/BZ,EAAOoB,EAAMxE,QAAUkE,EAAUC,KAAKmE,KAAI,SAAAjE,GAC1C,IAAItF,EAAOyF,EAAMJ,MAAK,SAAArF,GAAI,OAAIA,EAAKnB,KAAOyG,EAAKzG,MAI/C,OAAO,cAAC,GAAD,CAAwBpC,KAAMuD,EAAKvD,KAAMiF,WAAY1B,EAAK0B,WAAYC,KAAM3B,EAAK2B,KAAMF,KAAMzB,EAAKyB,KAAMN,IAAKnB,EAAKmB,IAAKmF,MAAOtG,EAAKsG,MAAO2E,eAHpH,WACzBhG,EAAsBjF,EAAKnB,GAAI,eAEbmB,EAAKnB,OAC5B0I,UACH,OACI,sBAAKnM,UAAU,2BAAf,UACI,qBAAKA,UAAU,0BAAf,oEACA,qBAAKA,UAAU,kBAAf,UACS,OAAJiJ,QAAI,IAAJA,OAAA,EAAAA,EAAMpD,QAASoD,EAAQ,qBAAKjJ,UAAU,6BAE3C,qBAAKA,UAAU,0BACf,cAAC,EAAD,CAAYwE,QAAS,iBCOlBuL,GAlBA,SAACnQ,GACZ,OACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOoQ,OAAK,EAACC,KAAK,IAAInQ,UAAYC,IAClC,cAAC,IAAD,CAAOkQ,KAAK,SAASnQ,UAAYsB,IACjC,cAAC,IAAD,CAAO6O,KAAK,gBAAgBnQ,UAAYoQ,IACxC,cAAC,IAAD,CAAOD,KAAK,QAAQnQ,UAAYqQ,KAChC,cAAC,IAAD,CAAOF,KAAK,YAAYnQ,UAAYoE,KACpC,cAAC,IAAD,CAAO+L,KAAK,SAASnQ,UAAYsQ,KACjC,cAAC,IAAD,CAAOH,KAAK,WAAWnQ,UAAYuQ,KACnC,cAAC,IAAD,CAAOJ,KAAK,YAAYnQ,UAAYwQ,KACpC,cAAC,IAAD,CAAOL,KAAK,aAAanQ,UAAYyQ,KACrC,cAAC,IAAD,CAAON,KAAK,aAAanQ,UAAY0Q,KACrC,cAAC,IAAD,CAAOP,KAAK,aAAanQ,UAAY2Q,SCKlC3D,gBANS,SAAC,GAAD,MAAsB,CAC5CpD,SADsB,EAAGR,YACHQ,aAGG,SAAAX,GAAQ,OAAIgE,YAAmB,CAAEP,eAAczD,KAE3D+D,EAzBH,SAAC,GAA8B,IAA5BN,EAA2B,EAA3BA,WAAY9C,EAAe,EAAfA,SAOzB,OANAjE,qBAAU,WACR+G,OAGFkE,SAASC,KAAKC,UAAUC,OAAO,OAAQnH,EAASuE,MAG9C,qBAAKjO,UAAU,MAAf,SACE,cAAC,GAAD,S,mECdA8Q,GAAc,SAAChI,GAAD,OAAcK,aAAa4H,QAAQjI,GAAYO,KAAK2H,MAAM7H,aAAa4H,QAAQjI,IAAa,CAAEkB,KAAM,GAAIf,KAAM,KAc5HgI,GAAY,CACd5G,MAAO,GACPzF,KAAM,KACNjE,QAASmQ,GAAY,WACrBxG,UAAWwG,GAAY,aACvBvG,YAAauG,GAAY,eACzBtG,UAAW,CAAER,KAAM,GAAIf,KAAM,IAC7Bc,UAAW+G,GAAY,aACvBpH,SArB0BP,aAAa4H,QAAQ,YACrB1H,KAAK2H,MAAM7H,aAAa4H,QAAQ,aAChC,CACE9C,MAAM,EACNxD,QAAS,CACLC,MAAO,CAAC,OAAQ,WAChBhE,OAAQ,CAAC,uCAAS,6CAAW,kCAC7BF,UAAW,CAAC,uCAAS,sBACrBmE,QAAS,CAAC,EAAG,IACbC,MAAO,CAAC,KAAM,QAa9CsG,WAAW,EACXvL,aAAc,CAAC1D,QAAS,GAAIyD,YAAa,IACzClC,MAAO,MAGI,SAAS0F,KAAwC,IAA5BiI,EAA2B,uDAAnBF,GAAWG,EAAQ,uCAC3D,OAAQA,EAAO7Q,MACX,KAAKsG,EACD,OAAOwK,KAAOF,EAAO,CACjBD,UAAW,CACPI,MAAM,KAIlB,KAAKxK,EACD,OAAOuK,KAAOF,EAAO,CACjBD,UAAW,CACPI,MAAM,GAEV9N,MAAO,CACH8N,KAAMF,EAAO5N,SAIzB,KAAKoD,EACD,OAAOyK,KAAOF,EAAO,CACjB9G,MAAO,CACHiH,KAAK,aAAKF,EAAO/G,QAErB7G,MAAO,CACH8N,KAAM,QAIlB,KAAK1J,GACD,OAAOyJ,KAAOF,EAAO,CACjBvM,KAAM,CACF0M,KAAK,eAAMH,EAAM9G,MAAM+G,EAAOxM,QAElCsM,UAAW,CACPI,MAAM,GAEV9N,MAAO,CACH8N,KAAM,QAIlB,KAAKvK,EACD,OAAOsK,KAAOF,EAAO,CACjBxQ,QAAS,CACL4Q,OAAO,2BACAJ,EAAMxQ,SADP,IAEFqJ,KAAK,GAAD,oBACGmH,EAAMxQ,QAAQqJ,MADjB,CAEA,CACIvG,GAAI2N,EAAOnJ,OACX6H,UAAW0B,KAAKC,MAChBhC,OAAQ,WAGhBxG,KAAK,2BACEkI,EAAMxQ,QAAQsI,MADjB,mBAECmI,EAAOnJ,QAAS,SAMrC,KAAKjB,EACD,OAAOqK,KAAOF,EAAO,CACjB7G,UAAW,CACPiH,OAAO,2BACAJ,EAAM7G,WADP,IAEFN,KAAK,GAAD,oBACGmH,EAAM7G,UAAUN,MADnB,CAEA,CACIvG,GAAI2N,EAAOnJ,OACX6H,UAAW0B,KAAKC,MAChBhC,OAAQ,WAGhBxG,KAAK,2BACEkI,EAAM7G,UAAUrB,MADnB,mBAECmI,EAAOnJ,QAAS,SAMrC,KAAKhB,GACD,OAAOoK,KAAOF,EAAO,CACjB3G,UAAW,CACP+G,OAAO,2BACAJ,EAAM3G,WADP,IAEFR,KAAK,GAAD,oBACGmH,EAAM3G,UAAUR,MADnB,CAEA,CACIvG,GAAI2N,EAAOnJ,OACX6H,UAAW0B,KAAKC,MAChBhC,OAAQ,WAGhBxG,KAAK,2BACEkI,EAAM3G,UAAUvB,MADnB,mBAECmI,EAAOnJ,QAAS,SAMrC,KAAKf,GACD,OAAOmK,KAAOF,EAAO,CACjB5G,YAAa,CACTgH,OAAO,2BACAJ,EAAM5G,aADP,IAEFP,KAAK,GAAD,oBACGmH,EAAM5G,YAAYP,MADrB,CAEA,CACIvG,GAAI2N,EAAOnJ,OACX6H,UAAW0B,KAAKC,MAChBhC,OAAQ,WAGhBxG,KAAK,2BACEkI,EAAM5G,YAAYtB,MADrB,mBAECmI,EAAOnJ,QAAS,SAMrC,KAAKd,GACD,OAAOkK,KAAOF,EAAO,CACjBpH,UAAW,CACPwH,OAAO,2BACAJ,EAAMpH,WADP,IAEFC,KAAK,GAAD,oBACGmH,EAAMpH,UAAUC,MADnB,CAEA,CACIvG,GAAI2N,EAAOnJ,OACX6H,UAAW0B,KAAKC,MAChBhC,OAAQ,WAGhBxG,KAAK,2BACEkI,EAAMpH,UAAUd,MADnB,mBAECmI,EAAOnJ,QAAS,SAMrC,KAAKb,GACD,IAAIsK,EAAaP,EAAMxQ,QAAQqJ,KAAKC,MAAK,SAAArF,GAAI,OAAIA,EAAKnB,KAAO2N,EAAOnJ,UAGpE,OAFAkJ,EAAMxQ,QAAQqJ,KAAK2H,OAAOR,EAAMxQ,QAAQqJ,KAAK4H,QAAQF,GAAa,UAC3DP,EAAMxQ,QAAQsI,KAAKmI,EAAOnJ,QAC1BoJ,KAAOF,EAAO,CACjBxQ,QAAS,CACL2Q,KAAK,eAAKH,EAAMxQ,YAI5B,KAAK0G,GACD,IAAIqK,EAAaP,EAAM5G,YAAYP,KAAKC,MAAK,SAAArF,GAAI,OAAIA,EAAKnB,KAAO2N,EAAOnJ,UAGxE,OAFAkJ,EAAM5G,YAAYP,KAAK2H,OAAOR,EAAM5G,YAAYP,KAAK4H,QAAQF,GAAa,UACnEP,EAAM5G,YAAYtB,KAAKmI,EAAOnJ,QAC9BoJ,KAAOF,EAAO,CACjB5G,YAAa,CACT+G,KAAK,eAAKH,EAAM5G,gBAI5B,KAAKjD,GACD,IAAIoK,EAAaP,EAAM7G,UAAUN,KAAKC,MAAK,SAAArF,GAAI,OAAIA,EAAKnB,KAAO2N,EAAOnJ,UAGtE,OAFAkJ,EAAM7G,UAAUN,KAAK2H,OAAOR,EAAM7G,UAAUN,KAAK4H,QAAQF,GAAa,UAC/DP,EAAM7G,UAAUrB,KAAKmI,EAAOnJ,QAC5BoJ,KAAOF,EAAO,CACjB7G,UAAW,CACPgH,KAAK,eAAKH,EAAM7G,cAI5B,KAAK/C,GACD,IAAImK,EAAaP,EAAM3G,UAAUR,KAAKC,MAAK,SAAArF,GAAI,OAAIA,EAAKnB,KAAO2N,EAAOnJ,UAGtE,OAFAkJ,EAAM3G,UAAUR,KAAK2H,OAAOR,EAAM3G,UAAUR,KAAK4H,QAAQF,GAAa,UAC/DP,EAAM3G,UAAUvB,KAAKmI,EAAOnJ,QAC5BoJ,KAAOF,EAAO,CACjB3G,UAAW,CACP8G,KAAK,eAAKH,EAAM3G,cAI5B,KAAKhD,GACD,IAAIkK,EAAaP,EAAMpH,UAAUC,KAAKC,MAAK,SAAArF,GAAI,OAAIA,EAAKnB,KAAO2N,EAAOnJ,UAGtE,OAFAkJ,EAAMpH,UAAUC,KAAK2H,OAAOR,EAAMpH,UAAUC,KAAK4H,QAAQF,GAAa,UAC/DP,EAAMpH,UAAUd,KAAKmI,EAAOnJ,QAC5BoJ,KAAOF,EAAO,CACjBpH,UAAW,CACPuH,KAAK,eAAKH,EAAMpH,cAI5B,KAAKrC,GACD,OAAO2J,KAAOF,EAAO,CACjBxL,aAAc,CACV2L,KAAM,CACFrP,QAASmP,EAAOnP,QAChByD,YAAa0L,EAAO1L,YACpBnF,KAAM6Q,EAAOxI,eAK7B,KAAKjB,GACD,OAAO0J,KAAOF,EAAO,CACjBxL,aAAc,CACV2L,KAAM,CAACrP,QAAS,GAAIyD,YAAa,OAI7C,KAAKmC,GACD,OAAOwJ,KAAOF,EAAO,CACjBxQ,QAAS,CACL2Q,KAAM,CACFtH,KAAM,GACNf,KAAM,KAGdc,UAAW,CACPuH,KAAM,CACFtH,KAAM,GACNf,KAAM,KAGdsB,YAAa,CACT+G,KAAM,CACFtH,KAAM,GACNf,KAAM,KAGdqB,UAAW,CACPgH,KAAM,CACFtH,KAAM,GACNf,KAAM,OAKtB,KAAKxB,GACD,OAAO4J,KAAOF,EAAO,CACjBzH,SAAU,CACN4H,KAAM,CACFrD,KAAMmD,EAAO1H,SAASuE,KACtBxD,QAAS,CACLC,MAAM,aAAK0G,EAAO1H,SAASe,QAAQC,OACnCC,QAAQ,aAAKyG,EAAO1H,SAASe,QAAQE,SACrCC,MAAM,aAAKwG,EAAO1H,SAASe,QAAQG,OACnClE,OAAO,aAAK0K,EAAO1H,SAASe,QAAQ/D,QACpCF,UAAU,aAAK4K,EAAO1H,SAASe,QAAQjE,gBAM3D,QACI,OAAO2K,GC7RJ,IAAAxQ,GCHA,ICFA,SAAAwQ,GAAK,OAAI,SAAAU,GAAI,OAAI,SAAAT,GAC5B,OAAOS,EAAKT,OCMHzQ,GAAUmR,eAGjBC,GAAWC,OAAOC,6BAA+BC,YACnDC,IAAe,WAAf,GAAgBC,aAAiBzR,IAAU0R,MAA3C,oBAAqDC,MACrDN,OAAOC,gCACPC,YACAC,IAAe,WAAf,GAAgBC,aAAiBzR,IAAU0R,MAA3C,oBAAqDC,OAG5CnB,GAAQoB,aHZN5R,GGaEA,GHbS6R,YAAgB,CACtCC,OAAQC,YAAc/R,IACtBuI,kBGYA6I,ICTJY,IAASC,OACP,cAAC,IAAD,CAAUzB,MAAOA,GAAjB,SACI,cAAC,IAAD,CAAiBxQ,QAASA,GAA1B,SACE,cAAC,GAAD,QAGN+P,SAASmC,eAAe,SAG1BnU,M","file":"static/js/main.8589d47a.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import Icon from '@ant-design/icons';\r\n\r\nconst SearchSvg = () => (\r\n    <svg version=\"1.1\" x=\"0px\" y=\"0px\"\r\n        viewBox=\"0 0 37.166 37.166\" width=\"1em\" height=\"1em\">\r\n        <path d=\"M35.829,32.045l-6.833-6.833c-0.513-0.513-1.167-0.788-1.836-0.853c2.06-2.567,3.298-5.819,3.298-9.359\r\n\tc0-8.271-6.729-15-15-15c-8.271,0-15,6.729-15,15c0,8.271,6.729,15,15,15c3.121,0,6.021-0.96,8.424-2.598\r\n\tc0.018,0.744,0.305,1.482,0.872,2.052l6.833,6.833c0.585,0.586,1.354,0.879,2.121,0.879s1.536-0.293,2.121-0.879\r\n\tC37.001,35.116,37.001,33.217,35.829,32.045z M15.458,25c-5.514,0-10-4.484-10-10c0-5.514,4.486-10,10-10c5.514,0,10,4.486,10,10\r\n\tC25.458,20.516,20.972,25,15.458,25z\"/>\r\n    </svg>\r\n);\r\n\r\nconst Search = props => <Icon component={ SearchSvg } { ...props } />;\r\n\r\nexport default Search;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Texty from 'rc-texty';\r\nimport 'rc-texty/assets/index.css';\r\n\r\nimport Search from '../../components/icons/Search';\r\n\r\nimport './Home.scss';\r\n\r\nconst Home = (props) => {\r\n  const anim = (e) => {\r\n    switch (e.index) {\r\n      case 0:\r\n        return {\r\n          rotate: 90,\r\n          opacity: 0,\r\n          y: -100,\r\n        };\r\n      case 1:\r\n        return {\r\n          y: -60,\r\n          x: -15,\r\n          opacity: 0,\r\n        };\r\n      case 2:\r\n        return {\r\n          y: -100,\r\n          x: 60,\r\n          opacity: 0,\r\n        };\r\n      case 3:\r\n        return {\r\n          y: 100,\r\n          opacity: 0,\r\n        };\r\n      case 4:\r\n        return {\r\n          x: 60,\r\n          opacity: 0,\r\n        };\r\n      case 5:\r\n        return {\r\n          enter: [\r\n            {\r\n              scale: 2,\r\n              opacity: 0,\r\n              type: 'set',\r\n            },\r\n            { scale: 1.2, opacity: 1, duration: 500 },\r\n            { scale: 0.9, duration: 400 },\r\n            { scale: 1.05, duration: 200 },\r\n            { scale: 1, duration: 100 },\r\n          ]\r\n        };\r\n      case 6:\r\n        return {\r\n          scale: 0.8,\r\n          x: 60,\r\n          y: -20,\r\n          opacity: 0,\r\n        };\r\n      default:\r\n        return {\r\n          opacity: 0,\r\n        };\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"main-page theme\">\r\n      <h1 className=\"main-page__title\"><Texty enter={anim}>gotfilm</Texty></h1>\r\n      <Link className=\"main-page__icon\" to=\"/film\">\r\n        <Search className=\"search-icon_home theme\" />\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst CustomLink = ({ history, to, onClick, tag: Tag, ...rest }) => (\r\n    <Tag\r\n        { ...rest }\r\n        onClick={ (event) => {\r\n            onClick(event);\r\n            history.push(to)\r\n        } }\r\n    />\r\n);\r\n\r\nCustomLink.propTypes = {\r\n    to: PropTypes.string.isRequired,\r\n    children: PropTypes.node.isRequired,\r\n    history: PropTypes.shape({\r\n        push: PropTypes.func.isRequired\r\n    }).isRequired,\r\n    onClick: PropTypes.func\r\n};\r\nCustomLink.defaultProps = {\r\n    onClick: () => { }\r\n};\r\nexport default withRouter(CustomLink);","import React from 'react'\r\nimport { Form, Input, Button, Checkbox } from 'antd'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport './LoginPage.scss'\r\nimport CustomLink from '../../components/CustomLink'\r\n\r\nconst LoginForm = (props) => {\r\n  const onFinish = (values) => {\r\n    alert('Логин, пароль, статус чекбокса выведены в консоль.')\r\n    console.log('Received values of form: ', values)\r\n  }\r\n\r\n  return (\r\n    <div className='formWrapper theme'>\r\n      <Form\r\n        name='login-form'\r\n        className='loginForm theme'\r\n        initialValues={{\r\n          remember: true,\r\n        }}\r\n        onFinish={onFinish}\r\n      >\r\n        <Title className='loginForm__title' level={2}>\r\n          Вход\r\n        </Title>\r\n        <Form.Item\r\n          name='username'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Пожалуйста введите имя или ник!',\r\n            },\r\n          ]}\r\n        >\r\n          <label className='theme'>\r\n            Имя пользователя\r\n            <Input placeholder='Ваше имя' />\r\n          </label>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name='password'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Пожалуйста введите пароль!',\r\n            },\r\n          ]}\r\n        >\r\n          <label className='theme'>\r\n            Пароль\r\n            <Input.Password type='password' placeholder='Ваш пароль' />\r\n          </label>\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Form.Item name='remember' noStyle valuePropName='checked'>\r\n            <Checkbox className='theme'>Запомнить меня</Checkbox>\r\n          </Form.Item>\r\n\r\n          <Link className='loginForm__forgot' to='/recovery_password'>\r\n            Забыли пароль?\r\n          </Link>\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Button htmlType='submit' className='loginForm__button'>\r\n            войти\r\n          </Button>\r\n          <div className='loginForm--switcher theme'>\r\n            или{' '}\r\n            <Link className='loginForm__linkToRegistration' to='/registration'>\r\n              зарегистрировать аккаунт\r\n            </Link>\r\n          </div>\r\n        </Form.Item>\r\n      </Form>\r\n      <CustomLink\r\n        className='linkToSettings loginForm__button'\r\n        to='/settings'\r\n        tag={Button}\r\n      >\r\n        Назад к настройкам\r\n      </CustomLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginForm\r\n","import { Form, Input, Button, Checkbox } from \"antd\";\r\nimport Title from \"antd/lib/typography/Title\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CustomLink from \"../../components/CustomLink\";\r\n\r\nimport \"./RegistrationPage.scss\";\r\n\r\nconst RegistrationPage = (props) => {\r\n  const onFinish = (values) => {\r\n    alert(\r\n      \"Юзернейм, email, пароль, подтверждение пароля, статус чекбокса выведены в консоль.\"\r\n    );\r\n    console.log(\"Received values of form: \", values);\r\n  };\r\n\r\n  return (\r\n    <div className=\"formWrapper theme\">\r\n      <Form\r\n        name=\"registration-form\"\r\n        className=\"regForm theme\"\r\n        initialValues={{\r\n          remember: true,\r\n        }}\r\n        onFinish={onFinish}\r\n      >\r\n        <Title className=\"regForm__title\" level={2}>\r\n          Регистрация\r\n        </Title>\r\n        <Form.Item\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Пожалуйста введите имя или ник!\",\r\n            },\r\n          ]}\r\n        >\r\n          <label className=\"theme\">\r\n            Имя пользователя\r\n            <Input placeholder=\"Ваше имя\" />\r\n          </label>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"email\"\r\n          rules={[\r\n            {\r\n              type: \"email\",\r\n              required: true,\r\n              message: \"Введённый почтвой адрес не корректен\",\r\n            },\r\n            {\r\n              required: true,\r\n              message: \"Пожалуйста введите свою почту\",\r\n            },\r\n          ]}\r\n        >\r\n          <label className=\"theme\">\r\n            E-mail\r\n            <Input placeholder=\"Ваша почта\" />\r\n          </label>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Пожалуйста введите пароль!\",\r\n            },\r\n          ]}\r\n          hasFeedback\r\n        >\r\n          <label className=\"theme\">\r\n            Пароль\r\n            <Input.Password placeholder=\"Ваш пароль\" />\r\n          </label>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"confirm\"\r\n          dependencies={[\"password\"]}\r\n          hasFeedback\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Пожалуйста подтвердите введённый пароль!\",\r\n            },\r\n            ({ getFieldValue }) => ({\r\n              validator(_, value) {\r\n                if (!value || getFieldValue(\"password\") === value) {\r\n                  return Promise.resolve();\r\n                }\r\n\r\n                return Promise.reject(\r\n                  new Error(\"Введённые пароли несовпадают!\")\r\n                );\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          <label className=\"theme\">\r\n            Подтверждение пароля\r\n            <Input.Password placeholder=\"Подтвердите свой пароль\" />\r\n          </label>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"agreement\"\r\n          valuePropName=\"checked\"\r\n          rules={[\r\n            {\r\n              validator: (_, value) =>\r\n                value\r\n                  ? Promise.resolve()\r\n                  : Promise.reject(\r\n                      new Error(\"Для регистрации примите соглашение\")\r\n                    ),\r\n            },\r\n          ]}\r\n        >\r\n          <Checkbox className=\"theme\">\r\n            Я прочитал(а){\" \"}\r\n            <Link className=\"regForm__agreement\" to=\"/agreement\">\r\n              соглашение\r\n            </Link>\r\n          </Checkbox>\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Button htmlType=\"submit\" className=\"regForm__button\">\r\n            Зарегистрироваться\r\n          </Button>\r\n        </Form.Item>\r\n\r\n        <div className=\"regForm--switcher theme\">\r\n          или{\" \"}\r\n          <Link className=\"regForm__linkToLogin\" to=\"/login\">\r\n            уже есть аккаунт\r\n          </Link>\r\n        </div>\r\n      </Form>\r\n      <CustomLink\r\n        className='linkToSettings loginForm__button'\r\n        to='/settings'\r\n        tag={Button}\r\n      >\r\n        Назад к настройкам\r\n      </CustomLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegistrationPage;\r\n","import React from 'react';\r\nimport { Spin } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\nimport './Spinner.scss';\r\n\r\nconst Spinner = (props) => {\r\n    return <Spin className=\"loadingSpinner\" indicator={<LoadingOutlined spin />} />\r\n};\r\n\r\nexport default Spinner;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './FilmCard.scss';\r\n\r\nconst ErrorFilmCard = ({ error }) => {\r\n    return (\r\n        <div className=\"filmCard--wrapper\">\r\n            <div className=\"filmCard__poster\"></div>\r\n            <div className=\"filmCard__infoBlock\">\r\n                <div className=\"filmCard__infoBlock--titleWrapper\">\r\n                    <p className=\"filmCard__infoBlock__rate\">\r\n                    </p>\r\n                </div>\r\n                <div className=\"filmCard__infoBlock--secondTitleWrapper\">\r\n                    <p className=\"filmCard__infoBlock__secondTitle\"></p>\r\n                    <p className=\"filmCard__infoBlock__year\"></p>\r\n                </div>\r\n                <p className=\"filmCard__infoBlock__error\"><span>{error}</span></p>\r\n                <input type=\"checkbox\" name=\"hiddenDesc\" id=\"hiddenDesc\" className=\"inputDesc\" />\r\n                <label htmlFor=\"hiddenDesc\" className=\"filmCard__infoBlock__description--label\">\r\n                    <p className=\"filmCard__infoBlock__description\"></p>\r\n                </label>\r\n            </div>\r\n            <div className=\"filmCard__footer\">\r\n                <div className=\"filmCard__footer__buttonGroup\">\r\n                </div>\r\n                <div className=\"filmCard__footer__emptyBlock\" ></div>\r\n            </div>\r\n            <div className=\"navigation\"></div>\r\n        </div>\r\n    )\r\n};\r\n\r\nErrorFilmCard.propTypes = {\r\n    error: PropTypes.string\r\n};\r\n\r\nexport default ErrorFilmCard;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'antd';\r\n\r\nimport './FilmCardButton.scss';\r\n\r\nconst FilmCardButton = (props) => {\r\n    return (\r\n        <Button onClick={props.eventAction} className=\"button\">{props.children}</Button>\r\n    )\r\n};\r\n\r\nFilmCardButton.propTypes = {\r\n    eventAction: PropTypes.func,\r\n    children: PropTypes.string\r\n}\r\n\r\nexport default FilmCardButton;","import React from 'react';\r\n\r\nconst Star = (props) => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 676 400\" fill=\"#DA952D\"><path d=\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"></path></svg>\r\n    )\r\n}\r\n\r\nexport default Star;","import Icon from '@ant-design/icons';\r\n\r\nconst SettingsSvg = () => (\r\n    <svg viewBox=\"0 0 48 48\" width=\"35px\" height=\"35px\"><path d=\"M39.139,26.282C38.426,25.759,38,24.919,38,24.034s0.426-1.725,1.138-2.247l3.294-2.415\tc0.525-0.386,0.742-1.065,0.537-1.684c-0.848-2.548-2.189-4.872-3.987-6.909c-0.433-0.488-1.131-0.642-1.728-0.38l-3.709,1.631\tc-0.808,0.356-1.749,0.305-2.516-0.138c-0.766-0.442-1.28-1.23-1.377-2.109l-0.446-4.072c-0.071-0.648-0.553-1.176-1.191-1.307\tc-2.597-0.531-5.326-0.54-7.969-0.01c-0.642,0.129-1.125,0.657-1.196,1.308l-0.442,4.046c-0.097,0.88-0.611,1.668-1.379,2.11\tc-0.766,0.442-1.704,0.495-2.515,0.138l-3.729-1.64c-0.592-0.262-1.292-0.11-1.725,0.377c-1.804,2.029-3.151,4.35-4.008,6.896\tc-0.208,0.618,0.008,1.301,0.535,1.688l3.273,2.4C9.574,22.241,10,23.081,10,23.966s-0.426,1.725-1.138,2.247l-3.294,2.415\tc-0.525,0.386-0.742,1.065-0.537,1.684c0.848,2.548,2.189,4.872,3.987,6.909c0.433,0.489,1.133,0.644,1.728,0.38l3.709-1.631\tc0.808-0.356,1.748-0.305,2.516,0.138c0.766,0.442,1.28,1.23,1.377,2.109l0.446,4.072c0.071,0.648,0.553,1.176,1.191,1.307\tC21.299,43.864,22.649,44,24,44c1.318,0,2.648-0.133,3.953-0.395c0.642-0.129,1.125-0.657,1.196-1.308l0.443-4.046\tc0.097-0.88,0.611-1.668,1.379-2.11c0.766-0.441,1.705-0.493,2.515-0.138l3.729,1.64c0.594,0.263,1.292,0.111,1.725-0.377\tc1.804-2.029,3.151-4.35,4.008-6.896c0.208-0.618-0.008-1.301-0.535-1.688L39.139,26.282z M24,31c-3.866,0-7-3.134-7-7s3.134-7,7-7\ts7,3.134,7,7S27.866,31,24,31z\" /></svg>\r\n);\r\n\r\nconst Settings = props => <Icon component={ SettingsSvg } { ...props } />;\r\n\r\nexport default Settings;","import Icon from '@ant-design/icons';\r\n\r\nconst HamburgerSvg = () => (\r\n    <svg viewBox=\"0 0 100 80\" width=\"32\" height=\"32\">\r\n        <rect width=\"100\" height=\"20\"></rect>\r\n        <rect y=\"30\" width=\"100\" height=\"20\"></rect>\r\n        <rect y=\"60\" width=\"100\" height=\"20\"></rect>\r\n    </svg>\r\n);\r\n\r\nconst Hamburger = props => <Icon component={ HamburgerSvg } { ...props } />;\r\n\r\nexport default Hamburger;","import React from \"react\";\r\nimport Search from '../icons/Search';\r\nimport Settings from '../icons/Settings';\r\nimport Hamburger from '../icons/Hamburger';\r\nimport CustomLink from '../CustomLink';\r\n\r\nimport { Radio } from 'antd';\r\n\r\nimport './Navigation.scss';\r\n\r\nconst Navigation = (props) => {\r\n    return (\r\n        <Radio.Group className=\"navigation__container\" defaultValue={ props.checked } >\r\n\r\n            <CustomLink to='/lists'\r\n                        value=\"lists\"\r\n                        tag={ Radio }\r\n                        className=\"navigation__buttons\"\r\n            >\r\n                <Hamburger />\r\n            </CustomLink>\r\n\r\n            <span className=\"divition-line\"></span>\r\n\r\n            <CustomLink to='/film'\r\n                        value=\"search\"\r\n                        tag={ Radio }\r\n                        className=\"navigation__buttons\"\r\n            >\r\n                <Search className=\"search-icon_small\" />\r\n            </CustomLink>\r\n\r\n            <span className=\"divition-line\"></span>\r\n\r\n            <CustomLink to='/settings'\r\n                        value=\"settings\"\r\n                        tag={ Radio }\r\n                        className=\"navigation__buttons\"\r\n            >\r\n                <Settings />\r\n            </CustomLink>\r\n\r\n        </Radio.Group>\r\n    )\r\n}\r\n\r\nexport default Navigation;","import React, { useCallback, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Image, notification } from 'antd';\r\nimport Spinner from '../../components/Spinner';\r\nimport ErrorFilmCard from './ErrorFilmCard';\r\nimport FilmCardButton from '../../components/FilmCardButton/FilmCardButton';\r\nimport Star from '../../components/icons/Star';\r\nimport './FilmCard.scss';\r\nimport Navigation from '../../components/Navigation/Navigation';\r\n\r\nconst IMAGE_ENDPOINT = 'https://st.kp.yandex.net/images';\r\n\r\nconst FilmCard = ({ film, addToTemporary, seenFilm, removeFilm, error, notify, removeNotification }) => {\r\n    const cardEndRef = useRef(null);\r\n    \r\n    const handleScrollToBottom = useCallback(() => {\r\n        cardEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        handleScrollToBottom();\r\n    });\r\n\r\n    useEffect(() => {\r\n        handleScrollToBottom();\r\n    }, [film, handleScrollToBottom]);\r\n\r\n    useEffect(() => {\r\n        if (notify.message && notify.description) {\r\n            notification[notify.type]({\r\n                duration: 5,\r\n                message: notify.message,\r\n                description: notify.description\r\n            });\r\n            removeNotification();\r\n        }\r\n    }, [notify, removeNotification]);\r\n\r\n    const handleChangeFontSize = useCallback(() => {\r\n        if (film.name.length > 15 && film.name.length < 30) {\r\n            return '20px';\r\n        } else if (film.name.length >= 30) {\r\n            return '18px';\r\n        } else {\r\n            return '25px';\r\n        }\r\n    }, [film]);\r\n\r\n    const ageFormatted = film.age !== null && `, ${film.age}+`;\r\n\r\n    return (\r\n        error ? <ErrorFilmCard error={error}/> :\r\n        <div className=\"filmCard--wrapper theme\">\r\n            <div className=\"filmCard__poster\">\r\n                <img className=\"filmCard__poster__background\" alt=\"\"\r\n                    src={ `${IMAGE_ENDPOINT}/film_iphone/iphone360_${film.id}.jpg` }\r\n                />\r\n                <Image className=\"filmCard__poster__image\" alt={ film.name }\r\n                    preview={ { src: `${IMAGE_ENDPOINT}/film_big/${film.id}.jpg` } }\r\n                    src={ `${IMAGE_ENDPOINT}/film_iphone/iphone360_${film.id}.jpg` }\r\n                    placeholder={ <Spinner /> }\r\n                />\r\n            </div>\r\n            <div className=\"filmCard__infoBlock theme\">\r\n                <div className=\"filmCard__infoBlock--titleWrapper\">\r\n                    <h3 className=\"filmCard__infoBlock__title\" style={ { fontSize: handleChangeFontSize() } }>{ film.name }</h3>\r\n                    <p className=\"filmCard__infoBlock__rate\">\r\n                        <Star />\r\n                        { film.rate }\r\n                    </p>\r\n                </div>\r\n                <div className=\"filmCard__infoBlock--secondTitleWrapper\">\r\n                    <p className=\"filmCard__infoBlock__secondTitle\">{ film.secondName }</p>\r\n                    <p className=\"filmCard__infoBlock__year\">{ film.year }г. ({ film.countries.join(', ') })</p>\r\n                </div>\r\n                <p className=\"filmCard__infoBlock__genre\">{ film.genres.join(', ') }<span>{ ageFormatted }</span></p>\r\n                <hr className=\"filmCard__infoBlock--underline\" />\r\n                <div className=\"filmCard__infoBlock--scrollableWrapper\">\r\n                    <input type=\"checkbox\" name=\"hiddenDesc\" id=\"hiddenDesc\" className=\"inputDesc\" />\r\n                    <label htmlFor=\"hiddenDesc\" className=\"filmCard__infoBlock__description--label\">\r\n                        <p className=\"filmCard__infoBlock__description\">{ film.description }</p>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div className=\"filmCard__footer theme\">\r\n                <div className=\"filmCard__footer__buttonGroup\">\r\n                    <FilmCardButton eventAction={ seenFilm }>уже смотрел</FilmCardButton>\r\n                    <FilmCardButton eventAction={ removeFilm }>не предлагать</FilmCardButton>\r\n                    <FilmCardButton eventAction={ addToTemporary }>в другой раз</FilmCardButton>\r\n                </div>\r\n                <div className=\"filmCard__footer__emptyBlock\" ref={ cardEndRef }></div>\r\n            </div>\r\n            <Navigation checked={ 'search' } />\r\n        </div>\r\n    )\r\n};\r\n\r\nFilmCard.propTypes = {\r\n    error: PropTypes.string,\r\n    notify: PropTypes.object,\r\n    film: PropTypes.object,\r\n    removeFilm: PropTypes.func,\r\n    seenFilm: PropTypes.func,\r\n    addToTemporary: PropTypes.func\r\n};\r\n\r\nexport default FilmCard;","export const LOAD_FILMS = '@@film/LOAD_FILMS';\r\nexport const LOAD_FILMS_STARTED = '@@film/LOAD_FILMS_STARTED';\r\nexport const LOAD_FILMS_FAILURE = '@@film/LOAD_FILMS_FAILURE';\r\nexport const ADD_TO_HISTORY = '@@film/ADD_TO_HISTORY';\r\nexport const ADD_TO_BLACKLIST = '@@film/ADD_TO_BLACKLIST';\r\nexport const ADD_TO_TEMPORARY = '@@film/ADD_TO_TEMPORARY';\r\nexport const ADD_TO_ALREADY_SEEN = '@@film/ADD_TO_ALREADY_SEEN';\r\nexport const ADD_TO_FAVORITES = '@@film/ADD_TO_FAVORITES';\r\nexport const REMOVE_FROM_HISTORY = '@@film/REMOVE_FROM_HISTORY';\r\nexport const REMOVE_FROM_ALREADY_SEEN = '@@film/REMOVE_FROM_ALREADY_SEEN';\r\nexport const REMOVE_FROM_BLACKLIST = '@@film/REMOVE_FROM_BLACKLIST';\r\nexport const REMOVE_FROM_TEMPORARY = '@@film/REMOVE_FROM_TEMPORARY';\r\nexport const REMOVE_FROM_FAVORITES = '@@film/REMOVE_FROM_FAVORITES';\r\nexport const SET_SETTINGS = '@@settings/SET_SETTINGS';\r\nexport const SHOW_NOTIFICATION = '@@film/SHOW_NOTIFICATION';\r\nexport const REMOVE_NOTIFICATION = '@@film/REMOVE_NOTIFICATION';\r\nexport const SELECT_FILM = '@@film/SELECT_FILM';\r\nexport const CLEAR_LISTS = '@@film/CLEAR_LISTS';\r\n\r\nexport const loadFilms = (films) => ({\r\n    type: LOAD_FILMS,\r\n    films\r\n});\r\n\r\nexport const loadFilmsStarted = () => ({\r\n    type: LOAD_FILMS_STARTED\r\n});\r\n\r\nexport const loadFilmsFailure = (error) => ({\r\n    type: LOAD_FILMS_FAILURE,\r\n    error\r\n});\r\n\r\nexport const selectFilm = (film) => ({\r\n    type: SELECT_FILM,\r\n    film\r\n});\r\n\r\nexport const addToHistory = (filmId) => ({\r\n    type: ADD_TO_HISTORY,\r\n    filmId\r\n});\r\n\r\nexport const addToBlacklist = (filmId) => ({\r\n    type: ADD_TO_BLACKLIST,\r\n    filmId\r\n});\r\n\r\nexport const addToTemporary = (filmId) => ({\r\n    type: ADD_TO_TEMPORARY,\r\n    filmId\r\n});\r\n\r\nexport const addToAlreadySeen = (filmId) => ({\r\n    type: ADD_TO_ALREADY_SEEN,\r\n    filmId\r\n});\r\n\r\nexport const addToFavorites = (filmId) => ({\r\n    type: ADD_TO_FAVORITES,\r\n    filmId\r\n});\r\n\r\nexport const removeFromHistory = (filmId) => ({\r\n    type: REMOVE_FROM_HISTORY,\r\n    filmId\r\n});\r\n\r\nexport const removeFromAlreadySeen = (filmId) => ({\r\n    type: REMOVE_FROM_ALREADY_SEEN,\r\n    filmId\r\n});\r\n\r\nexport const removeFromBlacklist = (filmId) => ({\r\n    type: REMOVE_FROM_BLACKLIST,\r\n    filmId\r\n});\r\n\r\nexport const removeFromTemporary = (filmId) => ({\r\n    type: REMOVE_FROM_TEMPORARY,\r\n    filmId\r\n});\r\n\r\nexport const removeFromFavorites = (filmId) => ({\r\n    type: REMOVE_FROM_FAVORITES,\r\n    filmId\r\n});\r\n\r\nexport const clearLists = () => ({\r\n    type: CLEAR_LISTS\r\n});\r\n\r\nexport const setSettings = (settings) => ({\r\n    type: SET_SETTINGS,\r\n    settings\r\n});\r\n\r\nexport const showNotification = (notifyType, message, description) => ({\r\n    type: SHOW_NOTIFICATION,\r\n    notifyType,\r\n    message,\r\n    description\r\n});\r\n\r\nexport const removeNotification = () => ({\r\n    type: REMOVE_NOTIFICATION\r\n});","import axios from 'axios';\r\nimport { loadFilms, loadFilmsStarted, loadFilmsFailure, showNotification } from './filmActions';\r\nimport { selectFilm, addToHistory, addToBlacklist, addToAlreadySeen, addToFavorites, removeFromAlreadySeen, removeFromBlacklist, removeFromFavorites, removeFromHistory } from './filmActions';\r\nimport { setSettings } from './filmActions';\r\n\r\n/**\r\n * Сохраняет список в local storage\r\n * \r\n * @param {string} listName - имя списка для сохранения.\r\n */\r\nexport const saveList = (listName) => {\r\n    return (dispatch, getState) => {\r\n        const { [listName]: list } = getState().filmReducer;\r\n        localStorage.setItem(listName, JSON.stringify(list));\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Отправляет уведомление для страницы фильмов при маленькой выборке\r\n * \r\n * @param {number} count - количество фильмов в текущей выборке.\r\n */\r\n export const noFilmsNotification = (count) => {\r\n    const getFilmWords = () => {\r\n        const titles = [`остался ${count} фильм`, `осталось ${count} фильма`, `осталось ${count} фильмов`];\r\n        const cases = [2, 0, 1, 1, 1, 2];  \r\n        return titles[ (count % 100 > 4 && count % 100 < 20) ? 2 : cases[(count % 10 < 5) ? count % 10 : 5] ];  \r\n    }\r\n    count--;\r\n    return (dispatch) => {\r\n        if (count > 0){\r\n            dispatch(showNotification(\r\n                'warning',\r\n                'Выборка фильмов заканчивается',\r\n                `В текущей выборке ${getFilmWords()}. Измените настройки поиска на более широкие.`,\r\n            ))\r\n        } else {\r\n            dispatch(showNotification(\r\n                'error',\r\n                'Выборка фильмов пуста',\r\n                'В текущей выборке не осталось фильмов. Поиск недоступен. Измените настройки поиска на более широкие.',\r\n            ))\r\n        }\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Заменяет текущие настройки и сохраняет их в localStorage\r\n * \r\n * @param {object} settings - новый объект настроек.\r\n */\r\nexport const setSettingsAndSave = (settings) => {\r\n    return (dispatch, getState) => {\r\n        dispatch(setSettings(settings));\r\n        dispatch(saveList('settings'));\r\n        dispatch(showNotification(\r\n            'success',\r\n            'Настройки успешно сохранены',\r\n            'Выполнен новый поиск в соответствии с запросом.',\r\n        ));\r\n    }\r\n};\r\n\r\n/**\r\n * Добавляет фильм в список, затем сохраняет список в local storage\r\n * \r\n * @param {number} filmId - id добавляемого фильма.\r\n * @param {string} [listName=\"history\"] - имя списка для добавляемого фильма и сохранения.\r\n */\r\nexport const addToListAndSave = (filmId, listName = \"history\") => {\r\n    return (dispatch, getState) => {\r\n        switch (listName) {\r\n            case \"blacklist\":\r\n                dispatch(addToBlacklist(filmId));\r\n                break;\r\n            case \"alreadySeen\":\r\n                dispatch(addToAlreadySeen(filmId));\r\n                break;\r\n            case \"favorites\":\r\n                dispatch(addToFavorites(filmId));\r\n                break;\r\n            default:\r\n                dispatch(addToHistory(filmId));\r\n        }\r\n        dispatch(saveList(listName));\r\n    }\r\n};\r\n\r\n/**\r\n * Удаляет фильм из списка, затем сохраняет список в local storage\r\n * \r\n * @param {number} filmId - id удаляемого фильма.\r\n * @param {string} [listName=\"history\"] - имя списка для удаляемого фильма и сохранения.\r\n */\r\nexport const removeFromListAndSave = (filmId, listName = \"history\") => {\r\n    return (dispatch, getState) => {\r\n        switch (listName) {\r\n            case \"blacklist\":\r\n                dispatch(removeFromBlacklist(filmId));\r\n                break;\r\n            case \"alreadySeen\":\r\n                dispatch(removeFromAlreadySeen(filmId));\r\n                break;\r\n            case \"favorites\":\r\n                dispatch(removeFromFavorites(filmId));\r\n                break;\r\n            default:\r\n                dispatch(removeFromHistory(filmId));\r\n        }\r\n        dispatch(saveList(listName));\r\n    }\r\n};\r\n\r\n/**\r\n * \r\n * @param {number} filmId - id фильма.\r\n * @param {*} listName - имя списка для добавления/удаления фильма. По умолчанию - избранные фильмы.\r\n */\r\nexport const favoriteIconPush = (filmId, listName = \"favorites\") => {\r\n    return (dispatch, getState) => {\r\n        const { favorites } = getState().filmReducer;\r\n        let checkList = favorites.data.find(item => item.id === filmId);\r\n        if (!checkList) {\r\n            dispatch(addToListAndSave(filmId, listName));\r\n        } else {\r\n            dispatch(removeFromListAndSave(filmId, listName));\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Рассчитывает с учётом фильтров следующий фильм для показа, \r\n * в случае успеха добавляет его в историю и показывает\r\n * в случае неудачи показывает уведомление\r\n */\r\nexport const changeFilm = () => {\r\n    return (dispatch, getState) => {\r\n        let film, randomIndex = 0;\r\n        const { films, blacklist, alreadySeen, temporary, settings, history, film: current, error } = getState().filmReducer;\r\n        const { types, ratings, years, genres, countries } = settings.filters;\r\n        // фильтры\r\n        const typesFilter = (film) => (types.length !== 1 || film.type === types[0]);\r\n        const ratingsFilter = (film) => (film.rate > ratings[0] && film.rate < ratings[1]);\r\n        const yearsFilter = (film) => (film.year > years[0] && film.year < years[1]);\r\n        const genresFilter = (film) => film.genres.some(genre => genres.includes(genre));\r\n        const countriesFilter = (film) => film.countries.some(country => countries.includes(country));\r\n        const blacklistFilter = (film) => !!!blacklist.list[film.id];\r\n        const alreadySeenFilter = (film) => !!!alreadySeen.list[film.id];\r\n        const temporaryFilter = (film) => !!!temporary.list[film.id];\r\n        const noCurrentFilter = (film) => !!!current || (film.id !== current.id);\r\n\r\n        // фильтр всё в одном\r\n        const appendFilters = (film) => [\r\n            typesFilter, \r\n            ratingsFilter, \r\n            yearsFilter, \r\n            genresFilter, \r\n            countriesFilter, \r\n            blacklistFilter, \r\n            alreadySeenFilter,\r\n            temporaryFilter,\r\n            noCurrentFilter\r\n        ].every(filter => filter(film));\r\n\r\n        // фильтрация и сортировка по ранкингу кинопоиска\r\n        const filteredFilms = films.filter(film => appendFilters(film)).sort((a, b) => a.kpOrder - b.kpOrder);\r\n\r\n        if (current === null) {\r\n            if (history.data.length) {\r\n                const historyLast = history.data.reverse()[0];\r\n                return dispatch(selectFilm(films.findIndex(elem => elem.id === historyLast.id)));\r\n            } else if (!filteredFilms.length) {\r\n                dispatch(selectFilm(0));\r\n                return dispatch(loadFilmsFailure('Ошибка загрузки фильма. Попробуйте очистить кэш приложения.'));\r\n            }\r\n        }\r\n\r\n        if (filteredFilms.length - 1 < 4) {dispatch(noFilmsNotification(filteredFilms.length));};\r\n        // если следующих фильмов нет, то показали уведомление (выше) и больше ничего не делаем\r\n        if (current && filteredFilms.length === 0) {return;};\r\n\r\n        // случайный выбор фильма (если фильмов больше 4 то отсекаем вторую половину по ранкингу кинопоиска)\r\n        randomIndex = ~~(Math.random() * ((filteredFilms.length > 4) ? filteredFilms.length * 0.5 : filteredFilms.length));\r\n        film = filteredFilms[randomIndex];\r\n\r\n        // выбор фильма по порядку в ранкинге кинопоиска\r\n        // film = filteredFilms[randomIndex++];\r\n        \r\n        dispatch(selectFilm(films.findIndex(elem => elem === film)));\r\n        dispatch(addToListAndSave(film.id));\r\n    }\r\n};\r\n\r\n/**\r\n * Загружает фильмы и запускает выбор одного из них\r\n */\r\nexport const fetchFilms = () => {\r\n    return dispatch => {\r\n        dispatch(loadFilmsStarted());\r\n\r\n        axios.get(\"./films.json\")\r\n            .then(response => {\r\n                dispatch(loadFilms(response.data));\r\n                dispatch(changeFilm());\r\n            })\r\n            .catch(err => {\r\n                dispatch(loadFilmsFailure(err.message));\r\n            });\r\n    }\r\n};","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport Spinner from '../components/Spinner';\r\nimport FilmCard from '../pages/FilmCard';\r\nimport { addToListAndSave, changeFilm } from '../store/actions/complexFilmActions';\r\nimport { addToTemporary, removeNotification } from '../store/actions/filmActions';\r\n\r\nconst FilmCardContainer = ({ film, addToListAndSave, addToTemporary, changeFilm, error, notification, removeNotification }) => {\r\n    const handleChangeFilm = useCallback(() => {\r\n        changeFilm();\r\n    }, [changeFilm]);\r\n\r\n    const handleMoveFilmToBlacklist = useCallback(() => {\r\n        addToListAndSave(film.id, \"blacklist\");\r\n        handleChangeFilm();\r\n    }, [film, addToListAndSave, handleChangeFilm]);\r\n\r\n    const handleMoveFilmToAlreadySeen = useCallback(() => {\r\n        addToListAndSave(film.id, \"alreadySeen\");\r\n        handleChangeFilm();\r\n    }, [film, addToListAndSave, handleChangeFilm]);\r\n\r\n    const handleMoveFilmToTemporary = useCallback(() => {\r\n        addToTemporary(film.id);\r\n        handleChangeFilm();\r\n    }, [film, addToTemporary, handleChangeFilm]);\r\n\r\n    return (\r\n        !film ? <Spinner /> : <FilmCard error={error} notify={notification} removeNotification={removeNotification} film={film} addToTemporary={handleMoveFilmToTemporary} removeFilm={handleMoveFilmToBlacklist} seenFilm={handleMoveFilmToAlreadySeen} />\r\n    )\r\n};\r\n\r\nFilmCardContainer.propTypes = {\r\n    error: PropTypes.string,\r\n    notification: PropTypes.object,\r\n    film: PropTypes.object,\r\n    addToListAndSave: PropTypes.func,\r\n    addToTemporary: PropTypes.func,\r\n    changeFilm: PropTypes.func,\r\n    removeNotification: PropTypes.func\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    error: filmReducer.error,\r\n    film: filmReducer.film,\r\n    notification: filmReducer.notification\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ addToListAndSave, changeFilm, addToTemporary, removeNotification }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FilmCardContainer);","export const TYPES = [{value:'FILM', label:'Фильмы'},{value:'TV_SHOW', label:'Сериалы/Шоу'}];\r\nexport const RATINGS = { 5: 'от 5', 10: 'до 10' };\r\nexport const YEARS = { 1980: 'c 1980', 2021: 'по 2021' };\r\nexport const GENRES = [{value:\"Все\"},{value:\"документальный\"},{value:\"комедия\"},{value:\"короткометражка\"},{value:\"фэнтези\"},{value:\"мюзикл\"},{value:\"мелодрама\"},{value:\"мультфильм\"},{value:\"концерт\"},{value:\"музыка\"},{value:\"драма\"},{value:\"криминал\"},{value:\"фантастика\"},{value:\"биография\"},{value:\"ток-шоу\"},{value:\"боевик\"},{value:\"детский\"},{value:\"семейный\"},{value:\"история\"},{value:\"детектив\"},{value:\"игра\"},{value:\"военный\"},{value:\"приключения\"},{value:\"триллер\"},{value:\"реальное ТВ\"},{value:\"спорт\"},{value:\"ужасы\"},{value:\"аниме\"},{value:\"вестерн\"},{value:\"новости\"},{value:\"церемония\"},{value:\"фильм-нуар\"},{value:\"для взрослых\"}];\r\nexport const COUNTRIES = [{value:\"Все\"},{value:\"США\"},{value:\"Россия\"},{value:\"СССР\"},{value:\"Австралия\"},{value:\"Япония\"},{value:\"Великобритания\"},{value:\"Франция\"},{value:\"Корея Южная\"},{value:\"Нидерланды\"},{value:\"Индия\"},{value:\"Ирландия\"},{value:\"Канада\"},{value:\"Венгрия\"},{value:\"Италия\"},{value:\"Австрия\"},{value:\"Китай\"},{value:\"Германия\"},{value:\"Турция\"},{value:\"Украина\"},{value:\"Марокко\"},{value:\"Финляндия\"},{value:\"Испания\"},{value:\"Бельгия\"},{value:\"Германия (ФРГ)\"},{value:\"Новая Зеландия\"},{value:\"Польша\"},{value:\"Ботсвана\"},{value:\"Мальта\"},{value:\"Иран\"},{value:\"Швеция\"},{value:\"Армения\"},{value:\"Беларусь\"},{value:\"ЮАР\"},{value:\"Тайвань\"},{value:\"Мексика\"},{value:\"Аргентина\"},{value:\"Швейцария\"},{value:\"Колумбия\"},{value:\"Исландия\"},{value:\"Казахстан\"},{value:\"Индонезия\"},{value:\"Сингапур\"},{value:\"Чехословакия\"},{value:\"Узбекистан\"},{value:\"Норвегия\"},{value:\"Румыния\"},{value:\"Гонконг\"},{value:\"Люксембург\"},{value:\"Бразилия\"},{value:\"Дания\"},{value:\"Сербия и Черногория\"},{value:\"Грузия\"},{value:\"Филиппины\"},{value:\"Югославия\"},{value:\"Чехия\"},{value:\"ОАЭ\"},{value:\"Египет\"},{value:\"Израиль\"},{value:\"Болгария\"},{value:\"Ливан\"},{value:\"Тунис\"},{value:\"Венесуэла\"},{value:\"Монголия\"},{value:\"Югославия (ФР)\"},{value:\"Германия (ГДР)\"},{value:\"Азербайджан\"},{value:\"Куба\"},{value:\"Словакия\"},{value:\"Греция\"},{value:\"Лихтенштейн\"},{value:\"Эстония\"},{value:\"Молдова\"},{value:\"Хорватия\"},{value:\"Российская империя\"},{value:\"Перу\"},{value:\"Таиланд\"},{value:\"Алжир\"},{value:\"Киргизия\"},{value:\"Багамы\"},{value:\"Андорра\"},{value:\"Палестина\"},{value:\"Сербия\"},{value:\"Северная Македония\"},{value:\"Латвия\"},{value:\"Словения\"},{value:\"Французская Полинезия\"},{value:\"Шри-Ланка\"},{value:\"Чили\"},{value:\"Бангладеш\"},{value:\"Камбоджа\"},{value:\"Португалия\"},{value:\"Пуэрто Рико\"},{value:\"Танзания\"},{value:\"Босния и Герцеговина\"},{value:\"Уругвай\"},{value:\"Ямайка\"},{value:\"Саудовская Аравия\"},{value:\"Вьетнам\"},{value:\"Косово\"},{value:\"Руанда\"},{value:\"Сирия\"},{value:\"Намибия\"},{value:\"Македония\"},{value:\"Литва\"},{value:\"Конго\"},{value:\"Кения\"},{value:\"Ирак\"},{value:\"Бутан\"},{value:\"Кувейт\"},{value:\"Ливия\"},{value:\"Монако\"},{value:\"Малайзия\"},{value:\"Корея Северная\"},{value:\"Афганистан\"},{value:\"Таджикистан\"},{value:\"Катар\"},{value:\"Ватикан\"},{value:\"Кипр\"},{value:\"Непал\"},{value:\"Сальвадор\"},{value:\"Малави\"},{value:\"Папуа - Новая Гвинея\"},{value:\"Гана\"},{value:\"Гваделупа\"},{value:\"Уганда\"},{value:\"Доминикана\"},{value:\"Пакистан\"},{value:\"Мадагаскар\"},{value:\"Бахрейн\"},{value:\"Замбия\"},{value:\"Эквадор\"},{value:\"Каймановы острова\"},{value:\"Макао\"},{value:\"Американское Самоа\"},{value:\"Иордания\"},{value:\"Белиз\"},{value:\"Лаос\"},{value:\"Гватемала\"},{value:\"Эфиопия\"},{value:\"Буркина-Фасо\"},{value:\"Сенегал\"},{value:\"Йемен\"},{value:\"Бермуды\"},{value:\"Панама\"},{value:\"Албания\"},{value:\"Боливия\"},{value:\"Камерун\"},{value:\"Аруба\"},{value:\"Нигерия\"},{value:\"Черногория\"},{value:\"Туркменистан\"},{value:\"Антильские Острова\"},{value:\"Сомали\"},{value:\"Судан\"},{value:\"Новая Каледония\"},{value:\"Либерия\"},{value:\"Босния\"},{value:\"Берег Слоновой кости\"},{value:\"Вануату\"},{value:\"Парагвай\"},{value:\"Зимбабве\"},{value:\"Мавритания\"},{value:\"Мали\"},{value:\"Фиджи\"},{value:\"Чад\"},{value:\"Тринидад и Тобаго\"},{value:\"Гренландия\"},{value:\"Маврикий\"},{value:\"Ангола\"},{value:\"Коста-Рика\"},{value:\"Виргинские Острова (Великобритания)\"},{value:\"Никарагуа\"},{value:\"Мозамбик\"},{value:\"Гаити\"},{value:\"Мальдивы\"},{value:\"Мартиника\"},{value:\"Гибралтар\"},{value:\"Гвинея\"},{value:\"Барбадос\"},{value:\"Реюньон\"},{value:\"Заир\"},{value:\"Гондурас\"},{value:\"Антарктида\"},{value:\"Конго (ДРК)\"},{value:\"Французская Гвиана\"},{value:\"Мьянма\"},{value:\"Бирма\"}];    ","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport { clearLists } from '../../store/actions/filmActions';\r\nimport { setSettingsAndSave } from '../../store/actions/complexFilmActions';\r\n\r\nimport { Typography, Button, Slider, Select, Switch } from 'antd';\r\nimport Navigation from '../../components/Navigation';\r\nimport { TYPES, RATINGS, YEARS, GENRES, COUNTRIES } from './config';\r\nimport './Settings.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nconst Settings = ({ settings, clearLists, setSettingsAndSave }) => {\r\n\r\n    const setSettings = useCallback((value, type) => {\r\n        // отправляем новое состояние в store\r\n        setSettingsAndSave({ \r\n            dark: (type === 'mode') ? value : settings.dark,\r\n            filters: {\r\n                types: (type === 'types') ? value : settings.filters.types,\r\n                ratings: (type === 'ratings') ? value : settings.filters.ratings,\r\n                years: (type === 'years') ? value : settings.filters.years,\r\n                genres: (type === 'genres') ? value : settings.filters.genres,\r\n                countries: (type === 'countries') ? value : settings.filters.countries\r\n            }\r\n        });\r\n    }, [settings, setSettingsAndSave]);\r\n   \r\n\r\n    const handleSelect = (value, type) => {\r\n        if (value === \"Все\") {\r\n            switch (type) {\r\n                case 'genres':\r\n                    setSettings(GENRES.map(genre => genre.value), 'genres');\r\n                    break;\r\n                case 'countries':\r\n                    setSettings(COUNTRIES.map(country => country.value), 'countries');\r\n                    break;\r\n                default:\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleDeSelect = (value, type) => {\r\n        if (value === \"Все\") {\r\n            (type === \"genres\") ? setSettings([], 'genres') : setSettings([], 'countries')\r\n        }\r\n        if (type === \"types\" && settings.filters.types.length === 1) {\r\n            setSettings(TYPES.map(type => type.value), 'types')\r\n        }\r\n    }\r\n\r\n    const handleClearSettings = () => {\r\n        clearLists();\r\n        ['blacklist', 'alreadySeen', 'history', 'favorites'].forEach(list => {localStorage.removeItem(list)});\r\n    }\r\n\r\n    return (\r\n        <div className=\"settings--wrapper theme\">\r\n            <div className=\"settings__header theme\">\r\n                <div className=\"settings__header--title\" level={2}>Настройки</div>\r\n            </div>\r\n            <div className=\"settings__content\">\r\n                <Link type=\"secondary\" className=\"settings__content--login\" to='/login'>\r\n                    <Button size=\"large\">Вход / Регистрация</Button>\r\n                </Link>\r\n\r\n                <div className=\"settings__content--row\">\r\n                    <Text className=\"theme\">Темная версия оформления</Text>\r\n                    <Switch onChange={(val) => {setSettings(val, \"mode\")}} defaultChecked={settings.dark} />\r\n                </div>\r\n\r\n                <Title level={3}>Настройки поиска</Title>\r\n\r\n                <div className=\"settings__content--row\">\r\n                    <Text className=\"theme\">Тип</Text>\r\n                    <Select className=\"settings__content--select\"\r\n                            mode=\"multiple\"\r\n                            showArrow\r\n                            value={settings.filters.types}\r\n                            onChange={(val) => {setSettings(val, \"types\")}}\r\n                            onDeselect={(val) => {handleDeSelect(val, \"types\")}}\r\n                            options={TYPES}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"settings__content--row theme\">\r\n                    <Text className=\"theme\">Рейтинг</Text>\r\n                    <Slider className=\"settings__content--slider\" range\r\n                            marks={RATINGS} min={5} max={10} step={0.5} defaultValue={settings.filters.ratings}\r\n                            onChange={(val) => {setSettings(val, \"ratings\")}}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"settings__content--row\">\r\n                    <Text className=\"theme\">Годы</Text>\r\n                    <Slider className=\"settings__content--slider\" range\r\n                            marks={YEARS} min={1980} max={2021} defaultValue={settings.filters.years}\r\n                            onChange={(val) => {setSettings(val, \"years\")}}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"settings__content--row\">\r\n                    <Text className=\"theme\">Жанры</Text>\r\n                    <Select className=\"settings__content--select\"\r\n                            mode=\"multiple\"\r\n                            showArrow\r\n                            value={settings.filters.genres}\r\n                            onSelect={(val) => {handleSelect(val, \"genres\")}}\r\n                            onDeselect={(val) => {handleDeSelect(val, \"genres\")}}\r\n                            onChange={(val) => {setSettings(val, \"genres\")}}\r\n                            options={GENRES}\r\n                            maxTagCount={3}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"settings__content--row\">\r\n                    <Text className=\"theme\">Страны</Text>\r\n                    <Select className=\"settings__content--select\"\r\n                            mode=\"multiple\"\r\n                            showArrow\r\n                            value={settings.filters.countries}\r\n                            onSelect={(val) => {handleSelect(val, \"countries\")}}\r\n                            onDeselect={(val) => {handleDeSelect(val, \"countries\")}}\r\n                            onChange={(val) => {setSettings(val, \"countries\")}}\r\n                            options={COUNTRIES}\r\n                            maxTagCount={4}\r\n                    />\r\n                </div>\r\n\r\n                <Button type=\"secondary\" size=\"large\" className=\"settings__content--reset\" onClick={handleClearSettings}>\r\n                    Сбросить настройки\r\n                </Button>\r\n            </div>\r\n            <div className=\"settings__empty\">_</div>\r\n            <Navigation checked={ 'settings' } />\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    settings: filmReducer.settings,\r\n});\r\n\r\nSettings.propTypes = {\r\n    clearLists: PropTypes.func,\r\n    setSettingsAndSave: PropTypes.func,\r\n    settings: PropTypes.object\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ clearLists, setSettingsAndSave }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './ListLink.scss';\r\n\r\nconst ListLink = (props) => {\r\n    return (\r\n        <div className=\"listLink--wrapper\">\r\n            <p className=\"listLink__title\">{props.children}</p>\r\n            <p className=\"listLink__length\">{props.listLength}</p>\r\n        </div>\r\n    )\r\n};\r\n\r\nListLink.propTypes = {\r\n    listLength: PropTypes.number,\r\n    children: PropTypes.string\r\n}\r\n\r\nexport default ListLink;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Lists.scss';\r\nimport Navigation from '../../components/Navigation';\r\nimport ListLink from '../../components/ListLink';\r\n\r\nconst Lists = ({ blacklist, temporary, alreadySeen, history, favorites }) => {\r\n    return (\r\n        <div className=\"lists--wrapper theme\">\r\n            <div className=\"lists__header theme\">Списки фильмов</div>\r\n            <Link className=\"lists__link--color theme\" to=\"/history\"><ListLink listLength={history.data.length}>История предложений</ListLink></Link>\r\n            <Link className=\"lists__link--color theme\" to=\"/seenList\"><ListLink listLength={alreadySeen.data.length}>Просмотренные фильмы</ListLink></Link>\r\n            <Link className=\"lists__link--color theme\" to=\"/blacklist\"><ListLink listLength={blacklist.data.length}>Отклоненные фильмы</ListLink></Link>\r\n            <Link className=\"lists__link--color theme\" to=\"/temporary\"><ListLink listLength={temporary.data.length}>В другой раз</ListLink></Link>\r\n            <Link className=\"lists__link--color theme\" to=\"/favorites\"><ListLink listLength={favorites.data.length}>Избранные</ListLink></Link>\r\n            <Navigation checked={'lists'} />\r\n        </div>\r\n    )\r\n};\r\n\r\nLists.propTypes = {\r\n    history: PropTypes.object,\r\n    favorites: PropTypes.object,\r\n    blacklist: PropTypes.object,\r\n    temporary: PropTypes.object,\r\n    alreadySeen: PropTypes.object\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    history: filmReducer.history,\r\n    favorites: filmReducer.favorites,\r\n    blacklist: filmReducer.blacklist,\r\n    temporary: filmReducer.temporary,\r\n    alreadySeen: filmReducer.alreadySeen\r\n});\r\n\r\nexport default connect(mapStateToProps)(Lists);","import React from 'react';\r\n\r\nconst Bookmark = ({ status }) => {\r\n    return (\r\n        <svg version=\"1.1\" width=\"20\" height=\"20\"\r\n            viewBox=\"0 0 423.936 423.936\" fill={ status ? \"#DA952D\" : \"\" }>\r\n            <path d=\"M327.68,0H96.256c-22.528,0-40.96,18.432-40.96,40.96v357.376c0,9.728,5.632,18.944,14.336,23.04\r\n\t\t\tc9.216,4.096,19.456,3.072,27.136-3.072l0.512-0.512l114.688-96.768l114.688,96.768l0.512,0.512\r\n\t\t\tc4.608,3.584,10.24,5.632,15.872,5.632c3.584,0,7.68-1.024,11.264-3.072c8.704-4.096,14.336-13.312,14.336-23.04V40.96\r\n\t\t\tC368.64,18.432,350.208,0,327.68,0z\"/>\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default Bookmark;","import Icon from '@ant-design/icons';\r\n\r\nconst TrashBinSvg = () => (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"-57 0 512 512\"  ><path d=\"m156.371094 30.90625h85.570312v14.398438h30.902344v-16.414063c.003906-15.929687-12.949219-28.890625-28.871094-28.890625h-89.632812c-15.921875 0-28.875 12.960938-28.875 28.890625v16.414063h30.90625zm0 0\" /><path d=\"m344.210938 167.75h-290.109376c-7.949218 0-14.207031 6.78125-13.566406 14.707031l24.253906 299.90625c1.351563 16.742188 15.316407 29.636719 32.09375 29.636719h204.542969c16.777344 0 30.742188-12.894531 32.09375-29.640625l24.253907-299.902344c.644531-7.925781-5.613282-14.707031-13.5625-14.707031zm-219.863282 312.261719c-.324218.019531-.648437.03125-.96875.03125-8.101562 0-14.902344-6.308594-15.40625-14.503907l-15.199218-246.207031c-.523438-8.519531 5.957031-15.851562 14.472656-16.375 8.488281-.515625 15.851562 5.949219 16.375 14.472657l15.195312 246.207031c.527344 8.519531-5.953125 15.847656-14.46875 16.375zm90.433594-15.421875c0 8.53125-6.917969 15.449218-15.453125 15.449218s-15.453125-6.917968-15.453125-15.449218v-246.210938c0-8.535156 6.917969-15.453125 15.453125-15.453125 8.53125 0 15.453125 6.917969 15.453125 15.453125zm90.757812-245.300782-14.511718 246.207032c-.480469 8.210937-7.292969 14.542968-15.410156 14.542968-.304688 0-.613282-.007812-.921876-.023437-8.519531-.503906-15.019531-7.816406-14.515624-16.335937l14.507812-246.210938c.5-8.519531 7.789062-15.019531 16.332031-14.515625 8.519531.5 15.019531 7.816406 14.519531 16.335937zm0 0\" /><path d=\"m397.648438 120.0625-10.148438-30.421875c-2.675781-8.019531-10.183594-13.429687-18.640625-13.429687h-339.410156c-8.453125 0-15.964844 5.410156-18.636719 13.429687l-10.148438 30.421875c-1.957031 5.867188.589844 11.851562 5.34375 14.835938 1.9375 1.214843 4.230469 1.945312 6.75 1.945312h372.796876c2.519531 0 4.816406-.730469 6.75-1.949219 4.753906-2.984375 7.300781-8.96875 5.34375-14.832031zm0 0\" /></svg>\r\n);\r\n\r\nconst TrashBin = props => <Icon component={TrashBinSvg} {...props} />;\r\n\r\nexport default TrashBin;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Star from '../icons/Star';\r\nimport Bookmark from '../icons/Bookmark';\r\nimport TrashBin from '../icons/TrashBin';\r\n\r\nimport './ListItem.scss';\r\n\r\nconst ListItem = ({ removeFromList, addToFavorites, name, secondName, year, rate, age, genre, status }) => {\r\n    return (\r\n        <div className=\"list-item\">\r\n            <div className=\"list-item__about\">\r\n                <p className=\"list-item__name\">{ name }<span className=\"list-item__year\"> ({ year })</span></p>\r\n                <p className=\"list-item__second-name\">{ secondName }</p>\r\n                <p className=\"list-item__genre\">{ genre }<span className=\"list-item__age\">{ age ? `${age}+` : '' }</span></p>\r\n            </div>\r\n            <div className=\"list-item__actions-container\">\r\n                <div className=\"list-item__rating\">\r\n                    <Star />\r\n                    <div className=\"list-item__rate\">{ rate }</div>\r\n                </div>\r\n                <div className=\"list-item__buttons\">\r\n                    {!!addToFavorites && <button className=\"favorite\" onClick={ addToFavorites }><Bookmark status={ status } /></button>}\r\n                    <button onClick={ removeFromList }><TrashBin /></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nListItem.propTypes = {\r\n    removeFromList: PropTypes.func,\r\n    addToFavorites: PropTypes.oneOfType([PropTypes.func, PropTypes.instanceOf(undefined)]),\r\n    name: PropTypes.string,\r\n    secondName: PropTypes.string,\r\n    year: PropTypes.number,\r\n    rate: PropTypes.number,\r\n    age: PropTypes.number,\r\n    genre: PropTypes.array,\r\n    status: PropTypes.oneOfType([PropTypes.bool, PropTypes.instanceOf(undefined)]),\r\n};\r\n\r\nexport default ListItem; ","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\nimport { favoriteIconPush, removeFromListAndSave } from '../../store/actions/complexFilmActions';\r\n\r\nimport ListItem from '../../components/ListItem';\r\nimport Navigation from '../../components/Navigation';\r\nimport './SeenList.scss';\r\n\r\n\r\nconst SeenList = ({ films, favorites, alreadySeen, favoriteIconPush, removeFromListAndSave }) => {\r\n    let list = films.length && alreadySeen.data.map(item => {\r\n        let film = films.find(film => film.id === item.id);\r\n        const handleAddToFavorites = () => {\r\n            favoriteIconPush(film.id);\r\n        };\r\n        const handleRemoveFromList = () => {\r\n            removeFromListAndSave(film.id, \"alreadySeen\");\r\n        };\r\n        return <ListItem key={film.id} name={film.name} secondName={film.secondName} year={film.year} rate={film.rate} age={film.age} genre={film.genre} addToFavorites={handleAddToFavorites} removeFromList={handleRemoveFromList} status={favorites.list[film.id]} />\r\n    }).reverse();\r\n    return (\r\n        <div className=\"seenList--wrapper theme\">\r\n            <div className=\"seenList__header theme\">Просмотренные</div>\r\n            <div className=\"seenList__list\">\r\n                { list?.length ? list : (<div className=\"seenList__placeholder\"/>) }\r\n            </div>\r\n            <div className=\"seenList__emptyBlock\"></div>\r\n            <Navigation checked={'lists'} />\r\n        </div>\r\n    )\r\n};\r\n\r\nSeenList.propTypes = {\r\n    alreadySeen: PropTypes.object,\r\n    favorites: PropTypes.object,\r\n    films: PropTypes.array,\r\n    favoriteIconPush: PropTypes.func,\r\n    removeFromListAndSave: PropTypes.func\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    films: filmReducer.films,\r\n    favorites: filmReducer.favorites,\r\n    alreadySeen: filmReducer.alreadySeen\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ favoriteIconPush, removeFromListAndSave }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SeenList);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\nimport { removeFromListAndSave, favoriteIconPush } from '../../store/actions/complexFilmActions';\r\n\r\nimport ListItem from '../../components/ListItem';\r\nimport Navigation from '../../components/Navigation';\r\nimport './History.scss';\r\n\r\n\r\nconst History = ({ films, favorites, history, favoriteIconPush, removeFromListAndSave }) => {\r\n    let list = films.length && history.data.map(item => {\r\n        let film = films.find(film => film.id === item.id);\r\n        const handleAddToFavorites = () => {\r\n            favoriteIconPush(film.id);\r\n        };\r\n        const handleRemoveFromList = () => {\r\n            removeFromListAndSave(film.id);\r\n        };\r\n        return <ListItem key={`${film.id}${item.timestamp}`} name={film.name} secondName={film.secondName} year={film.year} rate={film.rate} age={film.age} genre={film.genre} addToFavorites={handleAddToFavorites} removeFromList={handleRemoveFromList} status={favorites.list[film.id]} />\r\n    });\r\n    return (\r\n        <div className=\"history--wrapper theme\">\r\n            <div className=\"history__header theme\">История предложений</div>\r\n            <div className=\"history__list\">\r\n                { list?.length ? list : (<div className=\"history__placeholder\"/>) }\r\n            </div>\r\n            <div className=\"history__emptyBlock\"></div>\r\n            <Navigation checked={'lists'} />\r\n        </div>\r\n    )\r\n};\r\n\r\nHistory.propTypes = {\r\n    history: PropTypes.object,\r\n    favorites: PropTypes.object,\r\n    films: PropTypes.array,\r\n    favoriteIconPush: PropTypes.func,\r\n    removeFromListAndSave: PropTypes.func,\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    films: filmReducer.films,\r\n    history: filmReducer.history,\r\n    favorites: filmReducer.favorites\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ favoriteIconPush, removeFromListAndSave }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(History);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\nimport { favoriteIconPush, removeFromListAndSave } from '../../store/actions/complexFilmActions';\r\n\r\nimport ListItem from '../../components/ListItem';\r\nimport Navigation from '../../components/Navigation';\r\nimport './Blacklist.scss';\r\n\r\n\r\nconst Blacklist = ({ films, favorites, blacklist, favoriteIconPush, removeFromListAndSave }) => {\r\n    let list = films.length && blacklist.data.map(item => {\r\n        let film = films.find(film => film.id === item.id);\r\n        const handleAddToFavorites = () => {\r\n            favoriteIconPush(film.id);\r\n        };\r\n        const handleRemoveFromList = () => {\r\n            removeFromListAndSave(film.id, \"blacklist\");\r\n        };\r\n        return <ListItem key={film.id} name={film.name} secondName={film.secondName} year={film.year} rate={film.rate} age={film.age} genre={film.genre} addToFavorites={handleAddToFavorites} removeFromList={handleRemoveFromList} status={favorites.list[film.id]} />\r\n    }).reverse();\r\n    return (\r\n        <div className=\"blacklist--wrapper theme\">\r\n            <div className=\"blacklist__header theme\">Отклоненные</div>\r\n            <div className=\"blacklist__list\"> \r\n            { list?.length ? list : (<div className=\"blacklist__placeholder\"/>) }\r\n            </div>\r\n            <div className=\"blacklist__emptyBlock\"></div>\r\n            <Navigation checked={'lists'} />\r\n        </div>\r\n    )\r\n};\r\n\r\nBlacklist.propTypes = {\r\n    blacklist: PropTypes.object,\r\n    favorites: PropTypes.object,\r\n    films: PropTypes.array,\r\n    favoriteIconPush: PropTypes.func,\r\n    removeFromListAndSave: PropTypes.func\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    films: filmReducer.films,\r\n    favorites: filmReducer.favorites,\r\n    blacklist: filmReducer.blacklist\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ favoriteIconPush, removeFromListAndSave }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Blacklist);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\nimport { favoriteIconPush } from '../../store/actions/complexFilmActions';\r\nimport { removeFromTemporary } from '../../store/actions/filmActions';\r\n\r\nimport ListItem from '../../components/ListItem';\r\nimport Navigation from '../../components/Navigation';\r\nimport './Temporary.scss';\r\n\r\nconst Temporary = ({ films, favorites, temporary, favoriteIconPush, removeFromTemporary }) => {\r\n    let list = films.length && temporary.data.map(item => {\r\n        let film = films.find(film => film.id === item.id);\r\n        const handleAddToFavorites = () => {\r\n            favoriteIconPush(film.id);\r\n        };\r\n        const handleRemoveFromList = () => {\r\n            removeFromTemporary(film.id);\r\n        };\r\n        return <ListItem key={film.id} name={film.name} secondName={film.secondName} year={film.year} rate={film.rate} age={film.age} genre={film.genre} addToFavorites={handleAddToFavorites} removeFromList={handleRemoveFromList} status={favorites.list[film.id]} />\r\n    }).reverse();\r\n    return (\r\n        <div className=\"temporary--wrapper theme\">\r\n            <div className=\"temporary__header theme\">В другой раз</div>\r\n            <div className=\"temporary__list\"> \r\n            { list?.length ? list : (<div className=\"temporary__placeholder\"/>) }\r\n            </div>\r\n            <div className=\"temporary__emptyBlock\"></div>\r\n            <Navigation checked={'lists'} />\r\n        </div>\r\n    )\r\n};\r\n\r\nTemporary.propTypes = {\r\n    temporary: PropTypes.object,\r\n    favorites: PropTypes.object,\r\n    films: PropTypes.array,\r\n    favoriteIconPush: PropTypes.func,\r\n    removeFromTemporary: PropTypes.func\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    films: filmReducer.films,\r\n    favorites: filmReducer.favorites,\r\n    temporary: filmReducer.temporary\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ favoriteIconPush, removeFromTemporary }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Temporary);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\nimport { removeFromListAndSave } from '../../store/actions/complexFilmActions';\r\n\r\nimport ListItem from '../../components/ListItem';\r\nimport Navigation from '../../components/Navigation';\r\nimport './Favorites.scss';\r\n\r\n\r\nconst Favorites = ({ films, favorites, removeFromListAndSave }) => {\r\n    let list = films.length && favorites.data.map(item => {\r\n        let film = films.find(film => film.id === item.id);\r\n        const handleRemoveFromList = () => {\r\n            removeFromListAndSave(film.id, \"favorites\");\r\n        };\r\n        return <ListItem key={film.id} name={film.name} secondName={film.secondName} year={film.year} rate={film.rate} age={film.age} genre={film.genre} removeFromList={handleRemoveFromList} />\r\n    }).reverse();\r\n    return (\r\n        <div className=\"favorites--wrapper theme\">\r\n            <div className=\"favorites__header theme\">Избранные</div>\r\n            <div className=\"favorites__list\">\r\n                {list?.length ? list : (<div className=\"favorites__placeholder\" />)}\r\n            </div>\r\n            <div className=\"favorites__emptyBlock\"></div>\r\n            <Navigation checked={'lists'} />\r\n        </div>\r\n    )\r\n};\r\n\r\nFavorites.propTypes = {\r\n    favorites: PropTypes.object,\r\n    films: PropTypes.array,\r\n    removeFromListAndSave: PropTypes.func\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    films: filmReducer.films,\r\n    favorites: filmReducer.favorites\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ removeFromListAndSave }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Favorites);","import React from 'react';\r\nimport { Route, Switch } from 'react-router';\r\n\r\nimport Home from \"../pages/Home/Home\"\r\nimport LoginForm from '../pages/LoginPage';\r\nimport RegistrationForm from \"../pages/RegistrationPage\";\r\nimport FilmCardContainer from './FilmCardContainer';\r\nimport Settings from '../pages/Settings';\r\nimport Lists from '../pages/Lists';\r\nimport SeenList from '../containers/SeenList';\r\nimport History from '../containers/History';\r\nimport Blacklist from '../containers/Blacklist';\r\nimport Temporary from '../containers/Temporary';\r\nimport Favorites from '../containers/Favorites';\r\n\r\nconst Router = (props) => {\r\n    return (\r\n        <Switch>\r\n            <Route exact path=\"/\" component={ Home } />\r\n            <Route path=\"/login\" component={ LoginForm } />\r\n            <Route path=\"/registration\" component={ RegistrationForm } />\r\n            <Route path=\"/film\" component={ FilmCardContainer } />\r\n            <Route path=\"/settings\" component={ Settings } />\r\n            <Route path=\"/lists\" component={ Lists } />\r\n            <Route path=\"/history\" component={ History } />\r\n            <Route path=\"/seenList\" component={ SeenList } />\r\n            <Route path=\"/blacklist\" component={ Blacklist } />\r\n            <Route path=\"/temporary\" component={ Temporary } />\r\n            <Route path=\"/favorites\" component={ Favorites } />\r\n        </Switch>\r\n    );\r\n};\r\n\r\nexport default Router;","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport Router from './containers/Router';\r\nimport { fetchFilms } from './store/actions/complexFilmActions';\r\n\r\nconst App = ({ fetchFilms, settings }) => {\r\n  useEffect(() => {\r\n    fetchFilms();\r\n  });\r\n\r\n  document.body.classList.toggle(\"dark\", settings.dark);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router />\r\n    </div>\r\n  );\r\n};\r\n\r\nApp.propTypes = {\r\n  fetchFilms: PropTypes.func,\r\n  settings: PropTypes.object\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n  settings: filmReducer.settings\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ fetchFilms }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import update from 'react-addons-update';\r\nimport { ADD_TO_HISTORY, ADD_TO_ALREADY_SEEN, ADD_TO_BLACKLIST, ADD_TO_TEMPORARY, LOAD_FILMS, SELECT_FILM, LOAD_FILMS_STARTED, LOAD_FILMS_FAILURE, CLEAR_LISTS, ADD_TO_FAVORITES, REMOVE_FROM_FAVORITES, REMOVE_FROM_BLACKLIST, REMOVE_FROM_TEMPORARY, REMOVE_FROM_ALREADY_SEEN, REMOVE_FROM_HISTORY, SET_SETTINGS, SHOW_NOTIFICATION, REMOVE_NOTIFICATION } from '../actions/filmActions';\r\n\r\nconst prepareList = (listName) => localStorage.getItem(listName) ? JSON.parse(localStorage.getItem(listName)) : { data: [], list: {} };\r\nconst prepareSettings = () => localStorage.getItem('settings') \r\n                            ? JSON.parse(localStorage.getItem('settings')) \r\n                            : { \r\n                                dark: false,\r\n                                filters: {\r\n                                    types: ['FILM', 'TV_SHOW'],\r\n                                    genres: ['боевик','комедия', 'драма'],\r\n                                    countries: ['Россия','США'],\r\n                                    ratings: [7, 10],\r\n                                    years: [1990, 2020]\r\n                                }\r\n                            };\r\n\r\nconst initStore = {\r\n    films: [],\r\n    film: null,\r\n    history: prepareList('history'),\r\n    blacklist: prepareList('blacklist'),\r\n    alreadySeen: prepareList('alreadySeen'),\r\n    temporary: { data: [], list: {} },\r\n    favorites: prepareList('favorites'),\r\n    settings: prepareSettings(),\r\n    isLoading: false,\r\n    notification: {message: '', description: ''},\r\n    error: null\r\n}\r\n\r\nexport default function filmReducer(store = initStore, action) {\r\n    switch (action.type) {\r\n        case LOAD_FILMS_STARTED: {\r\n            return update(store, {\r\n                isLoading: {\r\n                    $set: true\r\n                }\r\n            });\r\n        }\r\n        case LOAD_FILMS_FAILURE: {\r\n            return update(store, {\r\n                isLoading: {\r\n                    $set: false\r\n                },\r\n                error: {\r\n                    $set: action.error\r\n                }\r\n            });\r\n        }\r\n        case LOAD_FILMS: {\r\n            return update(store, {\r\n                films: {\r\n                    $set: [...action.films]\r\n                },\r\n                error: {\r\n                    $set: null\r\n                }\r\n            });\r\n        }\r\n        case SELECT_FILM: {\r\n            return update(store, {\r\n                film: {\r\n                    $set: { ...store.films[action.film] }\r\n                },\r\n                isLoading: {\r\n                    $set: false\r\n                },\r\n                error: {\r\n                    $set: null\r\n                }\r\n            });\r\n        }\r\n        case ADD_TO_HISTORY: {\r\n            return update(store, {\r\n                history: {\r\n                    $merge: {\r\n                        ...store.history,\r\n                        data: [\r\n                            ...store.history.data,\r\n                            {\r\n                                id: action.filmId,\r\n                                timestamp: Date.now(),\r\n                                status: 'ADDED',\r\n                            }\r\n                        ],\r\n                        list: {\r\n                            ...store.history.list,\r\n                            [action.filmId]: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case ADD_TO_BLACKLIST: {\r\n            return update(store, {\r\n                blacklist: {\r\n                    $merge: {\r\n                        ...store.blacklist,\r\n                        data: [\r\n                            ...store.blacklist.data,\r\n                            {\r\n                                id: action.filmId,\r\n                                timestamp: Date.now(),\r\n                                status: 'ADDED',\r\n                            }\r\n                        ],\r\n                        list: {\r\n                            ...store.blacklist.list,\r\n                            [action.filmId]: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case ADD_TO_TEMPORARY: {\r\n            return update(store, {\r\n                temporary: {\r\n                    $merge: {\r\n                        ...store.temporary,\r\n                        data: [\r\n                            ...store.temporary.data,\r\n                            {\r\n                                id: action.filmId,\r\n                                timestamp: Date.now(),\r\n                                status: 'ADDED',\r\n                            }\r\n                        ],\r\n                        list: {\r\n                            ...store.temporary.list,\r\n                            [action.filmId]: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case ADD_TO_ALREADY_SEEN: {\r\n            return update(store, {\r\n                alreadySeen: {\r\n                    $merge: {\r\n                        ...store.alreadySeen,\r\n                        data: [\r\n                            ...store.alreadySeen.data,\r\n                            {\r\n                                id: action.filmId,\r\n                                timestamp: Date.now(),\r\n                                status: 'ADDED',\r\n                            }\r\n                        ],\r\n                        list: {\r\n                            ...store.alreadySeen.list,\r\n                            [action.filmId]: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case ADD_TO_FAVORITES: {\r\n            return update(store, {\r\n                favorites: {\r\n                    $merge: {\r\n                        ...store.favorites,\r\n                        data: [\r\n                            ...store.favorites.data,\r\n                            {\r\n                                id: action.filmId,\r\n                                timestamp: Date.now(),\r\n                                status: 'ADDED',\r\n                            }\r\n                        ],\r\n                        list: {\r\n                            ...store.favorites.list,\r\n                            [action.filmId]: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case REMOVE_FROM_HISTORY: {\r\n            let deleteFilm = store.history.data.find(film => film.id === action.filmId);\r\n            store.history.data.splice(store.history.data.indexOf(deleteFilm), 1);\r\n            delete store.history.list[action.filmId];\r\n            return update(store, {\r\n                history: {\r\n                    $set: {...store.history}\r\n                }\r\n            });\r\n        }\r\n        case REMOVE_FROM_ALREADY_SEEN: {\r\n            let deleteFilm = store.alreadySeen.data.find(film => film.id === action.filmId);\r\n            store.alreadySeen.data.splice(store.alreadySeen.data.indexOf(deleteFilm), 1);\r\n            delete store.alreadySeen.list[action.filmId];\r\n            return update(store, {\r\n                alreadySeen: {\r\n                    $set: {...store.alreadySeen}\r\n                }\r\n            });\r\n        }\r\n        case REMOVE_FROM_BLACKLIST: {\r\n            let deleteFilm = store.blacklist.data.find(film => film.id === action.filmId);\r\n            store.blacklist.data.splice(store.blacklist.data.indexOf(deleteFilm), 1);\r\n            delete store.blacklist.list[action.filmId];\r\n            return update(store, {\r\n                blacklist: {\r\n                    $set: {...store.blacklist}\r\n                }\r\n            });\r\n        }\r\n        case REMOVE_FROM_TEMPORARY: {\r\n            let deleteFilm = store.temporary.data.find(film => film.id === action.filmId);\r\n            store.temporary.data.splice(store.temporary.data.indexOf(deleteFilm), 1);\r\n            delete store.temporary.list[action.filmId];\r\n            return update(store, {\r\n                temporary: {\r\n                    $set: {...store.temporary}\r\n                }\r\n            });\r\n        }\r\n        case REMOVE_FROM_FAVORITES: {\r\n            let deleteFilm = store.favorites.data.find(film => film.id === action.filmId);\r\n            store.favorites.data.splice(store.favorites.data.indexOf(deleteFilm), 1);\r\n            delete store.favorites.list[action.filmId];\r\n            return update(store, {\r\n                favorites: {\r\n                    $set: {...store.favorites}\r\n                }\r\n            });\r\n        }\r\n        case SHOW_NOTIFICATION: {\r\n            return update(store, {\r\n                notification: {\r\n                    $set: {\r\n                        message: action.message,\r\n                        description: action.description,\r\n                        type: action.notifyType\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case REMOVE_NOTIFICATION: {\r\n            return update(store, {\r\n                notification: {\r\n                    $set: {message: '', description: ''}\r\n                }\r\n            });\r\n        }\r\n        case CLEAR_LISTS: {\r\n            return update(store, {\r\n                history: {\r\n                    $set: {\r\n                        data: [],\r\n                        list: {}\r\n                    }\r\n                },\r\n                favorites: {\r\n                    $set: {\r\n                        data: [],\r\n                        list: {}\r\n                    }\r\n                },\r\n                alreadySeen: {\r\n                    $set: {\r\n                        data: [],\r\n                        list: {}\r\n                    }\r\n                },\r\n                blacklist: {\r\n                    $set: {\r\n                        data: [],\r\n                        list: {}\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case SET_SETTINGS: {\r\n            return update(store, {\r\n                settings: {\r\n                    $set: {\r\n                        dark: action.settings.dark,\r\n                        filters: {\r\n                            types: [...action.settings.filters.types],\r\n                            ratings: [...action.settings.filters.ratings],\r\n                            years: [...action.settings.filters.years],\r\n                            genres: [...action.settings.filters.genres],\r\n                            countries: [...action.settings.filters.countries]\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        default:\r\n            return store;\r\n    }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { connectRouter } from 'connected-react-router';\r\n\r\nimport filmReducer from './filmReducer';\r\n\r\n// eslint-disable-next-line\r\nexport default history => combineReducers({\r\n    router: connectRouter(history),\r\n    filmReducer,\r\n});","import filmMiddleware from './filmMiddleware';\r\n\r\n// eslint-disable-next-line\r\nexport default [\r\n    filmMiddleware,\r\n];","// eslint-disable-next-line\r\nexport default store => next => action => {\r\n    return next(action);\r\n};","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { createBrowserHistory } from 'history';\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport RootReducers from './reducers';\r\nimport middlewares from './middlewares';\r\n\r\nexport const history = createBrowserHistory();\r\n\r\n// тернарник внутри compose не сработает\r\nconst composer = window.__REDUX_DEVTOOLS_EXTENSION__ ? compose(\r\n    applyMiddleware(routerMiddleware(history), thunk, ...middlewares),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n) : compose(\r\n    applyMiddleware(routerMiddleware(history), thunk, ...middlewares),\r\n);\r\n\r\nexport const store = createStore(\r\n    RootReducers(history),\r\n    composer,\r\n);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"antd/dist/antd.css\";\r\nimport { ConnectedRouter } from \"connected-react-router\";\r\nimport { Provider } from \"react-redux\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport \"./styles/styles.scss\";\r\n\r\nimport App from \"./App\";\r\nimport { store, history } from \"./store\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n      <ConnectedRouter history={history}>\r\n        <App />\r\n      </ConnectedRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}