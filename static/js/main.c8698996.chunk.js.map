{"version":3,"sources":["reportWebVitals.js","components/icons/Search.jsx","pages/Home/Home.jsx","components/icons/Settings.jsx","components/icons/Hamburger.jsx","components/CustomLink.jsx","components/Navigation/Navigation.jsx","pages/LoginPage/LoginPage.jsx","pages/RegistrationPage/RegistrationPage.jsx","components/Spinner/Spinner.jsx","components/icons/Star.jsx","components/icons/Bookmark.jsx","components/icons/Kp.jsx","pages/FilmCard/FilmCard.jsx","store/actions/filmActions.js","store/actions/complexFilmActions.js","containers/FilmCardContainer.jsx","pages/Settings/config.js","pages/Settings/Settings.jsx","components/ListLink/ListLink.jsx","pages/Lists/Lists.jsx","components/icons/TrashBin.jsx","components/ListItem/ListItem.jsx","containers/List/Blacklist.jsx","containers/List/Favorites.jsx","containers/List/History.jsx","containers/List/SeenList.jsx","containers/List/Temporary.jsx","containers/Router.jsx","pages/Error/Error.jsx","App.jsx","store/reducers/filmReducer.js","store/reducers/index.js","store/middlewares/index.js","store/middlewares/filmMiddleware.js","store/index.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SearchSvg","version","x","y","viewBox","width","height","d","Search","props","Icon","component","connect","filmsCount","filmReducer","films","length","anim","useCallback","e","index","rotate","opacity","enter","scale","type","duration","className","to","SettingsSvg","Settings","HamburgerSvg","Hamburger","CustomLink","history","onClick","Tag","tag","rest","event","push","defaultProps","withRouter","Navigation","selection","Group","defaultValue","value","Radio","LoginForm","name","initialValues","remember","onFinish","values","alert","console","log","level","Item","rules","required","message","placeholder","Password","noStyle","valuePropName","htmlType","Button","RegistrationPage","hasFeedback","dependencies","getFieldValue","validator","_","Promise","reject","Error","resolve","Spinner","indicator","LoadingOutlined","spin","Star","xmlns","fill","Bookmark","status","KpSvg","Kp","IMAGE_ENDPOINT","FilmCard","film","addToTemporary","seenFilm","removeFilm","notify","error","removeNotification","addToFavorites","cardEndRef","useRef","handleScrollToBottom","current","scrollIntoView","behavior","useEffect","description","notification","handleChangeFontSize","handleKpOpen","id","window","open","ageFormatted","age","alt","src","preview","style","fontSize","rate","secondName","year","countries","join","genres","htmlFor","size","ref","LOAD_FILMS","ADD_FILMS","LOAD_FILMS_STARTED","LAZY_LOAD_STARTED","LAZY_LOAD_ENDED","LOAD_FILMS_FAILURE","ADD_TO_HISTORY","ADD_TO_BLACKLIST","ADD_TO_TEMPORARY","ADD_TO_ALREADY_SEEN","ADD_TO_FAVORITES","REMOVE_FROM_HISTORY","REMOVE_FROM_ALREADY_SEEN","REMOVE_FROM_BLACKLIST","REMOVE_FROM_TEMPORARY","REMOVE_FROM_FAVORITES","SET_SETTINGS","CLEAR_SETTINGS","SHOW_NOTIFICATION","REMOVE_NOTIFICATION","SELECT_FILM","CLEAR_LISTS","SET_FILTERED_FILMS","loadFilms","addFilms","lazyLoadFilmsEnded","loadFilmsFailure","selectFilm","addToHistory","filmId","addToBlacklist","addToAlreadySeen","removeFromHistory","timestamp","removeFromAlreadySeen","removeFromBlacklist","removeFromTemporary","removeFromFavorites","clearLists","clearSettings","showNotification","notifyType","DB","indexedDB","mozIndexedDB","wekitIndexedDB","msIndexedDB","shimIndexedDB","saveFromRedux","someName","dispatch","getState","something","localStorage","setItem","JSON","stringify","noFilmsNotification","count","createFilteredFilms","settings","filters","types","ratings","years","skipGenres","includes","skipCountries","typesFilter","ratingsFilter","yearsFilter","genresFilter","some","genre","countriesFilter","country","setFilteredFilms","filter","every","appendFilters","sort","a","b","kpOrder","setSettingsAndSave","typesPrev","ratingsPrev","yearsPrev","genresPrev","countriesPrev","filtersPrev","settingsChanged","setSettings","addToListAndSave","listName","removeFromListAndSave","favoriteIconPush","list","loadFilm","changeFilm","randomIndex","filteredFilms","blacklist","alreadySeen","temporary","blacklistFilter","alreadySeenFilter","temporaryFilter","noCurrentFilter","preparedFilms","data","historyLast","reverse","findIndex","elem","Math","random","getFilms","dbReq","onupgradeneeded","result","target","objectStoreNames","contains","createObjectStore","keyPath","onsuccess","transaction","objectStore","get","fetchFilms","onerror","saveFilmsToDB","put","axios","response","lazyLoadStart","catch","err","lazyLoad","page","favorites","bindActionCreators","handleChangeFilm","handleAddToFavorites","handleMoveFilmToBlacklist","handleMoveFilmToAlreadySeen","handleMoveFilmToTemporary","TYPES","label","RATINGS","5","10","YEARS","1950","2021","GENRES","COUNTRIES","DEFAULT_RATING","DEFAULT_YEARS","confirm","Modal","Title","Typography","Text","filteredFilmsCount","isLazyLoading","React","useState","selectedRatings","setSelectedRatings","selectedYears","setSelectedYears","color","hue","selectedColor","setSelectedColor","dark","handleSelect","map","handleDeSelect","handleClearSettings","title","icon","ExclamationCircleOutlined","okText","okType","cancelText","top","content","onOk","removeItem","onCancel","location","replace","href","onChange","val","checked","min","max","tipFormatter","letterSpacing","marginRight","onAfterChange","marginBottom","mode","showArrow","maxTagCount","onDeselect","options","range","marks","step","onSelect","code","ListLink","children","listLength","handleClearButton","forEach","TrashBinSvg","TrashBin","ListItem","removeFromList","handleRemoveFromList","item","find","CSSTransition","timeout","classNames","TransitionGroup","getSelection","path","routes","Component","Home","exact","RegistrationForm","FilmCardContainer","showNav","Lists","History","SeenList","Blacklist","Temporary","Favorites","Router","match","in","unmountOnExit","slice","text","tryToRepair","document","body","classList","toggle","cssText","prepareList","getItem","parse","prepareSettings","initStore","isLoading","store","action","update","$set","$merge","Date","now","deletedFilmIndex","splice","next","createBrowserHistory","composer","__REDUX_DEVTOOLS_EXTENSION__","compose","applyMiddleware","routerMiddleware","thunk","middlewares","createStore","combineReducers","router","connectRouter","navigator","addEventListener","serviceWorker","register","reg","scope","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c8698996.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import Icon from '@ant-design/icons';\r\n\r\nconst SearchSvg = () => (\r\n    <svg version=\"1.1\" x=\"0px\" y=\"0px\"\r\n        viewBox=\"0 0 37.166 37.166\" width=\"1em\" height=\"1em\">\r\n        <path d=\"M35.829,32.045l-6.833-6.833c-0.513-0.513-1.167-0.788-1.836-0.853c2.06-2.567,3.298-5.819,3.298-9.359\r\n\tc0-8.271-6.729-15-15-15c-8.271,0-15,6.729-15,15c0,8.271,6.729,15,15,15c3.121,0,6.021-0.96,8.424-2.598\r\n\tc0.018,0.744,0.305,1.482,0.872,2.052l6.833,6.833c0.585,0.586,1.354,0.879,2.121,0.879s1.536-0.293,2.121-0.879\r\n\tC37.001,35.116,37.001,33.217,35.829,32.045z M15.458,25c-5.514,0-10-4.484-10-10c0-5.514,4.486-10,10-10c5.514,0,10,4.486,10,10\r\n\tC25.458,20.516,20.972,25,15.458,25z\"/>\r\n    </svg>\r\n);\r\n\r\nconst Search = props => <Icon component={ SearchSvg } { ...props } />;\r\n\r\nexport default Search;","import React, { useCallback } from 'react';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport Texty from 'rc-texty';\r\nimport 'rc-texty/assets/index.css';\r\n\r\nimport Search from '../../components/icons/Search';\r\n\r\nimport './Home.scss';\r\n\r\nconst Home = ({ filmsCount }) => {\r\n  const anim = useCallback((e) => {\r\n    switch (e.index) {\r\n      case 0:\r\n        return {\r\n          rotate: 90,\r\n          opacity: 0,\r\n          y: -100,\r\n        };\r\n      case 1:\r\n        return {\r\n          y: -60,\r\n          x: -15,\r\n          opacity: 0,\r\n        };\r\n      case 2:\r\n        return {\r\n          y: -100,\r\n          x: 60,\r\n          opacity: 0,\r\n        };\r\n      case 3:\r\n        return {\r\n          y: 100,\r\n          opacity: 0,\r\n        };\r\n      case 4:\r\n        return {\r\n          x: 60,\r\n          opacity: 0,\r\n        };\r\n      case 5:\r\n        return {\r\n          enter: [\r\n            {\r\n              scale: 2,\r\n              opacity: 0,\r\n              type: 'set',\r\n            },\r\n            { scale: 1.2, opacity: 1, duration: 500 },\r\n            { scale: 0.9, duration: 400 },\r\n            { scale: 1.05, duration: 200 },\r\n            { scale: 1, duration: 100 },\r\n          ]\r\n        };\r\n      case 6:\r\n        return {\r\n          scale: 0.8,\r\n          x: 60,\r\n          y: -20,\r\n          opacity: 0,\r\n        };\r\n      default:\r\n        return {\r\n          opacity: 0,\r\n        };\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"main-page theme\">\r\n      <h1 className=\"main-page__title\">\r\n        { (filmsCount > 0) && <Texty enter={anim}>gotfilm</Texty> }\r\n      </h1>\r\n      <Link className=\"main-page__icon\" to=\"/film\">\r\n        <Search className=\"search-icon_home theme\" />\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nHome.propTypes = {\r\n  filmsCount: PropTypes.number\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n  filmsCount: filmReducer.films.length\r\n});\r\n\r\nexport default connect(mapStateToProps)(Home);","import Icon from '@ant-design/icons';\r\n\r\nconst SettingsSvg = () => (\r\n    <svg viewBox=\"0 -3 48 48\" width=\"38px\" height=\"38px\"><path d=\"M39.139,26.282C38.426,25.759,38,24.919,38,24.034s0.426-1.725,1.138-2.247l3.294-2.415\tc0.525-0.386,0.742-1.065,0.537-1.684c-0.848-2.548-2.189-4.872-3.987-6.909c-0.433-0.488-1.131-0.642-1.728-0.38l-3.709,1.631\tc-0.808,0.356-1.749,0.305-2.516-0.138c-0.766-0.442-1.28-1.23-1.377-2.109l-0.446-4.072c-0.071-0.648-0.553-1.176-1.191-1.307\tc-2.597-0.531-5.326-0.54-7.969-0.01c-0.642,0.129-1.125,0.657-1.196,1.308l-0.442,4.046c-0.097,0.88-0.611,1.668-1.379,2.11\tc-0.766,0.442-1.704,0.495-2.515,0.138l-3.729-1.64c-0.592-0.262-1.292-0.11-1.725,0.377c-1.804,2.029-3.151,4.35-4.008,6.896\tc-0.208,0.618,0.008,1.301,0.535,1.688l3.273,2.4C9.574,22.241,10,23.081,10,23.966s-0.426,1.725-1.138,2.247l-3.294,2.415\tc-0.525,0.386-0.742,1.065-0.537,1.684c0.848,2.548,2.189,4.872,3.987,6.909c0.433,0.489,1.133,0.644,1.728,0.38l3.709-1.631\tc0.808-0.356,1.748-0.305,2.516,0.138c0.766,0.442,1.28,1.23,1.377,2.109l0.446,4.072c0.071,0.648,0.553,1.176,1.191,1.307\tC21.299,43.864,22.649,44,24,44c1.318,0,2.648-0.133,3.953-0.395c0.642-0.129,1.125-0.657,1.196-1.308l0.443-4.046\tc0.097-0.88,0.611-1.668,1.379-2.11c0.766-0.441,1.705-0.493,2.515-0.138l3.729,1.64c0.594,0.263,1.292,0.111,1.725-0.377\tc1.804-2.029,3.151-4.35,4.008-6.896c0.208-0.618-0.008-1.301-0.535-1.688L39.139,26.282z M24,31c-3.866,0-7-3.134-7-7s3.134-7,7-7\ts7,3.134,7,7S27.866,31,24,31z\" /></svg>\r\n);\r\n\r\nconst Settings = props => <Icon component={ SettingsSvg } { ...props } />;\r\n\r\nexport default Settings;","import Icon from '@ant-design/icons';\r\n\r\nconst HamburgerSvg = () => (\r\n    <svg viewBox=\"0 -5 100 80\" width=\"35\" height=\"35\">\r\n        <rect width=\"100\" height=\"20\"></rect>\r\n        <rect y=\"30\" width=\"100\" height=\"20\"></rect>\r\n        <rect y=\"60\" width=\"100\" height=\"20\"></rect>\r\n    </svg>\r\n);\r\n\r\nconst Hamburger = props => <Icon component={ HamburgerSvg } { ...props } />;\r\n\r\nexport default Hamburger;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst CustomLink = ({ history, to, onClick, tag: Tag, ...rest }) => (\r\n    <Tag\r\n        { ...rest }\r\n        onClick={ (event) => {\r\n            onClick(event);\r\n            history.push(to)\r\n        } }\r\n    />\r\n);\r\n\r\nCustomLink.propTypes = {\r\n    to: PropTypes.string.isRequired,\r\n    children: PropTypes.node.isRequired,\r\n    history: PropTypes.shape({\r\n        push: PropTypes.func.isRequired\r\n    }).isRequired,\r\n    onClick: PropTypes.func\r\n};\r\nCustomLink.defaultProps = {\r\n    onClick: () => { }\r\n};\r\nexport default withRouter(CustomLink);","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport Search from '../icons/Search';\r\nimport Settings from '../icons/Settings';\r\nimport Hamburger from '../icons/Hamburger';\r\nimport CustomLink from '../CustomLink';\r\n\r\nimport { Radio } from 'antd';\r\n\r\nimport './Navigation.scss';\r\n\r\nconst Navigation = ({ selection }) => {\r\n    return (\r\n        <Radio.Group className=\"navigation__container\" defaultValue={ selection } value={ selection } >\r\n\r\n            <CustomLink to='/lists'\r\n                        value=\"lists\"\r\n                        tag={ Radio }\r\n                        className=\"navigation__buttons\"\r\n            >\r\n                <Hamburger />\r\n            </CustomLink>\r\n\r\n            <span className=\"divition-line\"></span>\r\n\r\n            <CustomLink to='/film'\r\n                        value=\"film\"\r\n                        tag={ Radio }\r\n                        className=\"navigation__buttons\"\r\n            >\r\n                <Search className=\"search-icon_small\" />\r\n            </CustomLink>\r\n\r\n            <span className=\"divition-line\"></span>\r\n\r\n            <CustomLink to='/settings'\r\n                        value=\"settings\"\r\n                        tag={ Radio }\r\n                        className=\"navigation__buttons\"\r\n            >\r\n                <Settings />\r\n            </CustomLink>\r\n\r\n        </Radio.Group>\r\n    )\r\n}\r\n\r\nNavigation.propTypes = {\r\n    selection: PropTypes.string\r\n}\r\n\r\nexport default Navigation;","import React from 'react'\r\nimport { Form, Input, Button, Checkbox } from 'antd'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport './LoginPage.scss'\r\nimport CustomLink from '../../components/CustomLink'\r\n\r\nconst LoginForm = (props) => {\r\n  const onFinish = (values) => {\r\n    alert('Логин, пароль, статус чекбокса выведены в консоль.')\r\n    console.log('Received values of form: ', values)\r\n  }\r\n\r\n  return (\r\n    <div className='formWrapper theme'>\r\n      <Form\r\n        name='login-form'\r\n        className='loginForm theme'\r\n        initialValues={{\r\n          remember: true,\r\n        }}\r\n        onFinish={onFinish}\r\n      >\r\n        <Title className='loginForm__title' level={2}>\r\n          Вход\r\n        </Title>\r\n        <Form.Item\r\n          name='username'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Пожалуйста введите имя или ник!',\r\n            },\r\n          ]}\r\n        >\r\n          <label className='theme'>\r\n            Имя пользователя\r\n            <Input placeholder='Ваше имя' />\r\n          </label>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name='password'\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Пожалуйста введите пароль!',\r\n            },\r\n          ]}\r\n        >\r\n          <label className='theme'>\r\n            Пароль\r\n            <Input.Password type='password' placeholder='Ваш пароль' />\r\n          </label>\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Form.Item name='remember' noStyle valuePropName='checked'>\r\n            <Checkbox className='theme'>Запомнить меня</Checkbox>\r\n          </Form.Item>\r\n\r\n          <Link className='loginForm__forgot' to='/recovery_password'>\r\n            Забыли пароль?\r\n          </Link>\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Button htmlType='submit' className='loginForm__button'>\r\n            войти\r\n          </Button>\r\n          <div className='loginForm--switcher theme'>\r\n            или{' '}\r\n            <Link className='loginForm__linkToRegistration' to='/registration'>\r\n              зарегистрировать аккаунт\r\n            </Link>\r\n          </div>\r\n        </Form.Item>\r\n      </Form>\r\n      <CustomLink\r\n        className='linkToSettings loginForm__button'\r\n        to='/settings'\r\n        tag={Button}\r\n      >\r\n        Назад к настройкам\r\n      </CustomLink>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginForm\r\n","import { Form, Input, Button, Checkbox } from \"antd\";\r\nimport Title from \"antd/lib/typography/Title\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CustomLink from \"../../components/CustomLink\";\r\n\r\nimport \"./RegistrationPage.scss\";\r\n\r\nconst RegistrationPage = (props) => {\r\n  const onFinish = (values) => {\r\n    alert(\r\n      \"Юзернейм, email, пароль, подтверждение пароля, статус чекбокса выведены в консоль.\"\r\n    );\r\n    console.log(\"Received values of form: \", values);\r\n  };\r\n\r\n  return (\r\n    <div className=\"formWrapper theme\">\r\n      <Form\r\n        name=\"registration-form\"\r\n        className=\"regForm theme\"\r\n        initialValues={{\r\n          remember: true,\r\n        }}\r\n        onFinish={onFinish}\r\n      >\r\n        <Title className=\"regForm__title\" level={2}>\r\n          Регистрация\r\n        </Title>\r\n        <Form.Item\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Пожалуйста введите имя или ник!\",\r\n            },\r\n          ]}\r\n        >\r\n          <label className=\"theme\">\r\n            Имя пользователя\r\n            <Input placeholder=\"Ваше имя\" />\r\n          </label>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"email\"\r\n          rules={[\r\n            {\r\n              type: \"email\",\r\n              required: true,\r\n              message: \"Введённый почтвой адрес не корректен\",\r\n            },\r\n            {\r\n              required: true,\r\n              message: \"Пожалуйста введите свою почту\",\r\n            },\r\n          ]}\r\n        >\r\n          <label className=\"theme\">\r\n            E-mail\r\n            <Input placeholder=\"Ваша почта\" />\r\n          </label>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Пожалуйста введите пароль!\",\r\n            },\r\n          ]}\r\n          hasFeedback\r\n        >\r\n          <label className=\"theme\">\r\n            Пароль\r\n            <Input.Password placeholder=\"Ваш пароль\" />\r\n          </label>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"confirm\"\r\n          dependencies={[\"password\"]}\r\n          hasFeedback\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: \"Пожалуйста подтвердите введённый пароль!\",\r\n            },\r\n            ({ getFieldValue }) => ({\r\n              validator(_, value) {\r\n                if (!value || getFieldValue(\"password\") === value) {\r\n                  return Promise.resolve();\r\n                }\r\n\r\n                return Promise.reject(\r\n                  new Error(\"Введённые пароли несовпадают!\")\r\n                );\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          <label className=\"theme\">\r\n            Подтверждение пароля\r\n            <Input.Password placeholder=\"Подтвердите свой пароль\" />\r\n          </label>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"agreement\"\r\n          valuePropName=\"checked\"\r\n          rules={[\r\n            {\r\n              validator: (_, value) =>\r\n                value\r\n                  ? Promise.resolve()\r\n                  : Promise.reject(\r\n                      new Error(\"Для регистрации примите соглашение\")\r\n                    ),\r\n            },\r\n          ]}\r\n        >\r\n          <Checkbox className=\"theme\">\r\n            Я прочитал(а){\" \"}\r\n            <Link className=\"regForm__agreement\" to=\"/agreement\">\r\n              соглашение\r\n            </Link>\r\n          </Checkbox>\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Button htmlType=\"submit\" className=\"regForm__button\">\r\n            Зарегистрироваться\r\n          </Button>\r\n        </Form.Item>\r\n\r\n        <div className=\"regForm--switcher theme\">\r\n          или{\" \"}\r\n          <Link className=\"regForm__linkToLogin\" to=\"/login\">\r\n            уже есть аккаунт\r\n          </Link>\r\n        </div>\r\n      </Form>\r\n      <CustomLink\r\n        className='linkToSettings loginForm__button'\r\n        to='/settings'\r\n        tag={Button}\r\n      >\r\n        Назад к настройкам\r\n      </CustomLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegistrationPage;\r\n","import React from 'react';\r\nimport { Spin } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\nimport './Spinner.scss';\r\n\r\nconst Spinner = (props) => {\r\n    return <Spin className=\"loadingSpinner\" indicator={<LoadingOutlined spin />} />\r\n};\r\n\r\nexport default Spinner;","import React from 'react';\r\n\r\nconst Star = (props) => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 676 400\" fill=\"var(--gf-color-main)\"><path d=\"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z\"></path></svg>\r\n    )\r\n}\r\n\r\nexport default Star;","import React from 'react';\r\n\r\nconst Bookmark = ({ status }) => {\r\n    return (\r\n        <svg version=\"1.1\" width=\"20\" height=\"20\"\r\n            viewBox=\"0 0 423.936 423.936\" fill={ status ? \"var(--gf-color-main)\" : \"\" }>\r\n            <path d=\"M327.68,0H96.256c-22.528,0-40.96,18.432-40.96,40.96v357.376c0,9.728,5.632,18.944,14.336,23.04\r\n\t\t\tc9.216,4.096,19.456,3.072,27.136-3.072l0.512-0.512l114.688-96.768l114.688,96.768l0.512,0.512\r\n\t\t\tc4.608,3.584,10.24,5.632,15.872,5.632c3.584,0,7.68-1.024,11.264-3.072c8.704-4.096,14.336-13.312,14.336-23.04V40.96\r\n\t\t\tC368.64,18.432,350.208,0,327.68,0z\"/>\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default Bookmark;","import Icon from '@ant-design/icons';\r\n\r\nconst KpSvg = () => (\r\n<svg viewBox=\"0 0 448 512\" width=\"20\" height=\"20\">\r\n  <path fill=\"var(--gf-color-main)\" d=\"M240.494 32h-.152C130.265 32.608 0 117.049 0 253.492v1.368C0 388.002 113.567 480 209.938 480h.76C344.542 480 448 400.419 448 251.819v-.759C448 119.571 365.472 32 240.494 32zM133.473 372.447c-20.158 6.592-55.203-20.312-53.283-44.77 1.92-24.458 21.326-52.65 53.283-46.594 31.957 6.056 40.068 18.385 38.689 46.594-1.379 28.209-18.531 38.178-38.689 44.77zm21.282-168.894c-25.137-1.324-44.738-18.812-44.77-43.553-.032-24.741 15.578-47.853 44.77-44.77 29.192 3.083 44.677 16.16 42.945 44.77-1.732 28.61-17.808 44.877-42.945 43.553zM224 288c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm68.637 114.851c-29.495-1.571-48.203-22.417-46.594-46.594 1.609-24.177 18.415-46.51 46.594-48.418 28.179-1.908 51.972 23.596 52.067 48.418.095 24.822-22.572 48.165-52.067 46.594zm22.498-178.014c-25.174-5.241-36.892-24.102-38.08-43.554-1.188-19.452 22.05-44.135 41.769-40.568 17.63-.751 37.197 11.684 42.297 39.352 5.1 27.668-20.812 50.011-45.986 44.77z\"/>\r\n  <path fill=\"none\" d=\"M448.5 96v320c-.022 17.777-7.246 33.966-18.89 45.61-11.644 11.644-27.833 18.868-45.61 18.89H64c-17.777-.022-33.966-7.246-45.61-18.89C6.746 449.966-.478 433.777-.5 416V96c.022-17.777 7.246-33.966 18.89-45.61C30.034 38.746 46.223 31.522 64 31.5h320c17.777.022 33.966 7.246 45.61 18.89C441.254 62.034 448.478 78.223 448.5 96zm-19.597-44.903C417.384 39.579 401.573 32.478 384 32.5H64c-17.573-.022-33.384 7.079-44.903 18.597C7.579 62.616.478 78.427.5 96v320c-.022 17.573 7.079 33.384 18.597 44.903C30.616 472.421 46.427 479.522 64 479.5h320c17.573.022 33.384-7.079 44.903-18.597 11.518-11.519 18.619-27.33 18.597-44.903V96c.022-17.573-7.079-33.384-18.597-44.903zM128 384.5c-8.937 0-17.126-3.666-22.98-9.52-5.854-5.854-9.52-14.043-9.52-22.98 0-8.937 3.666-17.126 9.52-22.98 5.854-5.854 14.043-9.52 22.98-9.52 8.937 0 17.126 3.666 22.98 9.52 5.854 5.854 9.52 14.043 9.52 22.98 0 8.937-3.666 17.126-9.52 22.98-5.854 5.854-14.043 9.52-22.98 9.52zm22.273-10.227c5.728-5.729 9.227-13.54 9.227-22.273s-3.499-16.544-9.227-22.273c-5.729-5.728-13.54-9.227-22.273-9.227s-16.544 3.499-22.273 9.227C99.999 335.456 96.5 343.267 96.5 352s3.499 16.544 9.227 22.273c5.729 5.728 13.54 9.227 22.273 9.227s16.544-3.499 22.273-9.227zM128 192.5c-8.937 0-17.126-3.666-22.98-9.52-5.854-5.854-9.52-14.043-9.52-22.98 0-8.937 3.666-17.126 9.52-22.98 5.854-5.854 14.043-9.52 22.98-9.52 8.937 0 17.126 3.666 22.98 9.52 5.854 5.854 9.52 14.043 9.52 22.98 0 8.937-3.666 17.126-9.52 22.98-5.854 5.854-14.043 9.52-22.98 9.52zm22.273-10.227c5.728-5.729 9.227-13.54 9.227-22.273s-3.499-16.544-9.227-22.273c-5.729-5.728-13.54-9.227-22.273-9.227s-16.544 3.499-22.273 9.227C99.999 143.456 96.5 151.267 96.5 160s3.499 16.544 9.227 22.273c5.729 5.728 13.54 9.227 22.273 9.227s16.544-3.499 22.273-9.227zM224 288.5c-8.937 0-17.126-3.666-22.98-9.52-5.854-5.854-9.52-14.043-9.52-22.98 0-8.937 3.666-17.126 9.52-22.98 5.854-5.854 14.043-9.52 22.98-9.52 8.937 0 17.126 3.666 22.98 9.52 5.854 5.854 9.52 14.043 9.52 22.98 0 8.937-3.666 17.126-9.52 22.98-5.854 5.854-14.043 9.52-22.98 9.52zm22.273-10.227c5.728-5.729 9.227-13.54 9.227-22.273s-3.499-16.544-9.227-22.273c-5.729-5.728-13.54-9.227-22.273-9.227s-16.544 3.499-22.273 9.227c-5.728 5.729-9.227 13.54-9.227 22.273s3.499 16.544 9.227 22.273c5.729 5.728 13.54 9.227 22.273 9.227s16.544-3.499 22.273-9.227zM320 384.5c-8.937 0-17.126-3.666-22.98-9.52-5.854-5.854-9.52-14.043-9.52-22.98 0-8.937 3.666-17.126 9.52-22.98 5.854-5.854 14.043-9.52 22.98-9.52 8.937 0 17.126 3.666 22.98 9.52 5.854 5.854 9.52 14.043 9.52 22.98 0 8.937-3.666 17.126-9.52 22.98-5.854 5.854-14.043 9.52-22.98 9.52zm22.273-10.227c5.728-5.729 9.227-13.54 9.227-22.273s-3.499-16.544-9.227-22.273c-5.729-5.728-13.54-9.227-22.273-9.227s-16.544 3.499-22.273 9.227c-5.728 5.729-9.227 13.54-9.227 22.273s3.499 16.544 9.227 22.273c5.729 5.728 13.54 9.227 22.273 9.227s16.544-3.499 22.273-9.227zM320 192.5c-8.937 0-17.126-3.666-22.98-9.52-5.854-5.854-9.52-14.043-9.52-22.98 0-8.937 3.666-17.126 9.52-22.98 5.854-5.854 14.043-9.52 22.98-9.52 8.937 0 17.126 3.666 22.98 9.52 5.854 5.854 9.52 14.043 9.52 22.98 0 8.937-3.666 17.126-9.52 22.98-5.854 5.854-14.043 9.52-22.98 9.52zm22.273-10.227c5.728-5.729 9.227-13.54 9.227-22.273s-3.499-16.544-9.227-22.273c-5.729-5.728-13.54-9.227-22.273-9.227s-16.544 3.499-22.273 9.227c-5.728 5.729-9.227 13.54-9.227 22.273s3.499 16.544 9.227 22.273c5.729 5.728 13.54 9.227 22.273 9.227s16.544-3.499 22.273-9.227z\"/>\r\n</svg>\r\n);\r\n\r\nconst Kp = props => <Icon component={KpSvg} {...props} />;\r\n\r\nexport default Kp;","import React, { useCallback, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Image, Button, notification } from 'antd';\r\nimport Spinner from '../../components/Spinner';\r\nimport Star from '../../components/icons/Star';\r\nimport Bookmark from '../../components/icons/Bookmark';\r\nimport Kp from '../../components/icons/Kp';\r\nimport './FilmCard.scss';\r\n\r\n\r\nconst IMAGE_ENDPOINT = `https://st.kp.y${'a'}ndex.net/images`;\r\nconst getKPlink = (id, type) => `https://www.kinop${'o'}isk.ru/${type === 'FILM' ? 'film' : 'series'}/${id}/`;\r\n\r\n\r\nconst FilmCard = ({ film, addToTemporary, seenFilm, removeFilm, error, notify, removeNotification, status, addToFavorites }) => {\r\n    const cardEndRef = useRef(null);\r\n    \r\n    const handleScrollToBottom = useCallback(() => {\r\n        cardEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        handleScrollToBottom();\r\n    });\r\n\r\n    useEffect(() => {\r\n        handleScrollToBottom();\r\n    }, [film, handleScrollToBottom]);\r\n\r\n    useEffect(() => {\r\n        if (notify.message && notify.description) {\r\n            notification[notify.type]({\r\n                duration: 4,\r\n                message: notify.message,\r\n                description: notify.description\r\n            });\r\n            removeNotification();\r\n        }\r\n    }, [notify, removeNotification]);\r\n\r\n    const handleChangeFontSize = useCallback(() => {\r\n        if (film.name.length > 15 && film.name.length < 30) {\r\n            return '20px';\r\n        } else if (film.name.length >= 30) {\r\n            return '18px';\r\n        } else {\r\n            return '25px';\r\n        }\r\n    }, [film]);\r\n\r\n    const handleKpOpen = useCallback(() => {\r\n        window.open(getKPlink(film.id, film.type), \"_blank\");\r\n    }, [film]);\r\n\r\n    const ageFormatted = film.age !== null && `, ${film.age}+`;\r\n\r\n    return (\r\n        <div className=\"filmCard--wrapper theme\">\r\n            <div className=\"filmCard__poster\">\r\n                <img className=\"filmCard__poster__background\" alt=\"\"\r\n                    src={ `${IMAGE_ENDPOINT}/film_iphone/iphone360_${film.id}.jpg` }\r\n                />\r\n                <Image className=\"filmCard__poster__image\" alt={ film.name }\r\n                    preview={ { src: `${IMAGE_ENDPOINT}/film_big/${film.id}.jpg` } }\r\n                    src={ `${IMAGE_ENDPOINT}/film_iphone/iphone360_${film.id}.jpg` }\r\n                    placeholder={ <Spinner /> }\r\n                />\r\n            </div>\r\n            <div className=\"filmCard__infoBlock theme\">\r\n                <div className=\"filmCard__infoBlock--titleWrapper\">\r\n                    <h3 className=\"filmCard__infoBlock__title\" style={ { fontSize: handleChangeFontSize() } }>{ film.name }</h3>\r\n                    <p className=\"filmCard__infoBlock__rate\">\r\n                        <Star />\r\n                        { film.rate }\r\n                    </p>\r\n                </div>\r\n                <div className=\"filmCard__infoBlock--secondTitleWrapper\">\r\n                    <p className=\"filmCard__infoBlock__secondTitle\">{ film.secondName }</p>\r\n                    <p className=\"filmCard__infoBlock__year\">{ film.year }г. ({ film.countries.join(', ') })</p>\r\n                </div>\r\n                <p className=\"filmCard__infoBlock__genre\">{ film.genres.join(', ') }<span>{ ageFormatted }</span></p>\r\n                <hr className=\"filmCard__infoBlock--underline\" />\r\n                <div className=\"filmCard__infoBlock--scrollableWrapper\">\r\n                    <input type=\"checkbox\" name=\"hiddenDesc\" id=\"hiddenDesc\" className=\"inputDesc\" />\r\n                    <label htmlFor=\"hiddenDesc\" className=\"filmCard__infoBlock__description--label\">\r\n                        <p className=\"filmCard__infoBlock__description\">{ film.description }</p>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div className=\"filmCard__footer theme\">\r\n                <div className=\"filmCard__footer__buttonGroup\">\r\n                    <Button className='button' type=\"secondary\" size=\"large\" onClick={ seenFilm }>уже смотрел</Button>\r\n                    <Button className='button' type=\"secondary\" size=\"large\" onClick={ removeFilm }>не предлагать</Button>\r\n                </div>\r\n                <div className=\"filmCard__footer__buttonGroup\">\r\n                    <button className={`small__button${status ? ' active' : ''}`} onClick={ addToFavorites }>\r\n                        <Bookmark status={ status } />\r\n                    </button>\r\n                    <Button className='button' type=\"secondary\" size=\"large\" onClick={ addToTemporary }>в другой раз</Button>\r\n                    <button className=\"small__button\" onClick={ handleKpOpen }>\r\n                        <Kp className=\"theme\" />\r\n                    </button>\r\n                </div>\r\n                <div className=\"filmCard__footer__emptyBlock\" ref={ cardEndRef }></div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nFilmCard.propTypes = {\r\n    notify: PropTypes.object,\r\n    film: PropTypes.object,\r\n    removeFilm: PropTypes.func,\r\n    seenFilm: PropTypes.func,\r\n    addToTemporary: PropTypes.func,\r\n    addToFavorites: PropTypes.func\r\n};\r\n\r\nexport default FilmCard;","export const LOAD_FILMS = '@@film/LOAD_FILMS';\r\nexport const ADD_FILMS = '@@film/ADD_FILMS';\r\nexport const LOAD_FILMS_STARTED = '@@film/LOAD_FILMS_STARTED';\r\nexport const LAZY_LOAD_STARTED = '@@film/LAZY_LOAD_STARTED';\r\nexport const LAZY_LOAD_ENDED = '@@film/LAZY_LOAD_ENDED';\r\nexport const LOAD_FILMS_FAILURE = '@@film/LOAD_FILMS_FAILURE';\r\nexport const ADD_TO_HISTORY = '@@film/ADD_TO_HISTORY';\r\nexport const ADD_TO_BLACKLIST = '@@film/ADD_TO_BLACKLIST';\r\nexport const ADD_TO_TEMPORARY = '@@film/ADD_TO_TEMPORARY';\r\nexport const ADD_TO_ALREADY_SEEN = '@@film/ADD_TO_ALREADY_SEEN';\r\nexport const ADD_TO_FAVORITES = '@@film/ADD_TO_FAVORITES';\r\nexport const REMOVE_FROM_HISTORY = '@@film/REMOVE_FROM_HISTORY';\r\nexport const REMOVE_FROM_ALREADY_SEEN = '@@film/REMOVE_FROM_ALREADY_SEEN';\r\nexport const REMOVE_FROM_BLACKLIST = '@@film/REMOVE_FROM_BLACKLIST';\r\nexport const REMOVE_FROM_TEMPORARY = '@@film/REMOVE_FROM_TEMPORARY';\r\nexport const REMOVE_FROM_FAVORITES = '@@film/REMOVE_FROM_FAVORITES';\r\nexport const SET_SETTINGS = '@@settings/SET_SETTINGS';\r\nexport const CLEAR_SETTINGS = '@@settings/CLEAR_SETTINGS';\r\nexport const SHOW_NOTIFICATION = '@@film/SHOW_NOTIFICATION';\r\nexport const REMOVE_NOTIFICATION = '@@film/REMOVE_NOTIFICATION';\r\nexport const SELECT_FILM = '@@film/SELECT_FILM';\r\nexport const CLEAR_LISTS = '@@film/CLEAR_LISTS';\r\nexport const SET_FILTERED_FILMS = '@@film/SET_FILTERED_FILMS';\r\n\r\nexport const loadFilms = (films) => ({\r\n    type: LOAD_FILMS,\r\n    films\r\n});\r\n\r\nexport const addFilms = (films) => ({\r\n    type: ADD_FILMS,\r\n    films\r\n});\r\n\r\nexport const loadFilmsStarted = () => ({\r\n    type: LOAD_FILMS_STARTED\r\n});\r\n\r\nexport const lazyLoadFilmsStarted = () => ({\r\n    type: LAZY_LOAD_STARTED\r\n});\r\n\r\nexport const lazyLoadFilmsEnded = () => ({\r\n    type: LAZY_LOAD_ENDED\r\n});\r\n\r\nexport const loadFilmsFailure = (error) => ({\r\n    type: LOAD_FILMS_FAILURE,\r\n    error\r\n});\r\n\r\nexport const selectFilm = (film) => ({\r\n    type: SELECT_FILM,\r\n    film\r\n});\r\n\r\nexport const addToHistory = (filmId) => ({\r\n    type: ADD_TO_HISTORY,\r\n    filmId\r\n});\r\n\r\nexport const addToBlacklist = (filmId) => ({\r\n    type: ADD_TO_BLACKLIST,\r\n    filmId\r\n});\r\n\r\nexport const addToTemporary = (filmId) => ({\r\n    type: ADD_TO_TEMPORARY,\r\n    filmId\r\n});\r\n\r\nexport const addToAlreadySeen = (filmId) => ({\r\n    type: ADD_TO_ALREADY_SEEN,\r\n    filmId\r\n});\r\n\r\nexport const addToFavorites = (filmId) => ({\r\n    type: ADD_TO_FAVORITES,\r\n    filmId\r\n});\r\n\r\nexport const removeFromHistory = (filmId, timestamp) => ({\r\n    type: REMOVE_FROM_HISTORY,\r\n    filmId,\r\n    timestamp\r\n});\r\n\r\nexport const removeFromAlreadySeen = (filmId) => ({\r\n    type: REMOVE_FROM_ALREADY_SEEN,\r\n    filmId\r\n});\r\n\r\nexport const removeFromBlacklist = (filmId) => ({\r\n    type: REMOVE_FROM_BLACKLIST,\r\n    filmId\r\n});\r\n\r\nexport const removeFromTemporary = (filmId) => ({\r\n    type: REMOVE_FROM_TEMPORARY,\r\n    filmId\r\n});\r\n\r\nexport const removeFromFavorites = (filmId) => ({\r\n    type: REMOVE_FROM_FAVORITES,\r\n    filmId\r\n});\r\n\r\nexport const clearLists = () => ({\r\n    type: CLEAR_LISTS\r\n});\r\n\r\nexport const clearSettings = () => ({\r\n    type: CLEAR_SETTINGS\r\n});\r\n\r\nexport const setSettings = (settings) => ({\r\n    type: SET_SETTINGS,\r\n    settings\r\n});\r\n\r\nexport const setFilteredFilms = (films) => ({\r\n    type: SET_FILTERED_FILMS,\r\n    films\r\n});\r\n\r\nexport const showNotification = (notifyType, message, description) => ({\r\n    type: SHOW_NOTIFICATION,\r\n    notifyType,\r\n    message,\r\n    description\r\n});\r\n\r\nexport const removeNotification = () => ({\r\n    type: REMOVE_NOTIFICATION\r\n});","import axios from 'axios';\r\nimport { loadFilms, loadFilmsStarted, loadFilmsFailure, addFilms, lazyLoadFilmsStarted, lazyLoadFilmsEnded, setFilteredFilms, showNotification } from './filmActions';\r\nimport { selectFilm, addToHistory, addToBlacklist, addToAlreadySeen, addToFavorites, removeFromAlreadySeen, removeFromBlacklist, removeFromFavorites, removeFromHistory } from './filmActions';\r\nimport { setSettings } from './filmActions';\r\n\r\nconst DB = window.indexedDB || window.mozIndexedDB || window.wekitIndexedDB || window.msIndexedDB || window.shimIndexedDB;\r\nconst DB_VERSION = 1;\r\n\r\n/**\r\n * Сохраняет что-то из redux в local storage\r\n * \r\n * @param {string} someName - имя чего-то для сохранения.\r\n */\r\nexport const saveFromRedux = (someName) => {\r\n    return (dispatch, getState) => {\r\n        const { [someName]: something } = getState().filmReducer;\r\n        localStorage.setItem(someName, JSON.stringify(something));\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Отправляет уведомление для страницы фильмов при маленькой выборке\r\n * \r\n * @param {number} count - количество фильмов в текущей выборке.\r\n */\r\n export const noFilmsNotification = (count) => {\r\n    const getFilmWords = () => {\r\n        const titles = [`остался ${count} фильм`, `осталось ${count} фильма`, `осталось ${count} фильмов`];\r\n        const cases = [2, 0, 1, 1, 1, 2];  \r\n        return titles[ (count % 100 > 4 && count % 100 < 20) ? 2 : cases[(count % 10 < 5) ? count % 10 : 5] ];  \r\n    }\r\n    count--;\r\n    return (dispatch) => {\r\n        if (count > 0){\r\n            dispatch(showNotification(\r\n                'warning',\r\n                'Выборка фильмов заканчивается',\r\n                `В текущей выборке ${getFilmWords()}. Измените настройки поиска на более широкие.`,\r\n            ))\r\n        } else {\r\n            dispatch(showNotification(\r\n                'error',\r\n                'Выборка фильмов пуста',\r\n                'В текущей выборке не осталось фильмов. Поиск недоступен. Измените настройки поиска на более широкие.',\r\n            ))\r\n        }\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Фильтрует фильмы в соответствии с настройками и записывает их в filteredFilms\r\n */\r\n export const createFilteredFilms = () => {\r\n    return (dispatch, getState) => {\r\n        const { films, settings } = getState().filmReducer;\r\n        const { types, ratings, years, genres, countries } = settings.filters;\r\n        const skipGenres = !genres.length || genres.includes('Все');\r\n        const skipCountries = !countries.length || countries.includes('Все');\r\n        // фильтры настроек\r\n        const typesFilter = (film) => (types.length !== 1 || film.type === types[0]);\r\n        const ratingsFilter = (film) => (film.rate >= ratings[0] && film.rate <= ratings[1]);\r\n        const yearsFilter = (film) => (film.year >= years[0] && film.year <= years[1]);\r\n        const genresFilter = (film) => skipGenres || film.genres.some(genre => genres.includes(genre));\r\n        const countriesFilter = (film) => skipCountries || film.countries.some(country => countries.includes(country));\r\n\r\n        // фильтр всё в одном\r\n        const appendFilters = (film) => [ typesFilter, ratingsFilter, yearsFilter, genresFilter, countriesFilter ].every(filter => filter(film));\r\n\r\n        // фильтрация и сортировка по ранкингу кинопоиска\r\n        const filteredFilms = films.filter(film => appendFilters(film)).sort((a, b) => a.kpOrder - b.kpOrder);\r\n        \r\n        dispatch(setFilteredFilms(filteredFilms));\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Заменяет текущие настройки и сохраняет их в localStorage\r\n * \r\n * @param {object} settings - новый объект настроек.\r\n */\r\nexport const setSettingsAndSave = (settings) => {\r\n    return (dispatch, getState) => {\r\n        const { settings: storedSettings } = getState().filmReducer;\r\n        const { types: typesPrev, ratings: ratingsPrev, years: yearsPrev, genres: genresPrev, countries: countriesPrev } = storedSettings.filters;\r\n        const { types, ratings, years, genres, countries } = settings.filters;\r\n        const filtersPrev = [ ...typesPrev, ...ratingsPrev, ...yearsPrev, ...genresPrev, ...countriesPrev ];\r\n        const filters = [ ...types, ...ratings, ...years, ...genres, ...countries ];\r\n        const settingsChanged = (filtersPrev.length !== filters.length) || filters.some((value, index) => value !== filtersPrev[index]);\r\n\r\n        dispatch(setSettings(settings));\r\n        dispatch(saveFromRedux('settings'));\r\n        if (settingsChanged) {\r\n            dispatch(createFilteredFilms());\r\n            dispatch(showNotification(\r\n                'success',\r\n                'Настройки успешно сохранены',\r\n                'Настройки поиска применятся при следующем переключении фильма.',\r\n            ));\r\n        };\r\n    }\r\n};\r\n\r\n/**\r\n * Добавляет фильм в список, затем сохраняет список в local storage\r\n * \r\n * @param {number} filmId - id добавляемого фильма.\r\n * @param {string} [listName=\"history\"] - имя списка для добавляемого фильма и сохранения.\r\n */\r\nexport const addToListAndSave = (filmId, listName = \"history\") => {\r\n    return (dispatch) => {\r\n        switch (listName) {\r\n            case \"blacklist\":\r\n                dispatch(addToBlacklist(filmId));\r\n                break;\r\n            case \"alreadySeen\":\r\n                dispatch(addToAlreadySeen(filmId));\r\n                break;\r\n            case \"favorites\":\r\n                dispatch(addToFavorites(filmId));\r\n                break;\r\n            default:\r\n                dispatch(addToHistory(filmId));\r\n        }\r\n        dispatch(saveFromRedux(listName));\r\n    }\r\n};\r\n\r\n/**\r\n * Удаляет фильм из списка, затем сохраняет список в local storage\r\n * \r\n * @param {number} filmId - id удаляемого фильма.\r\n * @param {string} [listName=\"history\"] - имя списка для удаляемого фильма и сохранения (опционально).\r\n * @param {number} [timestamp=0] - таймштамп добавления в список, для списка history.\r\n */\r\nexport const removeFromListAndSave = (filmId, listName = \"history\", timestamp = 0) => {\r\n    return (dispatch) => {\r\n        switch (listName) {\r\n            case \"blacklist\":\r\n                dispatch(removeFromBlacklist(filmId));\r\n                break;\r\n            case \"alreadySeen\":\r\n                dispatch(removeFromAlreadySeen(filmId));\r\n                break;\r\n            case \"favorites\":\r\n                dispatch(removeFromFavorites(filmId));\r\n                break;\r\n            default:\r\n                dispatch(removeFromHistory(filmId, timestamp));\r\n        }\r\n        dispatch(saveFromRedux(listName));\r\n    }\r\n};\r\n\r\n/**\r\n * Действие нажатия на кнопку закладки\r\n * \r\n * @param {number} filmId - id фильма.\r\n * @param {string} [listName=\"favorites\"] - имя списка для добавления/удаления фильма. По умолчанию - избранные фильмы.\r\n */\r\nexport const favoriteIconPush = (filmId, listName = \"favorites\") => {\r\n    return (dispatch, getState) => {\r\n        const { [listName]: list } = getState().filmReducer;\r\n        if (list.list[filmId]) {\r\n            dispatch(removeFromListAndSave(filmId, listName));\r\n        } else {\r\n            dispatch(addToListAndSave(filmId, listName));\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Запускает выбор фильма и сохраняет его в local storage\r\n * \r\n * @param {number} index - index фильма в films.\r\n */\r\n export const loadFilm = (index) => {\r\n    return dispatch => {\r\n        dispatch(selectFilm(index));\r\n        dispatch(saveFromRedux('film'));\r\n    }\r\n};\r\n\r\n/**\r\n * Рассчитывает с учётом фильтров следующий фильм для показа, \r\n * в случае успеха добавляет его в историю и показывает\r\n * в случае неудачи показывает уведомление\r\n */\r\nexport const changeFilm = () => {\r\n    return (dispatch, getState) => {\r\n        let film, randomIndex = 0;\r\n        const { films, filteredFilms, blacklist, alreadySeen, temporary, history, film: current } = getState().filmReducer;\r\n        // фильтры списков и не текущий\r\n        const blacklistFilter = (film) => !!!blacklist.list[film.id];\r\n        const alreadySeenFilter = (film) => !!!alreadySeen.list[film.id];\r\n        const temporaryFilter = (film) => !!!temporary.list[film.id];\r\n        const noCurrentFilter = (film) => !!!current || (film.id !== current.id);\r\n\r\n        // фильтр всё в одном\r\n        const appendFilters = (film) => [\r\n            blacklistFilter, \r\n            alreadySeenFilter,\r\n            temporaryFilter,\r\n            noCurrentFilter\r\n        ].every(filter => filter(film));\r\n\r\n        // фильтрация итоговая\r\n        const preparedFilms = filteredFilms.filter(film => appendFilters(film));\r\n\r\n        if (current === null) {\r\n            if (history.data.length) {\r\n                const historyLast = history.data.reverse()[0];\r\n                return dispatch(loadFilm(films.findIndex(elem => elem.id === historyLast.id)));\r\n            } else if (!preparedFilms.length) {\r\n                dispatch(selectFilm(0));\r\n                return dispatch(loadFilmsFailure('Ошибка загрузки фильма. Попробуйте сбросить настройки.'));\r\n            }\r\n        }\r\n\r\n        if (preparedFilms.length - 1 < 4) {dispatch(noFilmsNotification(preparedFilms.length));};\r\n        // если следующих фильмов нет, то показали уведомление (выше) и больше ничего не делаем\r\n        if (current && preparedFilms.length === 0) {return;};\r\n\r\n        // случайный выбор фильма (если фильмов больше 4 то отсекаем вторую половину по ранкингу кинопоиска)\r\n        randomIndex = ~~(Math.random() * ((preparedFilms.length > 4) ? preparedFilms.length * 0.5 : preparedFilms.length));\r\n        film = preparedFilms[randomIndex];\r\n\r\n        // выбор фильма по порядку в ранкинге кинопоиска\r\n        // film = filteredFilms[randomIndex++];\r\n        \r\n        dispatch(loadFilm(films.findIndex(elem => elem.id === film.id)));\r\n        dispatch(addToListAndSave(film.id));\r\n    }\r\n};\r\n\r\n/**\r\n * Пробует загрузить фильмы из локальной базы или запускает скачивание\r\n */\r\nexport const getFilms = () => {\r\n    return (dispatch, getState) => {\r\n        const dbReq = DB.open('gotfilm', DB_VERSION);\r\n\r\n        dbReq.onupgradeneeded = ({ target: { result } }) => {\r\n            const isTable = result.objectStoreNames.contains('films');\r\n            \r\n            if (!isTable) {\r\n                result.createObjectStore(\"films\", {keyPath: \"id\"});\r\n            }\r\n        }\r\n\r\n        dbReq.onsuccess = function ({ target: { result } }) { \r\n            const store = result.transaction(['films'], 'readwrite').objectStore('films');\r\n\r\n            store.get(\"films\").onsuccess = ({ target: { result } }) => {\r\n                if (result && result.films) {\r\n                    const { film: current } = getState().filmReducer;\r\n                    dispatch(loadFilms(result.films));\r\n                    dispatch(createFilteredFilms());\r\n                    if (current === null) dispatch(changeFilm());\r\n                } else {\r\n                    dispatch(fetchFilms());\r\n                }\r\n            }\r\n        }\r\n\r\n        dbReq.onerror = (event) => {\r\n            console.log('load from database error occured', event);\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Сохраняет фильмы в локальную базу данных\r\n */\r\n export const saveFilmsToDB = () => {\r\n    return (dispatch, getState) => {\r\n        \r\n        const dbReq = DB.open('gotfilm', DB_VERSION);\r\n        \r\n        dbReq.onsuccess = function ({ target: { result } }) {\r\n            const { films } = getState().filmReducer;\r\n            const store = result.transaction(['films'], 'readwrite').objectStore('films');\r\n            store.put({id: \"films\", films});\r\n        }\r\n\r\n        dbReq.onerror = (event) => {\r\n            console.log('save database error occured', event);\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Загружает фильмы и запускает выбор одного из них\r\n */\r\nexport const fetchFilms = () => {\r\n    return (dispatch, getState) => {\r\n        \r\n        dispatch(loadFilmsStarted());\r\n\r\n        axios.get(\"./films/0.json\")\r\n            .then(response => {\r\n                const { film: current } = getState().filmReducer;\r\n                dispatch(loadFilms(response.data));\r\n                dispatch(createFilteredFilms());\r\n                if (current === null) dispatch(changeFilm());\r\n                dispatch(lazyLoadStart());\r\n            })\r\n            .catch(err => {\r\n                dispatch(loadFilmsFailure(err.message));\r\n            });\r\n    }\r\n};\r\n\r\n/**\r\n * Начинает догрузку фильмов\r\n */\r\n export const lazyLoadStart = () => {\r\n    return (dispatch) => {\r\n        dispatch(lazyLoadFilmsStarted());\r\n        dispatch(showNotification(\r\n            'info',\r\n            'Началась фоновая загрузка фильмов',\r\n            'Загруженные фильмы станут доступны для поиска сразу после загрузки.',\r\n        ));\r\n        dispatch(lazyLoad());\r\n    }\r\n};\r\n\r\n/**\r\n * Докачивает и дополняет базу фильмов\r\n * \r\n * @param {number} [page=0] - Номер файла.\r\n */\r\n export const lazyLoad = (page = 0) => {\r\n    ++page;\r\n    return (dispatch, getState) => {\r\n        axios.get(`./films/${page}.json`)\r\n            .then(response => {\r\n                dispatch(addFilms(response.data));\r\n                if (page < 243) {\r\n                    dispatch(lazyLoad(page));\r\n                } else {\r\n                    const { films } = getState().filmReducer;\r\n                    dispatch(createFilteredFilms());\r\n                    dispatch(lazyLoadFilmsEnded());\r\n                    dispatch(saveFilmsToDB());\r\n                    dispatch(showNotification(\r\n                        'success',\r\n                        'Фильмы успешно загружены',\r\n                        `Загружено фильмов: ${ films.length }`,\r\n                    ));\r\n                }\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log('Ошибка скачивания дополнительных фильмов:', err);\r\n            });\r\n    }\r\n};","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport Spinner from '../components/Spinner';\r\nimport FilmCard from '../pages/FilmCard';\r\nimport { addToListAndSave, changeFilm, favoriteIconPush } from '../store/actions/complexFilmActions';\r\nimport { addToTemporary, removeNotification } from '../store/actions/filmActions';\r\n\r\nconst FilmCardContainer = ({ film, addToListAndSave, addToTemporary, changeFilm, notification, removeNotification, favorites, favoriteIconPush }) => {\r\n    const handleChangeFilm = useCallback(() => {\r\n        changeFilm();\r\n    }, [changeFilm]);\r\n\r\n    const handleAddToFavorites = useCallback(() => {\r\n        favoriteIconPush(film.id);\r\n    }, [film, favoriteIconPush])\r\n\r\n    const handleMoveFilmToBlacklist = useCallback(() => {\r\n        addToListAndSave(film.id, \"blacklist\");\r\n        handleChangeFilm();\r\n    }, [film, addToListAndSave, handleChangeFilm]);\r\n\r\n    const handleMoveFilmToAlreadySeen = useCallback(() => {\r\n        addToListAndSave(film.id, \"alreadySeen\");\r\n        handleChangeFilm();\r\n    }, [film, addToListAndSave, handleChangeFilm]);\r\n\r\n    const handleMoveFilmToTemporary = useCallback(() => {\r\n        addToTemporary(film.id);\r\n        handleChangeFilm();\r\n    }, [film, addToTemporary, handleChangeFilm]);\r\n\r\n    return (\r\n        !film \r\n            ? <Spinner /> \r\n            : <FilmCard notify={notification}\r\n                        removeNotification={removeNotification} \r\n                        film={film} \r\n                        addToTemporary={handleMoveFilmToTemporary} \r\n                        removeFilm={handleMoveFilmToBlacklist} \r\n                        seenFilm={handleMoveFilmToAlreadySeen} \r\n                        addToFavorites={handleAddToFavorites} \r\n                        status={favorites.list[film.id]}\r\n            />\r\n    )\r\n};\r\n\r\nFilmCardContainer.propTypes = {\r\n    notification: PropTypes.object,\r\n    film: PropTypes.object,\r\n    favoritesList: PropTypes.object,\r\n    addToListAndSave: PropTypes.func,\r\n    addToTemporary: PropTypes.func,\r\n    changeFilm: PropTypes.func,\r\n    removeNotification: PropTypes.func,\r\n    favoriteIconPush: PropTypes.func\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    favorites: filmReducer.favorites,\r\n    film: filmReducer.film,\r\n    notification: filmReducer.notification\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ addToListAndSave, changeFilm, favoriteIconPush, addToTemporary, removeNotification }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FilmCardContainer);","export const TYPES = [{value:'FILM', label:'Фильмы'},{value:'TV_SHOW', label:'Сериалы/Шоу'}];\r\nexport const RATINGS = { 5: 'от 5', 10: 'до 10' };\r\nexport const YEARS = { 1950: 'c 1950', 2021: 'по 2021' };\r\nexport const GENRES = [{value:\"Все\"},{value:\"документальный\"},{value:\"комедия\"},{value:\"короткометражка\"},{value:\"фэнтези\"},{value:\"мюзикл\"},{value:\"мелодрама\"},{value:\"мультфильм\"},{value:\"концерт\"},{value:\"музыка\"},{value:\"драма\"},{value:\"криминал\"},{value:\"фантастика\"},{value:\"биография\"},{value:\"ток-шоу\"},{value:\"боевик\"},{value:\"детский\"},{value:\"семейный\"},{value:\"история\"},{value:\"детектив\"},{value:\"игра\"},{value:\"военный\"},{value:\"приключения\"},{value:\"триллер\"},{value:\"реальное ТВ\"},{value:\"спорт\"},{value:\"ужасы\"},{value:\"аниме\"},{value:\"вестерн\"},{value:\"новости\"},{value:\"церемония\"},{value:\"фильм-нуар\"},{value:\"для взрослых\"},{value:\"Без жанра\"}];\r\nexport const COUNTRIES = [{value:\"Все\"},{value:\"США\"},{value:\"Россия\"},{value:\"Великобритания\"},{value:\"СССР\"},{value:\"Франция\"},{value:\"Корея Южная\"},{value:\"Индия\"},{value:\"Венгрия\"},{value:\"Канада\"},{value:\"Китай\"},{value:\"Турция\"},{value:\"Нидерланды\"},{value:\"Марокко\"},{value:\"Япония\"},{value:\"Италия\"},{value:\"Австралия\"},{value:\"Украина\"},{value:\"Германия (ФРГ)\"},{value:\"Польша\"},{value:\"Финляндия\"},{value:\"Испания\"},{value:\"Бельгия\"},{value:\"Германия\"},{value:\"Новая Зеландия\"},{value:\"Иран\"},{value:\"Ботсвана\"},{value:\"Мальта\"},{value:\"Швеция\"},{value:\"Колумбия\"},{value:\"Мексика\"},{value:\"Швейцария\"},{value:\"Казахстан\"},{value:\"Чехословакия\"},{value:\"Исландия\"},{value:\"Индонезия\"},{value:\"Сингапур\"},{value:\"Дания\"},{value:\"Армения\"},{value:\"Бразилия\"},{value:\"Ирландия\"},{value:\"Филиппины\"},{value:\"Гонконг\"},{value:\"Тайвань\"},{value:\"Люксембург\"},{value:\"Не указано\"},{value:\"Болгария\"},{value:\"Сербия и Черногория\"},{value:\"Грузия\"},{value:\"Монголия\"},{value:\"Норвегия\"},{value:\"Беларусь\"},{value:\"Югославия\"},{value:\"Австрия\"},{value:\"Чехия\"},{value:\"ОАЭ\"},{value:\"Ливан\"},{value:\"Венесуэла\"},{value:\"Тунис\"},{value:\"Германия (ГДР)\"},{value:\"Аргентина\"},{value:\"Израиль\"},{value:\"Куба\"},{value:\"Словакия\"},{value:\"Румыния\"},{value:\"Лихтенштейн\"},{value:\"Эстония\"},{value:\"Молдова\"},{value:\"Таиланд\"},{value:\"ЮАР\"},{value:\"Югославия (ФР)\"},{value:\"Алжир\"},{value:\"Греция\"},{value:\"Латвия\"},{value:\"Сербия\"},{value:\"Французская Полинезия\"},{value:\"Шри-Ланка\"},{value:\"Чили\"},{value:\"Бангладеш\"},{value:\"Камбоджа\"},{value:\"Узбекистан\"},{value:\"Перу\"},{value:\"Португалия\"},{value:\"Египет\"},{value:\"Саудовская Аравия\"},{value:\"Вьетнам\"},{value:\"Косово\"},{value:\"Руанда\"},{value:\"Сирия\"},{value:\"Босния и Герцеговина\"},{value:\"Конго\"},{value:\"Кения\"},{value:\"Ирак\"},{value:\"Бутан\"},{value:\"Киргизия\"},{value:\"Кувейт\"},{value:\"Ливия\"},{value:\"Монако\"},{value:\"Корея Северная\"},{value:\"Таджикистан\"},{value:\"Литва\"},{value:\"Македония\"},{value:\"Катар\"},{value:\"Ватикан\"},{value:\"Северная Македония\"},{value:\"Малави\"},{value:\"Папуа - Новая Гвинея\"},{value:\"Гана\"},{value:\"Гваделупа\"},{value:\"Уганда\"},{value:\"Бахрейн\"},{value:\"Кипр\"},{value:\"Уругвай\"},{value:\"Замбия\"},{value:\"Эквадор\"},{value:\"Каймановы острова\"},{value:\"Словения\"},{value:\"Хорватия\"},{value:\"Макао\"},{value:\"Палестина\"},{value:\"Азербайджан\"},{value:\"Гватемала\"},{value:\"Йемен\"},{value:\"Афганистан\"},{value:\"Ямайка\"},{value:\"Аруба\"},{value:\"Иордания\"},{value:\"Черногория\"},{value:\"Сомали\"},{value:\"Судан\"},{value:\"Багамы\"},{value:\"Андорра\"},{value:\"Пуэрто Рико\"},{value:\"Танзания\"},{value:\"Намибия\"},{value:\"Малайзия\"},{value:\"Непал\"},{value:\"Сальвадор\"},{value:\"Доминикана\"},{value:\"Пакистан\"},{value:\"Мадагаскар\"},{value:\"Американское Самоа\"},{value:\"Лаос\"},{value:\"Белиз\"},{value:\"Эфиопия\"},{value:\"Буркина-Фасо\"},{value:\"Сенегал\"},{value:\"Бермуды\"},{value:\"Панама\"},{value:\"Албания\"},{value:\"Боливия\"},{value:\"Камерун\"},{value:\"Нигерия\"},{value:\"Туркменистан\"},{value:\"Антильские Острова\"}];","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Typography, Button, Slider, Select, Switch, Modal } from 'antd';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\n\r\nimport { clearSettings } from '../../store/actions/filmActions';\r\nimport { setSettingsAndSave, createFilteredFilms } from '../../store/actions/complexFilmActions';\r\n\r\nimport { TYPES, RATINGS, YEARS, GENRES, COUNTRIES } from './config';\r\nimport './Settings.scss';\r\n\r\nconst DEFAULT_HUE = 36;\r\nconst DEFAULT_RATING = [7, 10];\r\nconst DEFAULT_YEARS = [1990, 2021];\r\n\r\nconst { confirm } = Modal;\r\nconst { Title, Text } = Typography;\r\n\r\nconst Settings = ({ settings, clearSettings, setSettingsAndSave, filmsCount, filteredFilmsCount, isLazyLoading, createFilteredFilms }) => {\r\n    const [selectedRatings, setSelectedRatings] = React.useState(settings.filters.ratings);\r\n    const [selectedYears, setSelectedYears] = React.useState(settings.filters.years);\r\n    const [selectedColor, setSelectedColor] = React.useState(settings.color.hue);\r\n\r\n    const setSettings = useCallback((value, type) => {\r\n        // отправляем новое состояние в store\r\n        setSettingsAndSave({ \r\n            dark: (type === 'mode') ? value : settings.dark,\r\n            color: (type === 'color') ? { hue: value } : settings.color,\r\n            filters: {\r\n                types: (type === 'types') ? value : settings.filters.types,\r\n                ratings: (type === 'ratings') ? value : settings.filters.ratings,\r\n                years: (type === 'years') ? value : settings.filters.years,\r\n                genres: (type === 'genres') ? value : settings.filters.genres,\r\n                countries: (type === 'countries') ? value : settings.filters.countries\r\n            }\r\n        });\r\n    }, [settings, setSettingsAndSave]);\r\n   \r\n\r\n    const handleSelect = useCallback((value, type) => {\r\n        if (value === \"Все\") {\r\n            switch (type) {\r\n                case 'genres':\r\n                    setSettings(GENRES.map(genre => genre.value), 'genres');\r\n                    break;\r\n                case 'countries':\r\n                    setSettings(COUNTRIES.map(country => country.value), 'countries');\r\n                    break;\r\n                default:\r\n            }\r\n        }\r\n    }, [setSettings]);\r\n\r\n    const handleDeSelect = useCallback((value, type) => {\r\n        if (value === \"Все\") {\r\n            (type === \"genres\") ? setSettings([], 'genres') : setSettings([], 'countries')\r\n        }\r\n        if (type === \"types\" && settings.filters.types.length === 1) {\r\n            setSettings(TYPES.map(type => type.value), 'types')\r\n        }\r\n    }, [setSettings, settings]);\r\n\r\n    const handleClearSettings = useCallback(() => {\r\n        confirm({\r\n            title: 'Сброс настроек',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: 'Выполнить сброс',\r\n            okType: 'danger',\r\n            cancelText: 'Отмена',\r\n            style: {top: \"50%\"},\r\n            content: 'Все настройки будут переведены в статус \"По умолчанию\". Данное действие не затрагивает списки фильмов. Вы уверены?',\r\n            onOk() {\r\n                localStorage.removeItem('settings');\r\n                clearSettings();\r\n                createFilteredFilms();\r\n                setSelectedColor(DEFAULT_HUE);\r\n                setSelectedRatings(DEFAULT_RATING);\r\n                setSelectedYears(DEFAULT_YEARS);\r\n            }, onCancel() {}\r\n          });\r\n    }, [clearSettings, createFilteredFilms]);\r\n\r\n    const getColorTooltip = () => <div style={{color: `hsl(${selectedColor},70%,52%)`, letterSpacing: -2, marginRight: 2}}>██</div>;\r\n\r\n    return (\r\n        <div className=\"settings--wrapper theme\">\r\n            <div className=\"settings__header theme\" onClick={() => {window.location.replace(window.location.href)}}>\r\n                <div className=\"settings__header--title\" level={2}>Настройки</div>\r\n            </div>\r\n            <div className=\"settings__content\">\r\n                <Link type=\"secondary\" className=\"settings__content--login\" to='/login'>\r\n                    <Button size=\"large\">Вход / Регистрация</Button>\r\n                </Link>\r\n\r\n                <div className=\"settings__content--row\">\r\n                    <Text className=\"theme\">Темная версия оформления</Text>\r\n                    <Switch onChange={(val) => {setSettings(val, \"mode\")}} value={settings.dark} checked={settings.dark} />\r\n                </div>\r\n\r\n                <div className=\"settings__content--row\">\r\n                    <Text className=\"theme\">Цвет</Text>\r\n                    <Slider className=\"settings__content--color\"\r\n                            min={0} max={360} defaultValue={selectedColor}\r\n                            tipFormatter={getColorTooltip}\r\n                            value={selectedColor}\r\n                            style={{\"--gf-handle-color\": `hsl(${selectedColor},70%,52%)`}}\r\n                            onChange={setSelectedColor}\r\n                            onAfterChange={(val) => {setSettings(val, \"color\")}}\r\n                    />\r\n                </div>\r\n\r\n                <Title level={3} style={{marginBottom:0}}>Настройки поиска</Title>\r\n\r\n                <div className=\"settings__content--row\">\r\n                    <Text className=\"theme\">Тип</Text>\r\n                    <Select className=\"settings__content--select\"\r\n                            mode=\"multiple\"\r\n                            showArrow\r\n                            maxTagCount=\"responsive\"\r\n                            value={settings.filters.types}\r\n                            onChange={(val) => {setSettings(val, \"types\")}}\r\n                            onDeselect={(val) => {handleDeSelect(val, \"types\")}}\r\n                            options={TYPES}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"settings__content--row theme\">\r\n                    <Text className=\"theme\">Рейтинг</Text>\r\n                    <Slider className=\"settings__content--slider\" range\r\n                            marks={RATINGS} min={5} max={10} step={0.5} defaultValue={settings.filters.ratings}\r\n                            value={selectedRatings}\r\n                            onChange={setSelectedRatings}\r\n                            onAfterChange={(val) => {setSettings(val, \"ratings\")}}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"settings__content--row\">\r\n                    <Text className=\"theme\">Годы</Text>\r\n                    <Slider className=\"settings__content--slider\" range\r\n                            marks={YEARS} min={1950} max={2021} defaultValue={settings.filters.years}\r\n                            value={selectedYears}\r\n                            onChange={setSelectedYears}\r\n                            onAfterChange={(val) => {setSettings(val, \"years\")}}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"settings__content--row\">\r\n                    <Text className=\"theme\">Жанры</Text>\r\n                    <Select className=\"settings__content--select\"\r\n                            mode=\"multiple\"\r\n                            showArrow\r\n                            value={settings.filters.genres}\r\n                            onSelect={(val) => {handleSelect(val, \"genres\")}}\r\n                            onDeselect={(val) => {handleDeSelect(val, \"genres\")}}\r\n                            onChange={(val) => {setSettings(val, \"genres\")}}\r\n                            options={GENRES}\r\n                            maxTagCount=\"responsive\"\r\n                            placeholder='не задано'\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"settings__content--row\">\r\n                    <Text className=\"theme\">Страны</Text>\r\n                    <Select className=\"settings__content--select\"\r\n                            mode=\"multiple\"\r\n                            showArrow\r\n                            value={settings.filters.countries}\r\n                            onSelect={(val) => {handleSelect(val, \"countries\")}}\r\n                            onDeselect={(val) => {handleDeSelect(val, \"countries\")}}\r\n                            onChange={(val) => {setSettings(val, \"countries\")}}\r\n                            options={COUNTRIES}\r\n                            maxTagCount=\"responsive\"\r\n                            placeholder='не задано'\r\n                    />\r\n                </div>\r\n\r\n                <Text className={`settings__content--counter${ (filteredFilmsCount < 4 || isLazyLoading) ? ' warning' : '' }`} code>\r\n                    {isLazyLoading ? `Загрузка фильмов: ${filmsCount}` : `Найдено фильмов: ${filteredFilmsCount} из ${filmsCount}`}\r\n                </Text>\r\n\r\n                <Button type=\"secondary\" size=\"large\" className=\"settings__content--reset\" onClick={handleClearSettings}>\r\n                    Сбросить настройки\r\n                </Button>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    settings: filmReducer.settings,\r\n    filmsCount: filmReducer.films.length,\r\n    filteredFilmsCount: filmReducer.filteredFilms.length,\r\n    isLazyLoading: filmReducer.isLazyLoading\r\n});\r\n\r\nSettings.propTypes = {\r\n    clearSettings: PropTypes.func,\r\n    setSettingsAndSave: PropTypes.func,\r\n    createFilteredFilms: PropTypes.func,\r\n    settings: PropTypes.object,\r\n    filmsCount: PropTypes.number,\r\n    filteredFilmsCount: PropTypes.number,\r\n    isLazyLoading: PropTypes.bool\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ clearSettings, setSettingsAndSave, createFilteredFilms }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './ListLink.scss';\r\n\r\nconst ListLink = ({ children, listLength }) => {\r\n    return (\r\n        <div className=\"listLink--wrapper\">\r\n            <p className=\"listLink__title\">{children}</p>\r\n            <p className=\"listLink__length\">{listLength}</p>\r\n        </div>\r\n    )\r\n};\r\n\r\nListLink.propTypes = {\r\n    listLength: PropTypes.number,\r\n    children: PropTypes.string\r\n}\r\n\r\nexport default ListLink;","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { Link } from 'react-router-dom';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Button, Modal } from 'antd';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\n\r\nimport './Lists.scss';\r\nimport ListLink from '../../components/ListLink';\r\nimport { clearLists } from '../../store/actions/filmActions';\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst Lists = ({ blacklist, temporary, alreadySeen, history, favorites, clearLists }) => {\r\n    const handleClearButton = useCallback(() => {\r\n        confirm({\r\n            title: 'Очистка списков',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: 'Выполнить очистку',\r\n            okType: 'danger',\r\n            cancelText: 'Отмена',\r\n            style: {top: \"50%\"},\r\n            content: 'Все списки фильмов станут пустыми. Вы уверены?',\r\n            onOk() {\r\n                ['blacklist', 'alreadySeen', 'history', 'favorites'].forEach(list => {localStorage.removeItem(list)});\r\n                clearLists();\r\n            }, onCancel() {}\r\n          });\r\n    }, [clearLists])\r\n\r\n\r\n    return (\r\n        <div className=\"lists--wrapper theme\">\r\n            <div className=\"lists__header theme\">Списки фильмов</div>\r\n            <Link className=\"lists__link--color theme\" to=\"/history\"><ListLink listLength={history.data.length}>История предложений</ListLink></Link>\r\n            <Link className=\"lists__link--color theme\" to=\"/seenList\"><ListLink listLength={alreadySeen.data.length}>Просмотренные фильмы</ListLink></Link>\r\n            <Link className=\"lists__link--color theme\" to=\"/blacklist\"><ListLink listLength={blacklist.data.length}>Отклоненные фильмы</ListLink></Link>\r\n            <Link className=\"lists__link--color theme\" to=\"/temporary\"><ListLink listLength={temporary.data.length}>В другой раз</ListLink></Link>\r\n            <Link className=\"lists__link--color theme\" to=\"/favorites\"><ListLink listLength={favorites.data.length}>Избранные</ListLink></Link>\r\n            <div className=\"lists__footer\">\r\n                <div className=\"lists__button__group\">\r\n                    <Button className=\"button\" type=\"secondary\" size=\"large\" onClick={handleClearButton}>Очистить списки</Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nLists.propTypes = {\r\n    history: PropTypes.object,\r\n    favorites: PropTypes.object,\r\n    blacklist: PropTypes.object,\r\n    temporary: PropTypes.object,\r\n    alreadySeen: PropTypes.object,\r\n    clearLists: PropTypes.func,\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ clearLists }, dispatch);\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    history: filmReducer.history,\r\n    favorites: filmReducer.favorites,\r\n    blacklist: filmReducer.blacklist,\r\n    temporary: filmReducer.temporary,\r\n    alreadySeen: filmReducer.alreadySeen\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Lists);","import Icon from '@ant-design/icons';\r\n\r\nconst TrashBinSvg = () => (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"-57 0 512 512\"  ><path d=\"m156.371094 30.90625h85.570312v14.398438h30.902344v-16.414063c.003906-15.929687-12.949219-28.890625-28.871094-28.890625h-89.632812c-15.921875 0-28.875 12.960938-28.875 28.890625v16.414063h30.90625zm0 0\" /><path d=\"m344.210938 167.75h-290.109376c-7.949218 0-14.207031 6.78125-13.566406 14.707031l24.253906 299.90625c1.351563 16.742188 15.316407 29.636719 32.09375 29.636719h204.542969c16.777344 0 30.742188-12.894531 32.09375-29.640625l24.253907-299.902344c.644531-7.925781-5.613282-14.707031-13.5625-14.707031zm-219.863282 312.261719c-.324218.019531-.648437.03125-.96875.03125-8.101562 0-14.902344-6.308594-15.40625-14.503907l-15.199218-246.207031c-.523438-8.519531 5.957031-15.851562 14.472656-16.375 8.488281-.515625 15.851562 5.949219 16.375 14.472657l15.195312 246.207031c.527344 8.519531-5.953125 15.847656-14.46875 16.375zm90.433594-15.421875c0 8.53125-6.917969 15.449218-15.453125 15.449218s-15.453125-6.917968-15.453125-15.449218v-246.210938c0-8.535156 6.917969-15.453125 15.453125-15.453125 8.53125 0 15.453125 6.917969 15.453125 15.453125zm90.757812-245.300782-14.511718 246.207032c-.480469 8.210937-7.292969 14.542968-15.410156 14.542968-.304688 0-.613282-.007812-.921876-.023437-8.519531-.503906-15.019531-7.816406-14.515624-16.335937l14.507812-246.210938c.5-8.519531 7.789062-15.019531 16.332031-14.515625 8.519531.5 15.019531 7.816406 14.519531 16.335937zm0 0\" /><path d=\"m397.648438 120.0625-10.148438-30.421875c-2.675781-8.019531-10.183594-13.429687-18.640625-13.429687h-339.410156c-8.453125 0-15.964844 5.410156-18.636719 13.429687l-10.148438 30.421875c-1.957031 5.867188.589844 11.851562 5.34375 14.835938 1.9375 1.214843 4.230469 1.945312 6.75 1.945312h372.796876c2.519531 0 4.816406-.730469 6.75-1.949219 4.753906-2.984375 7.300781-8.96875 5.34375-14.832031zm0 0\" /></svg>\r\n);\r\n\r\nconst TrashBin = props => <Icon component={TrashBinSvg} {...props} />;\r\n\r\nexport default TrashBin;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Star from '../icons/Star';\r\nimport Bookmark from '../icons/Bookmark';\r\nimport TrashBin from '../icons/TrashBin';\r\n\r\nimport './ListItem.scss';\r\n\r\nconst ListItem = ({ removeFromList, addToFavorites, name, secondName, year, rate, age, genre, status }) => {\r\n    return (\r\n        <div className=\"list-item\">\r\n            <div className=\"list-item__about\">\r\n                <p className=\"list-item__name\">{ name }<span className=\"list-item__year\"> ({ year })</span></p>\r\n                <p className=\"list-item__second-name\">{ secondName }</p>\r\n                <p className=\"list-item__genre\">{ genre }<span className=\"list-item__age\">{ age ? `${age}+` : '' }</span></p>\r\n            </div>\r\n            <div className=\"list-item__actions-container\">\r\n                <div className=\"list-item__rating\">\r\n                    <Star />\r\n                    <div className=\"list-item__rate\">{ rate }</div>\r\n                </div>\r\n                <div className=\"list-item__buttons\">\r\n                    {!!addToFavorites && <button className=\"favorite\" onClick={ addToFavorites }><Bookmark status={ status } /></button>}\r\n                    <button onClick={ removeFromList }><TrashBin /></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nListItem.propTypes = {\r\n    removeFromList: PropTypes.func,\r\n    addToFavorites: PropTypes.oneOfType([PropTypes.func, PropTypes.instanceOf(undefined)]),\r\n    name: PropTypes.string,\r\n    secondName: PropTypes.string,\r\n    year: PropTypes.number,\r\n    rate: PropTypes.number,\r\n    age: PropTypes.number,\r\n    genre: PropTypes.array,\r\n    status: PropTypes.oneOfType([PropTypes.bool, PropTypes.instanceOf(undefined)]),\r\n};\r\n\r\nexport default ListItem; ","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport { favoriteIconPush, removeFromListAndSave } from '../../store/actions/complexFilmActions';\r\n\r\nimport ListItem from '../../components/ListItem';\r\nimport './List.scss';\r\n\r\n\r\nconst Blacklist = ({ films, favorites, blacklist, favoriteIconPush, removeFromListAndSave }) => {\r\n    const handleAddToFavorites = useCallback((filmId) => {\r\n        favoriteIconPush(filmId);\r\n    }, [favoriteIconPush]);\r\n\r\n    const handleRemoveFromList = useCallback((filmId) => {\r\n        removeFromListAndSave(filmId, \"blacklist\");\r\n    }, [removeFromListAndSave]);\r\n\r\n    let list = films.length && blacklist.data.map(item => {\r\n        let film = films.find(film => film.id === item.id);\r\n\r\n        if (!film) {\r\n            return <div key={item.id} className=\"list__list--null\">Фильм загружается</div>\r\n        }\r\n\r\n        return <CSSTransition key={film.id} timeout={300} classNames=\"list__list--item\">\r\n                    <ListItem   key={film.id} \r\n                                name={film.name} \r\n                                secondName={film.secondName} \r\n                                year={film.year} \r\n                                rate={film.rate} \r\n                                age={film.age} \r\n                                genre={film.genre} \r\n                                addToFavorites={() => handleAddToFavorites(film.id)} \r\n                                removeFromList={() => handleRemoveFromList(film.id)} \r\n                                status={favorites.list[film.id]}\r\n                    />\r\n                </CSSTransition>\r\n    }).reverse();\r\n\r\n    const transitionGroup = () => <TransitionGroup className=\"list__list\">{ list }</TransitionGroup>\r\n    \r\n    return (\r\n        <div className=\"list--wrapper theme\">\r\n            <div className=\"list__header theme\">Отклоненные</div>\r\n            { list?.length ? transitionGroup() : (<div className=\"list__placeholder\"/>) }\r\n            <div className=\"list__emptyBlock\"></div>\r\n        </div>\r\n    )\r\n};\r\n\r\nBlacklist.propTypes = {\r\n    blacklist: PropTypes.object,\r\n    favorites: PropTypes.object,\r\n    films: PropTypes.array,\r\n    favoriteIconPush: PropTypes.func,\r\n    removeFromListAndSave: PropTypes.func\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    films: filmReducer.films,\r\n    favorites: filmReducer.favorites,\r\n    blacklist: filmReducer.blacklist\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ favoriteIconPush, removeFromListAndSave }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Blacklist);","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport { removeFromListAndSave } from '../../store/actions/complexFilmActions';\r\n\r\nimport ListItem from '../../components/ListItem';\r\nimport './List.scss';\r\n\r\n\r\nconst Favorites = ({ films, favorites, removeFromListAndSave }) => {\r\n    const handleRemoveFromList = useCallback((filmId) => {\r\n        removeFromListAndSave(filmId, \"favorites\");\r\n    }, [removeFromListAndSave]);\r\n    \r\n    let list = films.length && favorites.data.map(item => {\r\n        let film = films.find(film => film.id === item.id);\r\n\r\n        if (!film) {\r\n            return <div key={item.id} className=\"list__list--null\">Фильм загружается</div>\r\n        }\r\n\r\n        return <CSSTransition key={film.id} timeout={300} classNames=\"list__list--item\">\r\n                    <ListItem   key={film.id} \r\n                                name={film.name} \r\n                                secondName={film.secondName} \r\n                                year={film.year} \r\n                                rate={film.rate} \r\n                                age={film.age} \r\n                                genre={film.genre} \r\n                                removeFromList={() => handleRemoveFromList(film.id)} \r\n                    />\r\n                </CSSTransition>\r\n    }).reverse();\r\n\r\n    const transitionGroup = () => <TransitionGroup className=\"list__list\">{ list }</TransitionGroup>\r\n    \r\n    return (\r\n        <div className=\"list--wrapper theme\">\r\n            <div className=\"list__header theme\">Избранные</div>\r\n            { list?.length ? transitionGroup() : (<div className=\"list__placeholder\"/>) }\r\n            <div className=\"list__emptyBlock\"></div>\r\n        </div>\r\n    )\r\n};\r\n\r\nFavorites.propTypes = {\r\n    favorites: PropTypes.object,\r\n    films: PropTypes.array,\r\n    removeFromListAndSave: PropTypes.func\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    films: filmReducer.films,\r\n    favorites: filmReducer.favorites\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ removeFromListAndSave }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Favorites);","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport { removeFromListAndSave, favoriteIconPush } from '../../store/actions/complexFilmActions';\r\n\r\nimport ListItem from '../../components/ListItem';\r\nimport './List.scss';\r\n\r\n\r\nconst History = ({ films, favorites, history, favoriteIconPush, removeFromListAndSave }) => {\r\n    const handleAddToFavorites = useCallback((filmId) => {\r\n        favoriteIconPush(filmId);\r\n    }, [favoriteIconPush]);\r\n\r\n    const handleRemoveFromList = useCallback((filmId, timestamp) => {\r\n        removeFromListAndSave(filmId, 'history', timestamp);\r\n    }, [removeFromListAndSave]);\r\n\r\n    let list = films.length && history.data.map((item, index) => {\r\n        let film = films.find(film => film.id === item.id);\r\n\r\n        if (!film) {\r\n            return <div key={`${item.id}${item.timestamp}`} className=\"list__list--null\">Фильм загружается</div>\r\n        }\r\n\r\n        return <CSSTransition key={`${film.id}${item.timestamp}`} timeout={300} classNames=\"list__list--item\">\r\n                    <ListItem   key={`${film.id}${item.timestamp}`} \r\n                                name={film.name} \r\n                                secondName={film.secondName} \r\n                                year={film.year} \r\n                                rate={film.rate} \r\n                                age={film.age} \r\n                                genre={film.genre} \r\n                                addToFavorites={() => handleAddToFavorites(film.id)} \r\n                                removeFromList={() => handleRemoveFromList(film.id, item.timestamp)} \r\n                                status={favorites.list[film.id]} \r\n                    />\r\n                </CSSTransition>\r\n    });\r\n\r\n    const transitionGroup = () => <TransitionGroup className=\"list__list\">{ list }</TransitionGroup>\r\n    \r\n    return (\r\n        <div className=\"list--wrapper theme\">\r\n            <div className=\"list__header theme\">История предложений</div>\r\n            { list?.length ? transitionGroup() : (<div className=\"list__placeholder\"/>) }\r\n            <div className=\"list__emptyBlock\"></div>\r\n        </div>\r\n    )\r\n};\r\n\r\nHistory.propTypes = {\r\n    history: PropTypes.object,\r\n    favorites: PropTypes.object,\r\n    films: PropTypes.array,\r\n    favoriteIconPush: PropTypes.func,\r\n    removeFromListAndSave: PropTypes.func,\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    films: filmReducer.films,\r\n    history: filmReducer.history,\r\n    favorites: filmReducer.favorites\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ favoriteIconPush, removeFromListAndSave }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(History);","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport { favoriteIconPush, removeFromListAndSave } from '../../store/actions/complexFilmActions';\r\n\r\nimport ListItem from '../../components/ListItem';\r\nimport './List.scss';\r\n\r\n\r\nconst SeenList = ({ films, favorites, alreadySeen, favoriteIconPush, removeFromListAndSave }) => {\r\n    const handleAddToFavorites = useCallback((filmId) => {\r\n        favoriteIconPush(filmId);\r\n    }, [favoriteIconPush]);\r\n\r\n    const handleRemoveFromList = useCallback((filmId) => {\r\n        removeFromListAndSave(filmId, \"alreadySeen\");\r\n    }, [removeFromListAndSave]);\r\n    \r\n    let list = films.length && alreadySeen.data.map(item => {\r\n        let film = films.find(film => film.id === item.id);\r\n\r\n        if (!film) {\r\n            return <div key={item.id} className=\"list__list--null\">Фильм загружается</div>\r\n        }\r\n\r\n        return <CSSTransition key={film.id} timeout={300} classNames=\"list__list--item\">\r\n                    <ListItem   key={film.id} \r\n                                name={film.name} \r\n                                secondName={film.secondName} \r\n                                year={film.year} \r\n                                rate={film.rate} \r\n                                age={film.age} \r\n                                genre={film.genre} \r\n                                addToFavorites={() => handleAddToFavorites(film.id)} \r\n                                removeFromList={() => handleRemoveFromList(film.id)} \r\n                                status={favorites.list[film.id]} \r\n                    />\r\n                </CSSTransition>\r\n    }).reverse();\r\n    \r\n    const transitionGroup = () => <TransitionGroup className=\"list__list\">{ list }</TransitionGroup>\r\n\r\n    return (\r\n        <div className=\"list--wrapper theme\">\r\n            <div className=\"list__header theme\">Просмотренные</div>\r\n            { list?.length ? transitionGroup() : (<div className=\"list__placeholder\"/>) }\r\n            <div className=\"list__emptyBlock\"></div>\r\n        </div>\r\n    )\r\n};\r\n\r\nSeenList.propTypes = {\r\n    alreadySeen: PropTypes.object,\r\n    favorites: PropTypes.object,\r\n    films: PropTypes.array,\r\n    favoriteIconPush: PropTypes.func,\r\n    removeFromListAndSave: PropTypes.func\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    films: filmReducer.films,\r\n    favorites: filmReducer.favorites,\r\n    alreadySeen: filmReducer.alreadySeen\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ favoriteIconPush, removeFromListAndSave }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SeenList);","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport { favoriteIconPush } from '../../store/actions/complexFilmActions';\r\nimport { removeFromTemporary } from '../../store/actions/filmActions';\r\n\r\nimport ListItem from '../../components/ListItem';\r\nimport './List.scss';\r\n\r\nconst Temporary = ({ films, favorites, temporary, favoriteIconPush, removeFromTemporary }) => {\r\n    const handleAddToFavorites = useCallback((filmId) => {\r\n        favoriteIconPush(filmId);\r\n    }, [favoriteIconPush]);\r\n\r\n    const handleRemoveFromList = useCallback((filmId) => {\r\n        removeFromTemporary(filmId);\r\n    }, [removeFromTemporary]);\r\n\r\n    let list = films.length && temporary.data.map(item => {\r\n        let film = films.find(film => film.id === item.id);\r\n\r\n        if (!film) {\r\n            return <div key={item.id} className=\"list__list--null\">Фильм загружается</div>\r\n        }\r\n\r\n        return <CSSTransition key={film.id} timeout={300} classNames=\"list__list--item\">\r\n                    <ListItem   key={film.id} \r\n                                name={film.name} \r\n                                secondName={film.secondName} \r\n                                year={film.year} \r\n                                rate={film.rate} \r\n                                age={film.age} \r\n                                genre={film.genre} \r\n                                addToFavorites={() => handleAddToFavorites(film.id)} \r\n                                removeFromList={() => handleRemoveFromList(film.id)} \r\n                                status={favorites.list[film.id]} \r\n                    />\r\n                </CSSTransition>\r\n    }).reverse();\r\n\r\n    const transitionGroup = () => <TransitionGroup className=\"list__list\">{ list }</TransitionGroup>\r\n \r\n    return (\r\n        <div className=\"list--wrapper theme\">\r\n            <div className=\"list__header theme\">В другой раз</div>\r\n            { list?.length ? transitionGroup() : (<div className=\"list__placeholder\"/>) }\r\n            <div className=\"list__emptyBlock\"></div>\r\n        </div>\r\n    )\r\n};\r\n\r\nTemporary.propTypes = {\r\n    temporary: PropTypes.object,\r\n    favorites: PropTypes.object,\r\n    films: PropTypes.array,\r\n    favoriteIconPush: PropTypes.func,\r\n    removeFromTemporary: PropTypes.func\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n    films: filmReducer.films,\r\n    favorites: filmReducer.favorites,\r\n    temporary: filmReducer.temporary\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ favoriteIconPush, removeFromTemporary }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Temporary);","import React from 'react';\r\nimport { Route, BrowserRouter } from 'react-router-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport Home from \"../pages/Home/Home\";\r\nimport Navigation from \"../components/Navigation\";\r\nimport LoginForm from '../pages/LoginPage';\r\nimport RegistrationForm from \"../pages/RegistrationPage\";\r\nimport FilmCardContainer from './FilmCardContainer';\r\nimport Settings from '../pages/Settings';\r\nimport Lists from '../pages/Lists';\r\nimport {SeenList, History, Blacklist, Temporary, Favorites} from './List';\r\n\r\nconst getSelection = (path) => (path === 'film' || path === 'settings') ? path : 'lists';\r\n\r\nconst routes = [\r\n        { path: '/',             Component: Home                                    , exact: true  },\r\n        { path: \"/login\",        Component: LoginForm                               },\r\n        { path: \"/registration\", Component: RegistrationForm                        },\r\n        { path: \"/film\",         Component: FilmCardContainer    , showNav: true    },\r\n        { path: \"/settings\",     Component: Settings             , showNav: true    },\r\n        { path: \"/lists\",        Component: Lists                , showNav: true    },\r\n        { path: \"/history\",      Component: History              , showNav: true    },\r\n        { path: \"/seenList\",     Component: SeenList             , showNav: true    },\r\n        { path: \"/blacklist\",    Component: Blacklist            , showNav: true    },\r\n        { path: \"/temporary\",    Component: Temporary            , showNav: true    },\r\n        { path: \"/favorites\",    Component: Favorites            , showNav: true    },\r\n    ];\r\n\r\nconst Router = (props) => (\r\n    <BrowserRouter>\r\n        { routes.map(({ path, Component, exact = false, showNav = false }) => (\r\n            <Route key={ path } exact={ exact } path={ path }>\r\n                {({ match }) => (\r\n                    <>\r\n                        <CSSTransition in={match != null} timeout={700} classNames=\"page\" unmountOnExit>\r\n                            <div className=\"page\">\r\n                                <Component />\r\n                            </div>\r\n                        </CSSTransition>\r\n                        { (match && showNav) && <Navigation selection={ getSelection(path.slice(1)) } />}\r\n                    </>\r\n                )}\r\n            </Route>\r\n        )) }\r\n    </BrowserRouter>\r\n)\r\n\r\nexport default Router;","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'antd';\r\n\r\nimport './Error.scss';\r\n\r\nconst Error = ({ text }) => {\r\n    const tryToRepair = useCallback(() => {\r\n        localStorage.removeItem('settings');\r\n        window.location.replace(window.location.href);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"error--wrapper theme\">\r\n            <div className=\"error__text\"><span>{text}</span></div>\r\n            <div className=\"error__buttons\">\r\n                <Button className=\"button\" onClick={() => {window.location.replace(window.location.href);}}>Перезагрузить</Button>\r\n                <Button className=\"button\" onClick={tryToRepair}>Сброс настроек</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nError.propTypes = {\r\n    error: PropTypes.string\r\n};\r\n\r\nexport default Error;","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport connect from 'react-redux/es/connect/connect';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport Router from './containers/Router';\r\nimport Error from './pages/Error';\r\nimport { getFilms } from './store/actions/complexFilmActions';\r\n\r\nconst App = ({ getFilms, settings, filmsCount, error }) => {\r\n  useEffect(() => {\r\n    if (!filmsCount) {\r\n      getFilms();\r\n    }\r\n  }, [getFilms, filmsCount]);\r\n\r\n  useEffect(() => {\r\n    document.body.classList.toggle(\"dark\", settings.dark);\r\n  }, [settings.dark]);\r\n  \r\n  useEffect(() => {\r\n    document.body.style.cssText += \r\n        `--gf-color-main: hsl(${settings.color.hue},60%,50%);`\r\n        + `--gf-color-dark: hsl(${settings.color.hue},55%,42%);`\r\n        + `--gf-color-light: hsl(${settings.color.hue},65%,58%);`;\r\n  }, [settings.color]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"container theme\">\r\n       { error ? <Error text={error}/> : <Router /> }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nApp.propTypes = {\r\n  error: PropTypes.string,\r\n  getFilms: PropTypes.func,\r\n  settings: PropTypes.object,\r\n  filmsCount: PropTypes.number\r\n};\r\n\r\nconst mapStateToProps = ({ filmReducer }) => ({\r\n  settings: filmReducer.settings,\r\n  filmsCount: filmReducer.films.length,\r\n  error: filmReducer.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({ getFilms }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import update from 'react-addons-update';\r\nimport { ADD_TO_HISTORY, ADD_TO_ALREADY_SEEN, ADD_TO_BLACKLIST, ADD_TO_TEMPORARY, LOAD_FILMS, ADD_FILMS, SELECT_FILM, LOAD_FILMS_STARTED, LOAD_FILMS_FAILURE, CLEAR_LISTS, ADD_TO_FAVORITES, REMOVE_FROM_FAVORITES, REMOVE_FROM_BLACKLIST, REMOVE_FROM_TEMPORARY, REMOVE_FROM_ALREADY_SEEN, REMOVE_FROM_HISTORY, SET_SETTINGS, CLEAR_SETTINGS, SHOW_NOTIFICATION, REMOVE_NOTIFICATION, SET_FILTERED_FILMS, LAZY_LOAD_STARTED, LAZY_LOAD_ENDED } from '../actions/filmActions';\r\n\r\nconst prepareList = (listName) => localStorage.getItem(listName) ? JSON.parse(localStorage.getItem(listName)) : { data: [], list: {} };\r\nconst prepareSettings = () => localStorage.getItem('settings') \r\n                            ? JSON.parse(localStorage.getItem('settings')) \r\n                            : { \r\n                                dark: false,\r\n                                color: { hue: 36 },\r\n                                filters: {\r\n                                    types: ['FILM', 'TV_SHOW'],\r\n                                    genres: ['боевик','комедия', 'драма'],\r\n                                    countries: ['Россия','США'],\r\n                                    ratings: [7, 10],\r\n                                    years: [1990, 2021]\r\n                                }\r\n                            };\r\n\r\nconst initStore = {\r\n    films: [],\r\n    filteredFilms: [],\r\n    film: localStorage.getItem('film') ? JSON.parse(localStorage.getItem('film')) : null,\r\n    history: prepareList('history'),\r\n    blacklist: prepareList('blacklist'),\r\n    alreadySeen: prepareList('alreadySeen'),\r\n    temporary: { data: [], list: {} },\r\n    favorites: prepareList('favorites'),\r\n    settings: prepareSettings(),\r\n    isLoading: false,\r\n    notification: {message: '', description: ''},\r\n    error: null\r\n}\r\n\r\nexport default function filmReducer(store = initStore, action) {\r\n    switch (action.type) {\r\n        case LOAD_FILMS_STARTED: {\r\n            return update(store, {\r\n                isLoading: {\r\n                    $set: true\r\n                }\r\n            });\r\n        }\r\n        case LAZY_LOAD_STARTED: {\r\n            return update(store, {\r\n                isLazyLoading: {\r\n                    $set: true\r\n                }\r\n            });\r\n        }\r\n        case LAZY_LOAD_ENDED: {\r\n            return update(store, {\r\n                isLazyLoading: {\r\n                    $set: false\r\n                }\r\n            });\r\n        }\r\n        case LOAD_FILMS_FAILURE: {\r\n            return update(store, {\r\n                isLoading: {\r\n                    $set: false\r\n                },\r\n                error: {\r\n                    $set: action.error\r\n                }\r\n            });\r\n        }\r\n        case LOAD_FILMS: {\r\n            return update(store, {\r\n                films: {\r\n                    $set: [...action.films]\r\n                },\r\n                error: {\r\n                    $set: null\r\n                }\r\n            });\r\n        }\r\n        case ADD_FILMS: {\r\n            return update(store, {\r\n                films: {\r\n                    $set: [...store.films, ...action.films]\r\n                }\r\n            });\r\n        }\r\n        case SELECT_FILM: {\r\n            return update(store, {\r\n                film: {\r\n                    $set: { ...store.films[action.film] }\r\n                },\r\n                isLoading: {\r\n                    $set: false\r\n                },\r\n                error: {\r\n                    $set: null\r\n                }\r\n            });\r\n        }\r\n        case ADD_TO_HISTORY: {\r\n            return update(store, {\r\n                history: {\r\n                    $merge: {\r\n                        ...store.history,\r\n                        data: [\r\n                            ...store.history.data,\r\n                            {\r\n                                id: action.filmId,\r\n                                timestamp: Date.now(),\r\n                                status: 'ADDED',\r\n                            }\r\n                        ],\r\n                        list: {\r\n                            ...store.history.list,\r\n                            [action.filmId]: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case ADD_TO_BLACKLIST: {\r\n            return update(store, {\r\n                blacklist: {\r\n                    $merge: {\r\n                        ...store.blacklist,\r\n                        data: [\r\n                            ...store.blacklist.data,\r\n                            {\r\n                                id: action.filmId,\r\n                                timestamp: Date.now(),\r\n                                status: 'ADDED',\r\n                            }\r\n                        ],\r\n                        list: {\r\n                            ...store.blacklist.list,\r\n                            [action.filmId]: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case ADD_TO_TEMPORARY: {\r\n            return update(store, {\r\n                temporary: {\r\n                    $merge: {\r\n                        ...store.temporary,\r\n                        data: [\r\n                            ...store.temporary.data,\r\n                            {\r\n                                id: action.filmId,\r\n                                timestamp: Date.now(),\r\n                                status: 'ADDED',\r\n                            }\r\n                        ],\r\n                        list: {\r\n                            ...store.temporary.list,\r\n                            [action.filmId]: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case ADD_TO_ALREADY_SEEN: {\r\n            return update(store, {\r\n                alreadySeen: {\r\n                    $merge: {\r\n                        ...store.alreadySeen,\r\n                        data: [\r\n                            ...store.alreadySeen.data,\r\n                            {\r\n                                id: action.filmId,\r\n                                timestamp: Date.now(),\r\n                                status: 'ADDED',\r\n                            }\r\n                        ],\r\n                        list: {\r\n                            ...store.alreadySeen.list,\r\n                            [action.filmId]: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case ADD_TO_FAVORITES: {\r\n            return update(store, {\r\n                favorites: {\r\n                    $merge: {\r\n                        ...store.favorites,\r\n                        data: [\r\n                            ...store.favorites.data,\r\n                            {\r\n                                id: action.filmId,\r\n                                timestamp: Date.now(),\r\n                                status: 'ADDED',\r\n                            }\r\n                        ],\r\n                        list: {\r\n                            ...store.favorites.list,\r\n                            [action.filmId]: true\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case REMOVE_FROM_HISTORY: {\r\n            let deletedFilmIndex = store.history.data.findIndex(film => (film.id === action.filmId && film.timestamp === action.timestamp));\r\n            store.history.data.splice(deletedFilmIndex, 1);\r\n            store.history.list[action.filmId] = store.history.data.some(film => film.id === action.filmId);\r\n            return update(store, {\r\n                history: {\r\n                    $set: {...store.history}\r\n                }\r\n            });\r\n        }\r\n        case REMOVE_FROM_ALREADY_SEEN: {\r\n            let deletedFilmIndex = store.alreadySeen.data.findIndex(film => film.id === action.filmId);\r\n            store.alreadySeen.data.splice(deletedFilmIndex, 1);\r\n            delete store.alreadySeen.list[action.filmId];\r\n            return update(store, {\r\n                alreadySeen: {\r\n                    $set: {...store.alreadySeen}\r\n                }\r\n            });\r\n        }\r\n        case REMOVE_FROM_BLACKLIST: {\r\n            let deletedFilmIndex = store.blacklist.data.findIndex(film => film.id === action.filmId);\r\n            store.blacklist.data.splice(deletedFilmIndex, 1);\r\n            delete store.blacklist.list[action.filmId];\r\n            return update(store, {\r\n                blacklist: {\r\n                    $set: {...store.blacklist}\r\n                }\r\n            });\r\n        }\r\n        case REMOVE_FROM_TEMPORARY: {\r\n            let deletedFilmIndex = store.temporary.data.findIndex(film => film.id === action.filmId);\r\n            store.temporary.data.splice(deletedFilmIndex, 1);\r\n            delete store.temporary.list[action.filmId];\r\n            return update(store, {\r\n                temporary: {\r\n                    $set: {...store.temporary}\r\n                }\r\n            });\r\n        }\r\n        case REMOVE_FROM_FAVORITES: {\r\n            let deletedFilmIndex = store.favorites.data.findIndex(film => film.id === action.filmId);\r\n            store.favorites.data.splice(deletedFilmIndex, 1);\r\n            delete store.favorites.list[action.filmId];\r\n            return update(store, {\r\n                favorites: {\r\n                    $set: {...store.favorites}\r\n                }\r\n            });\r\n        }\r\n        case SHOW_NOTIFICATION: {\r\n            return update(store, {\r\n                notification: {\r\n                    $set: {\r\n                        message: action.message,\r\n                        description: action.description,\r\n                        type: action.notifyType\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case REMOVE_NOTIFICATION: {\r\n            return update(store, {\r\n                notification: {\r\n                    $set: {message: '', description: ''}\r\n                }\r\n            });\r\n        }\r\n        case CLEAR_LISTS: {\r\n            return update(store, {\r\n                history: {\r\n                    $set: prepareList('history')\r\n                },\r\n                favorites: {\r\n                    $set: prepareList('favorites')\r\n                },\r\n                alreadySeen: {\r\n                    $set: prepareList('alreadySeen')\r\n                },\r\n                blacklist: {\r\n                    $set: prepareList('blacklist')\r\n                },\r\n                temporary: {\r\n                    $set: prepareList('temporary')\r\n                }\r\n            });\r\n        }\r\n        case SET_SETTINGS: {\r\n            return update(store, {\r\n                settings: {\r\n                    $set: {\r\n                        dark: action.settings.dark,\r\n                        color: action.settings.color,\r\n                        filters: {\r\n                            types: [...action.settings.filters.types],\r\n                            ratings: [...action.settings.filters.ratings],\r\n                            years: [...action.settings.filters.years],\r\n                            genres: [...action.settings.filters.genres],\r\n                            countries: [...action.settings.filters.countries]\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        case CLEAR_SETTINGS: {\r\n            return update(store, {\r\n                settings: {\r\n                    $set: prepareSettings()\r\n                }\r\n            });\r\n        }\r\n        case SET_FILTERED_FILMS: {\r\n            return update(store, {\r\n                filteredFilms: {\r\n                    $set: [...action.films]\r\n                }\r\n            });\r\n        }\r\n        default:\r\n            return store;\r\n    }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { connectRouter } from 'connected-react-router';\r\n\r\nimport filmReducer from './filmReducer';\r\n\r\n// eslint-disable-next-line\r\nexport default history => combineReducers({\r\n    router: connectRouter(history),\r\n    filmReducer,\r\n});","import filmMiddleware from './filmMiddleware';\r\n\r\n// eslint-disable-next-line\r\nexport default [\r\n    filmMiddleware,\r\n];","// eslint-disable-next-line\r\nexport default store => next => action => {\r\n    return next(action);\r\n};","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { createBrowserHistory } from 'history';\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport RootReducers from './reducers';\r\nimport middlewares from './middlewares';\r\n\r\nexport const history = createBrowserHistory();\r\n\r\n// тернарник внутри compose не сработает\r\nconst composer = window.__REDUX_DEVTOOLS_EXTENSION__ ? compose(\r\n    applyMiddleware(routerMiddleware(history), thunk, ...middlewares),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n) : compose(\r\n    applyMiddleware(routerMiddleware(history), thunk, ...middlewares),\r\n);\r\n\r\nexport const store = createStore(\r\n    RootReducers(history),\r\n    composer,\r\n);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"antd/dist/antd.css\";\r\nimport { ConnectedRouter } from \"connected-react-router\";\r\nimport { Provider } from \"react-redux\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport \"./styles/styles.scss\";\r\n\r\nimport App from \"./App\";\r\nimport { store, history } from \"./store\";\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker.register('./serviceworker.js')\r\n    .then((reg) => console.log('Success: ', reg.scope))\r\n    .catch((err) => console.log('Failure: ', err))\r\n  })\r\n}\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n      <ConnectedRouter history={history}>\r\n        <App />\r\n      </ConnectedRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}